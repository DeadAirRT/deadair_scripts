<?xml version="1.0" encoding="utf-8"?>
<mdscript name="DeadAirDynamicUniverseMenus" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">
	<cues>
		<cue name="Init" instantiate="false">
			<actions>
				<!-- DONE: Check interval entries and convert as needed // I think all previous were converted into seconds and potentially running way too often if I didn't convert properly -->
				<!-- TODO: Debug message cleanup. Remove player.age and use %s -->
				<!-- DONE: Dynamic News options for notifications / logbook -->
				<!-- DONE: Gate menu -->
				<!-- TODO: Menu for tater lifetime profit -->
				<!-- TODO: Faction production estimation -->
				<!-- DONE: Test fill m3 removed, added, ships modded -->
				<!-- DONE: Improve handling of prices/favors for increase/decrease relations menus -->
				<!-- DONE: Jobs menu using md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction} -->
				<!-- TODO: BP menu -->
				<!-- TODO: New menu that goes through all sectors, displays balance of threatscore for purpose fight ships. -->
				<set_value name="md.$DAMenuVarTable" exact="table[]"/>
				<!-- Shortcut entries -->
				<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
				<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
				<set_value name="$DAGVT" exact="global.$DAVarTable"/>
				<!-- Debug Var -->
				<set_value name="$DAMVT.$DAMenuDebugEnable" exact="true"/>
				<!-- Dynamic War -->
				<set_value name="$DAMVT.$DWMilStrengthHistory" exact="table[]"/>
				<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
				<set_value name="$DAMVT.$DWEcoStrengthHistory" exact="table[]"/>
				<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
				<!-- Info -->
				<set_value name="$DAMVT.$TPSortByName" exact="false"/>
				<!-- 20240402 Improved handling of relation change costs -->
				<set_value name="$WhatFactions" exact="'All'"/>
				<include_actions ref="Library_DAMenuGetFactions"/>
				<!-- 20240717 Updating for new colors. Properly adding should allow user to change -->
				<set_value name="$DAMVT.$TextGreen" exact="'Color.da_text_green'"/>
				<set_value name="$DAMVT.$TextRed" exact="'Color.da_text_red'"/>
				<set_value name="$DAMVT.$TextBlue" exact="'Color.da_text_blue'"/>
				<set_value name="$DAMVT.$TextWhite" exact="'Color.da_text_white'"/>
				<set_value name="$DAMVT.$ButtonHighlight" exact="'Color.da_button_highlight'"/>
				<set_value name="$DAMVT.$MarkerTransparent" exact="'Color.da_marker_transparent'"/>
				<set_value name="$DAMVT.$FillTransparent" exact="'Color.da_transparent'"/>
				<set_value name="$DAMVT.$FillRedDark" exact="'Color.da_red_dark'"/>
				<set_value name="$DAMVT.$FillRed" exact="'Color.da_red'"/>
				<set_value name="$DAMVT.$FillRedBright" exact="'Color.da_red_bright'"/>
				<set_value name="$DAMVT.$FillGreenDark" exact="'Color.da_green_dark'"/>
				<set_value name="$DAMVT.$FillGreen" exact="'Color.da_green'"/>
				<set_value name="$DAMVT.$FillGreenBright" exact="'Color.da_green_bright'"/>
				<set_value name="$DAMVT.$FillYellowDark" exact="'Color.da_yellow_dark'"/>
				<set_value name="$DAMVT.$FillYellow" exact="'Color.da_yellow'"/>
				<set_value name="$DAMVT.$FillYellowBright" exact="'Color.da_yellow_bright'"/>
				<set_value name="$DAMVT.$FillBlueDark" exact="'Color.da_blue_dark'"/>
				<set_value name="$DAMVT.$FillBlue" exact="'Color.da_blue'"/>
				<set_value name="$DAMVT.$FillBlueBright" exact="'Color.da_blue_bright'"/>
				<set_value name="$DAMVT.$FillOrangeDark" exact="'Color.da_orange_dark'"/>
				<set_value name="$DAMVT.$FillOrange" exact="'Color.da_orange'"/>
				<set_value name="$DAMVT.$FillOrangeBright" exact="'Color.da_orange_bright'"/>
				<set_value name="$DAMVT.$HeaderBackgroundBright" exact="'Color.da_headerbackground_bright'"/>
				<set_value name="$DAMVT.$HeaderBackgroundDark" exact="'Color.da_headerbackground_dark'"/>
				<set_value name="$DAMVT.$BodyBackgroundBright" exact="'Color.da_bodybackground_bright'"/>
				<set_value name="$DAMVT.$BodyBackgroundDark" exact="'Color.da_bodybackground_dark'"/>
				<set_value name="$DAMVT.$DAStationCalcTable" exact="table[]"/>
				<set_value name="$DAMVT.$DAStationCalcListOfAvailableModules" exact="[]"/>
				<set_value name="$DAMVT.$DAStationModules" exact="table[]"/>
				<set_value name="$DAMVT.$DAStationModules.$Selected" exact="table[]"/>
				<set_value name="$DAMVT.$DAStationModules.$Order" exact="[]"/>
				<set_value name="$DAMVT.$DAStationModules.$Dropdown" exact="[]"/>
				<set_value name="$DAMVT.$DAStationModules.$Workforce" exact="false"/>
				<set_value name="$DAMVT.$DAStationModules.$Secondary" exact="false"/>
				<set_value name="$DAMVT.$DAStationModules.$Products" exact="table[]"/>
				<set_value name="$DAMVT.$DAStationModules.$Resources" exact="table[]"/>
				<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs" exact="table[]"/>
			</actions>
			<cues>
				<cue name="DeadAirMenu">
					<actions>
						<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
						<!-- This cue runs after init and is primarily used for variable storage for options selection -->
					</actions>
				</cue>
				<cue name="VerifyVariablesExist" instantiate="false">
					<conditions>
						<check_any>
							<event_universe_generated/>
							<event_game_loaded/>
							<event_cue_signalled/>
						</check_any>
					</conditions>
					<actions>
						<set_value name="$MissingVarCount" exact="0"/>
						<do_if value="(not md.$DAMenuVarTable?) or (md.$DAMenuVarTable == null)">
							<set_value name="md.$DAMenuVarTable" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DADVT?) or ($DADVT == null)">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT?) or ($DAMVT == null)">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAGVT?) or ($DAGVT == null)">
							<set_value name="$DAGVT" exact="global.$DAVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$DAMenuDebugEnable?) or (not ((typeof $DAMVT.$DAMenuDebugEnable == datatype.integer) and (($DAMVT.$DAMenuDebugEnable == 1) or ($DAMVT.$DAMenuDebugEnable == 0))))">
							<set_value name="$DAMVT.$DAMenuDebugEnable" exact="true"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$DWMilStrengthHistory?) or ($DAMVT.$DWMilStrengthHistory == null)">
							<set_value name="$DAMVT.$DWMilStrengthHistory" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$InfoMilDisplayOption?) or (not (typeof $DAMVT.$InfoMilDisplayOption == datatype.integer))">
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$DWEcoStrengthHistory?) or ($DAMVT.$DWEcoStrengthHistory == null)">
							<set_value name="$DAMVT.$DWEcoStrengthHistory" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$InfoEcoDisplayOption?) or (not (typeof $DAMVT.$InfoEcoDisplayOption == datatype.integer))">
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<set_value name="$DAMVT.$TextGreen" exact="'Color.da_text_green'"/>
						<set_value name="$DAMVT.$TextRed" exact="'Color.da_text_red'"/>
						<set_value name="$DAMVT.$TextBlue" exact="'Color.da_text_blue'"/>
						<set_value name="$DAMVT.$TextWhite" exact="'Color.da_text_white'"/>
						<set_value name="$DAMVT.$ButtonHighlight" exact="'Color.da_button_highlight'"/>
						<set_value name="$DAMVT.$MarkerTransparent" exact="'Color.da_marker_transparent'"/>
						<set_value name="$DAMVT.$FillTransparent" exact="'Color.da_transparent'"/>
						<set_value name="$DAMVT.$FillRedDark" exact="'Color.da_red_dark'"/>
						<set_value name="$DAMVT.$FillRed" exact="'Color.da_red'"/>
						<set_value name="$DAMVT.$FillRedBright" exact="'Color.da_red_bright'"/>
						<set_value name="$DAMVT.$FillGreenDark" exact="'Color.da_green_dark'"/>
						<set_value name="$DAMVT.$FillGreen" exact="'Color.da_green'"/>
						<set_value name="$DAMVT.$FillGreenBright" exact="'Color.da_green_bright'"/>
						<set_value name="$DAMVT.$FillYellowDark" exact="'Color.da_yellow_dark'"/>
						<set_value name="$DAMVT.$FillYellow" exact="'Color.da_yellow'"/>
						<set_value name="$DAMVT.$FillYellowBright" exact="'Color.da_yellow_bright'"/>
						<set_value name="$DAMVT.$FillBlueDark" exact="'Color.da_blue_dark'"/>
						<set_value name="$DAMVT.$FillBlue" exact="'Color.da_blue'"/>
						<set_value name="$DAMVT.$FillBlueBright" exact="'Color.da_blue_bright'"/>
						<set_value name="$DAMVT.$FillOrangeDark" exact="'Color.da_orange_dark'"/>
						<set_value name="$DAMVT.$FillOrange" exact="'Color.da_orange'"/>
						<set_value name="$DAMVT.$FillOrangeBright" exact="'Color.da_orange_bright'"/>
						<set_value name="$DAMVT.$HeaderBackgroundBright" exact="'Color.da_headerbackground_bright'"/>
						<set_value name="$DAMVT.$HeaderBackgroundDark" exact="'Color.da_headerbackground_dark'"/>
						<set_value name="$DAMVT.$BodyBackgroundBright" exact="'Color.da_bodybackground_bright'"/>
						<set_value name="$DAMVT.$BodyBackgroundDark" exact="'Color.da_bodybackground_dark'"/>
						<do_if value="(not $DAMVT.$DAStationCalcTable?) or ($DAMVT.$DAStationCalcTable == null)">
							<set_value name="$DAMVT.$DAStationCalcTable" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$DAStationCalcListOfAvailableModules?) or ($DAMVT.$DAStationCalcListOfAvailableModules == null)">
							<set_value name="$DAMVT.$DAStationCalcListOfAvailableModules" exact="[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="(not $DAMVT.$DAStationModules?) or ($DAMVT.$DAStationModules == null)">
							<set_value name="$DAMVT.$DAStationModules" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Selected" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Order" exact="[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Dropdown" exact="[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Workforce" exact="false"/>
							<set_value name="$DAMVT.$DAStationModules.$Secondary" exact="false"/>
							<set_value name="$DAMVT.$DAStationModules.$Products" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Resources" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<!-- Print only if missing -->
						<do_if value="$MissingVarCount">
							<debug_text text="'MOD: DAMenus -- Number of missing variables set: %s.'.[$MissingVarCount]" context="true" filter="error"/>
						</do_if>
						<remove_value name="$MissingVarCount"/>
						<reset_cue cue="this"/>
					</actions>
				</cue>
				<!--
					Menu Structure:
						DA Mod Menu (Main Menu)
							DA Dynamic War
							DA Dynamic News
							DA Evolution
							DA Fill
							DA Jobs
				-->
				<!-- Register Menus -->
				<cue name="Register_Options_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled cue="md.Simple_Menu_API.Reloaded"/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[$id = 'da_mod_menu', $columns = 2, $title = {33232474,100}, $onOpen  = DA_Mod_Menu ]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_dynamicwar_menu',
								$columns = 8, 
								$title   = {33232474,101},
								$onOpen  = DA_DynamicWar_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_dynamicnews_menu',
								$columns = 8, 
								$title   = {33232474,102},
								$onOpen  = DA_DynamicNews_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_evolution_menu',
								$columns = 8, 
								$title   = {33232474,103},
								$onOpen  = DA_Evolution_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_fill_menu',
								$columns = 8, 
								$title   = {33232474,104},
								$onOpen  = DA_Fill_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_jobs_menu',
								$columns = 8, 
								$title   = {33232474,105},
								$onOpen  = DA_Jobs_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_gate_menu',
								$columns = 8, 
								$title   = {33232474,106},
								$onOpen  = DA_Gate_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_god_menu',
								$columns = 8, 
								$title   = {33232474,107},
								$onOpen  = DA_God_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_bp_menu',
								$columns = 8, 
								$title   = {33232474,108},
								$onOpen  = DA_BP_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_information_menu',
								$columns = 8, 
								$title   = {33232474,400},
								$onOpen  = DA_Information_Menu,
								$private = 1,
							]"/>
						<!-- Dynamic War Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_increaserelations',
								$columns = 12, 
								$title   = {33232474,110},
								$onOpen  = Menu_DynamicWar_IncreaseRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_decreaserelations',
								$columns = 12, 
								$title   = {33232474,111},
								$onOpen  = Menu_DynamicWar_DecreaseRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_unlockrelations',
								$columns = 8, 
								$title   = {33232474,118},
								$onOpen  = Menu_DynamicWar_UnlockRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_ignoredfactions',
								$columns = 8, 
								$title   = {33232474,119},
								$onOpen  = Menu_DynamicWar_IgnoredFactions,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_spacefactionlogic',
								$columns = 8, 
								$title   = {33232474,145},
								$onOpen  = Menu_DynamicWar_SpaceFactionLogic,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_warhistory',
								$columns = 12, 
								$title   = {33232474,144},
								$onOpen  = Menu_DynamicWar_WarHistory,
								$private = 1,
							]"/>
						<!-- Dynamic News Menus -->
						<!-- DA Evolution Menus -->
						<!-- DA Fill Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_fill_factions',
								$columns = 8, 
								$title   = {33232474,212},
								$onOpen  = Menu_Fill_Factions,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_fill_statistics',
								$columns = 8, 
								$title   = {33232474,213},
								$onOpen  = Menu_Fill_Statistics,
								$private = 1,
							]"/>
						<!-- DA Jobs Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_jobs_quotas',
								$columns = 8, 
								$title   = {33232474,245},
								$onOpen  = Menu_Jobs_Quotas,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_jobs_togglespawned',
								$columns = 8, 
								$title   = {33232474,261},
								$onOpen  = Menu_Jobs_ToggleSpawned,
								$private = 1,
							]"/>
						<!-- DA God Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_god_quotas',
								$columns = 8, 
								$title   = {33232474,349},
								$onOpen  = Menu_God_Quotas,
								$private = 1,
							]"/>
						<!-- BP Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress',
								$columns = 8, 
								$title   = {33232474,381},
								$onOpen  = Menu_BP_Progress,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_modules',
								$columns = 8, 
								$title   = {33232474,382},
								$onOpen  = Menu_BP_Progress_Modules,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_ships',
								$columns = 8, 
								$title   = {33232474,383},
								$onOpen  = Menu_BP_Progress_Ships,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_equipment',
								$columns = 8, 
								$title   = {33232474,384},
								$onOpen  = Menu_BP_Progress_Equipment,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_misc',
								$columns = 8, 
								$title   = {33232474,388},
								$onOpen  = Menu_BP_Progress_Misc,
								$private = 1,
							]"/>
						<!-- Information Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_milstrength',
								$columns = 10, 
								$title   = {33232474,401},
								$onOpen  = Menu_Information_MilStrength,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_econstrength',
								$columns = 10, 
								$title   = {33232474,402},
								$onOpen  = Menu_Information_EconStrength,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_econdetails',
								$columns = 12, 
								$title   = {33232474,403},
								$onOpen  = Menu_Information_EconDetails,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_resourcefullness',
								$columns = 12, 
								$title   = {33232474,404},
								$onOpen  = Menu_Information_ResourceFullness,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_productioncount',
								$columns = 12, 
								$title   = {33232474,405},
								$onOpen  = Menu_Information_ProductionCount,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_traderprofit',
								$columns = 12, 
								$title   = {33232474,406},
								$onOpen  = Menu_Information_TraderProfit,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_shipbreakdown',
								$columns = 8, 
								$title   = {33232474,408},
								$onOpen  = Menu_Information_ShipBreakdown,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_sectorbreakdown',
								$columns = 10, 
								$title   = {33232474,409},
								$onOpen  = Menu_Information_SectorBreakdown,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_stationcalculator',
								$columns = 12, 
								$title   = {33232474,410},
								$onOpen  = Menu_Information_StationCalculator,
								$private = 1,
							]"/>
					</actions>
				</cue>
				<!-- DA Mod Menu -->
				<cue name="DA_Mod_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.VerifyVariablesExist"/>
						<signal_cue_instantly cue="VerifyVariablesExist"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,101}, $id='da_dynamicwar_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,102}, $id='da_dynamicnews_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,103}, $id='da_evolution_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,104}, $id='da_fill_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,105}, $id='da_jobs_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,106}, $id='da_gate_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,107}, $id='da_god_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,108}, $id='da_bp_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,400}, $id='da_information_menu']"/>
					</actions>
				</cue>
				<!-- Dynamic War Menus -->
				<cue name="DA_DynamicWar_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $DADVT.$DADynamicWarEnable // $DADVT.$DADynamicWarFavorsEnable // $DADVT.$DADynamicWarInterval // $DADVT.$DADynamicWarEventWeights // $DADVT.$DADynamicWarPrimaryRaceModifier // 
								$DADVT.$DADynamicWarCurrentRelationsModifier // $DADVT.$DADynamicWarCollectiveRelationsModifier // $DADVT.$DADynamicWarFlavorEnable // $DADVT.$DADynamicWarDetailedDebug //
								$DADVT.$DADynamicWarDisabledFactions // $DADVT.$DADynamicWarLockedRelationFactions -->
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,101},{33232474,117}]" comment="DA Dynamic War Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,123},
								$mouseOverText = {33232474,1123},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1123},
								$onClick = ExecuteOption_DynamicWarEnable,
								$onRightClick = ExecuteOption_DynamicWarEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,124},
								$mouseOverText = {33232474,1124},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarFavorsEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarFavorsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1124},
								$onClick = ExecuteOption_DynamicWarFavorsEnable,
								$onRightClick = ExecuteOption_DynamicWarFavorsEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,142},
								$mouseOverText = {33232474,1142},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarRelationsFixEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarRelationsFixEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1142},
								$onClick = ExecuteOption_DynamicWarRelationsFixEnable,
								$onRightClick = ExecuteOption_DynamicWarRelationsFixEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,125},
									$mouseOverText = {33232474,1125},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<set_value name="$LocMax" exact="[120,$DADVT.$DADynamicWarInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarInterval,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarInterval,
									$step = 5,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,126},
									$mouseOverText = {33232474,1126},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBesties,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{1},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,127},
									$mouseOverText = {33232474,1127},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBigBoost,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{2},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,128},
									$mouseOverText = {33232474,1128},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightSmallBoost,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{3},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,129},
									$mouseOverText = {33232474,1129},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightSmallBlow,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{4},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,130},
									$mouseOverText = {33232474,1130},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBigBlow,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{5},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,131},
									$mouseOverText = {33232474,1131},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightNemesis,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{6},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,132},
									$mouseOverText = {33232474,1132},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightNothing,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{7},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,133},
									$mouseOverText = {33232474,1133},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarPrimaryRaceModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarPrimaryRaceModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,134},
									$mouseOverText = {33232474,1134},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarCurrentRelationsModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarCurrentRelationsModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,135},
									$mouseOverText = {33232474,1135},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarCollectiveRelationsModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarCollectiveRelationsModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,136},
									$mouseOverText = {33232474,1136},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarFlavorEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarFlavorEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1136},
									$onClick = ExecuteOption_DynamicWarFlavorEnable,
									$onRightClick = ExecuteOption_DynamicWarFlavorEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,143},
									$mouseOverText = {33232474,1143},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarPossibleFactionsPerEvent,
									$min = 0,
									$minSelect = 1,
									$max = 10,
									$maxSelect = 10,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarPossibleFactionsPerEvent,
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,146},
									$mouseOverText = {33232474,1146},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarStatTracking then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarStatTracking then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1146},
									$onClick = ExecuteOption_EnableSimplfied,
									$onRightClick = ExecuteOption_EnableSimplfied,
									$echo = ['DADVT','$DADynamicWarStatTracking',$DADVT.$DADynamicWarStatTracking]
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,147},
									$mouseOverText = {33232474,1147},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable and $DADVT.$DADynamicWarStatTracking">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarFatigue then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarFatigue then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1147},
									$onClick = ExecuteOption_EnableSimplfied,
									$onRightClick = ExecuteOption_EnableSimplfied,
									$echo = ['DADVT','$DADynamicWarFatigue',$DADVT.$DADynamicWarFatigue]
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,137},
									$mouseOverText = {33232474,1137},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1137},
									$onClick = ExecuteOption_DynamicWarDebugEnable,
									$onRightClick = ExecuteOption_DynamicWarDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,101},{1001,4836}]" comment="DA Dynamic War Menus"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,110}, $id='menu_dynamicwar_increaserelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,111}, $id='menu_dynamicwar_decreaserelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,118}, $id='menu_dynamicwar_unlockrelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,119}, $id='menu_dynamicwar_ignoredfactions']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,145}, $id='menu_dynamicwar_spacefactionlogic']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,144}, $id='menu_dynamicwar_warhistory']"/>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_IncreaseRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'ChangeRelations'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 4, $halign = 'center', $text = {1001,9928}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Relations"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1001,2926}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Price"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction != null">
							<do_all exact="$FactionList.count" counter="$A">
								<set_value name="$DADynamicWarFactionOne" exact="$DAMVT.$DAMenuSelectedFaction"/>
								<set_value name="$DADynamicWarFactionTwo" exact="$FactionList.{$A}"/>
								<set_value name="$DADynamicWarPlayerInvolved" exact="($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player)"/>
								<do_if value="($DADynamicWarFactionOne != $DADynamicWarFactionTwo) and ($DADynamicWarFactionTwo.isactive) and (not $ExcludedFactions.indexof.{$DADynamicWarFactionTwo})">
									<!-- Faction name - Current Relations - Increase Relations Option - Cost - Buy +5 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
									<!-- $col 1 + 2 + 3 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DADynamicWarFactionTwo.knownname, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
									<!-- $col 4 & $col 5 + 6 + 7 -->
									<include_actions ref="Library_FactionRelationBar"/>
									<!-- 20240309 reworking section to account for relfix and be easier to read
										If either is player then le 30
										elseif neither is player then
											If $DADVT.$DADynamicWarRelationsFixEnable then le $DADVT.$DADynamicWarRelationsAILimit
											else le 30
									-->
									<do_if value="$DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked">
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Relation locked -->
										<do_if value="$DADynamicWarFactionOne.isrelationlocked">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionOne.knownname,{33232474,2110}], $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relation Locked"/>
										</do_if>
										<do_elseif value="$DADynamicWarFactionTwo.isrelationlocked">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionTwo.knownname,{33232474,2110}], $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relation Locked"/>
										</do_elseif>
									</do_if>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 gt 30) or ((not $DADynamicWarPlayerInvolved) and $DADVT.$DADynamicWarRelationsFixEnable and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 gt $DADynamicWarFactionOne.relation.{$DADVT.$DADynamicWarRelationsAILimit}.uivalue))">
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Too high -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {33232474,2114}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relation too high."/>
									</do_elseif>
									<do_elseif value="($DADynamicWarPlayerInvolved and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le 30)) or ((not $DADynamicWarPlayerInvolved) and $DADVT.$DADynamicWarRelationsFixEnable and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le $DADynamicWarFactionOne.relation.{$DADVT.$DADynamicWarRelationsAILimit}.uivalue)) or ((not $DADynamicWarPlayerInvolved) and (not $DADVT.$DADynamicWarRelationsFixEnable) and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le 30))">
										<!-- 20240402 Rewrite Cost Calc -->
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Library_RelationIncreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $IncCost -->
										<include_actions ref="Library_RelationIncreaseCost"/>
										<do_if value="$IncCost?">
											<!-- Determine if using a favor -->
											<set_value name="$UseFavor" exact="false"/>
											<do_if value="($IncCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionOne"/>
											</do_if>
											<do_elseif value="($IncCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionTwo"/>
											</do_elseif>
											<!-- Set text for button -->
											<do_if value="typeof $UseFavor == datatype.faction">
												<set_value name="$LocText" exact="'%s +5 %s (1 %s %s)'.[{1001,2701},{1001,7749},$UseFavor.shortname,{33232474,2115}]" comment="Buy +5 Relation (1 FAC Diplomatic Favor)"/>
											</do_if>
											<do_elseif value="player.money ge $IncCost">
												<set_value name="$LocText" exact="'%s +5 %s (%s)'.[{1001,2701},{1001,7749},$IncCost.formatted.{'%s %Cr'}]" comment="Buy +5 Relation (Cost)"/>
											</do_elseif>
											<do_elseif value="player.money lt $IncCost">
												<set_value name="$LocText" exact="null"/>
											</do_elseif>
											<!-- Button if valid, Text if invalid -->
											<do_if value="$LocText? and ($LocText != null)">
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
													$col = 8,
													$colSpan = 5,
													$text = table[
													  $text   =  $LocText, 
													  $color  = $DAMVT.$TextGreen,
													  $halign = 'center',
													],
													$highlightColor = $DAMVT.$ButtonHighlight,
													$onClick = ExecuteOption_RelationsIncrease,
													$onRightClick = ExecuteOption_RelationsIncrease,
													$echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$IncCost],
													]"/>
											</do_if>
											<do_else>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1015,28}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Insufficient funds"/>
											</do_else>
											<remove_value name="$UseFavor"/>
											<remove_value name="$LocText"/>
										</do_if>
										<remove_value name="$IncCost"/>
									</do_elseif>
									<do_else>
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1037,3006}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Impossible"/>
									</do_else>
								</do_if>
								<remove_value name="$DADynamicWarFactionOne"/>
								<remove_value name="$DADynamicWarFactionTwo"/>
								<remove_value name="$DADynamicWarPlayerInvolved"/>
							</do_all>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_DecreaseRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'ChangeRelations'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 4, $halign = 'center', $text = {1001,9928}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Relations"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 2, $halign = 'center', $text = {1001,2926}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Price"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction != null">
							<do_all exact="$FactionList.count" counter="$A">
								<set_value name="$DADynamicWarFactionOne" exact="$DAMVT.$DAMenuSelectedFaction"/>
								<set_value name="$DADynamicWarFactionTwo" exact="$FactionList.{$A}"/>
								<do_if value="($DADynamicWarFactionOne != $DADynamicWarFactionTwo) and ($DADynamicWarFactionTwo.isactive) and (not $ExcludedFactions.indexof.{$DADynamicWarFactionTwo})">
									<!-- Faction name - Current Relations - Decrease Relations Option - Cost - Buy -5 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
									<!-- $col 1 + 2 + 3 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DADynamicWarFactionTwo.knownname, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
									<!-- $col 4 & $col 5 + 6 + 7 -->
									<include_actions ref="Library_FactionRelationBar"/>
									<do_if value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and (($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue * -1) le $DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{faction.player}}.uivalue) and (not ($DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked))">
										<!-- 20240402 Rewrite Cost Calc -->
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Library_RelationDecreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $DecCost -->
										<include_actions ref="Library_RelationDecreaseCost"/>
										<do_if value="$DecCost?">
											<!-- Determine if using a favor -->
											<set_value name="$UseFavor" exact="false"/>
											<do_if value="($DecCost == 0) and (($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player))">
												<set_value name="$UseFavor" exact="false"/>
											</do_if>
											<do_elseif value="($DecCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionOne"/>
											</do_elseif>
											<do_elseif value="($DecCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionTwo"/>
											</do_elseif>
											<!-- Set text for button -->
											<do_if value="typeof $UseFavor == datatype.faction">
												<set_value name="$LocText" exact="'%s -5 %s (1 %s %s)'.[{1001,2701},{1001,7749},$UseFavor.shortname,{33232474,2115}]" comment="Buy -5 Relation (1 FAC Diplomatic Favor)"/>
											</do_if>
											<do_elseif value="player.money ge $DecCost">
												<set_value name="$LocText" exact="'%s -5 %s (%s)'.[{1001,2701},{1001,7749},$DecCost.formatted.{'%s %Cr'}]" comment="Buy -5 Relation (Cost)"/>
											</do_elseif>
											<do_elseif value="player.money lt $DecCost">
												<set_value name="$LocText" exact="null"/>
											</do_elseif>
											<!-- Button if valid, Text if invalid -->
											<do_if value="$LocText? and ($LocText != null)">
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
													$col = 8,
													$colSpan = 5,
													$text = table[
													  $text   =  $LocText, 
													  $color  = $DAMVT.$TextGreen,
													  $halign = 'center',
													],
													$highlightColor = $DAMVT.$ButtonHighlight,
													$onClick = ExecuteOption_RelationsDecrease,
													$onRightClick = ExecuteOption_RelationsDecrease,
													$echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$DecCost],
													]"/>
											</do_if>
											<do_else>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1015,28}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Insufficient funds"/>
											</do_else>
											<remove_value name="$UseFavor"/>
											<remove_value name="$LocText"/>
										</do_if>
										<remove_value name="$DecCost"/>
									</do_if>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and (not (($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue * -1) le $DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{faction.player}}.uivalue)) and (not ($DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked))">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {33232474,120}, $mouseOverText = {33232474,1120} + $DADynamicWarFactionOne.knownname, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Insufficient Relation"/>
									</do_elseif>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and ($DADynamicWarFactionOne.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionOne.knownname,{33232474,2110}], $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relation Locked"/>
									</do_elseif>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and ($DADynamicWarFactionTwo.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionTwo.knownname,{33232474,2110}], $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relation Locked"/>
									</do_elseif>
									<do_else>
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1037,3006}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Impossible"/>
									</do_else>
								</do_if>
							</do_all>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_UnlockRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {33232474,138} + ' / ' + {33232474,139}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Locked / Unlocked"/>
						<do_if value="$FactionList.count">
							<do_for_each name="$DARelUnlFaction" in="$FactionList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DARelUnlFaction.knownname, $mouseOverText = {33232474,1118}, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 4,
									$colSpan = 5,
									$text = table[
									  $text   =  if $DARelUnlFaction.isrelationlocked then {33232474,138} else {33232474,139}, 
									  $color  =  if $DARelUnlFaction.isrelationlocked then $DAMVT.$TextRed else $DAMVT.$TextGreen,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1118},
									$onClick = ExecuteOption_UnlockRelations,
									$onRightClick = ExecuteOption_UnlockRelations,
									$echo = $DARelUnlFaction,
									]"/>
							</do_for_each>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_IgnoredFactions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<!-- $DADVT.$DADynamicWarDisabledFactions // $DADVT.$DADynamicWarPermaExcludedFactions -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {33232474,140} + ' / ' + {33232474,141}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Allowed / Ignored"/>
						<do_if value="$FactionList.count">
							<do_for_each name="$DAIgnFaction" in="$FactionList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DAIgnFaction.knownname, $mouseOverText = {33232474,1119}, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
								<do_if value="(not $DADVT.$DADynamicWarPermaExcludedFactions.indexof.{$DAIgnFaction}) and (not $DAIgnFaction.isrelationlocked) and ($DAIgnFaction.isactive) and ($DAIgnFaction.willclaimspace)">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 4,
										$colSpan = 5,
										$text = table[
										  $text   =  if $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnFaction} then {33232474,141} else {33232474,140}, 
										  $color  =  if $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnFaction} then $DAMVT.$TextRed else $DAMVT.$TextGreen,
										  $halign = 'center',
										],
										$highlightColor = $DAMVT.$ButtonHighlight,
										$mouseOverText = {33232474,1119},
										$onClick = ExecuteOption_IgnoredFactions,
										$onRightClick = ExecuteOption_IgnoredFactions,
										$echo = $DAIgnFaction,
										]"/>
								</do_if>
								<do_elseif value="(not $DADVT.$DADynamicWarPermaExcludedFactions.indexof.{$DAIgnFaction})">
									<do_if value="(not $DAIgnFaction.isactive)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,43} + ' ' + {1001,12208}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Faction Inactive"/>
									</do_if>
									<do_elseif value="($DAIgnFaction.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,9928} + ' ' + {33232474,138}, $mouseOverText = {33232474,1138}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Relations Locked"/>
									</do_elseif>
									<do_elseif value="(not $DAIgnFaction.willclaimspace)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,7784}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="This faction does not seek to claim sector ownership."/>
									</do_elseif>
								</do_elseif>
								<do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,39}, $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
								</do_else>
							</do_for_each>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_SpaceFactionLogic" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $halign = 'center', $text = {1001,11284}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Sector"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $halign = 'center', $text = {1001,4825} + ' / ' + {1001,8942}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Enabled / Disabled"/>
						<find_sector name="$DAFLSectors" space="player.galaxy" multiple="true"/>
						<do_if value="$DAFLSectors.count">
							<sort_list list="$DAFLSectors" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$DAFLSector" in="$DAFLSectors">
								<set_value name="$FLAllowed" exact="true"/>
								<do_if value="not $DAFLSector.cluster.factionlogic">
									<set_value name="$FLAllowed" exact="false"/>
								</do_if>
								<do_if value="not $DAFLSector.factionlogic">
									<set_value name="$FLAllowed" exact="false"/>
								</do_if>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $halign = 'left', $text = $DAFLSector.knownname, $mouseOverText = {33232474,1145}, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 6,
									$colSpan = 3,
									$text = table[
									  $text   =  if $FLAllowed then {1001,4825} else {1001,8942}, 
									  $color  =  if $FLAllowed then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1145},
									$onClick = ExecuteOption_ToggleFactionLogic,
									$onRightClick = ExecuteOption_ToggleFactionLogic,
									$echo = [$DAFLSector,$FLAllowed],
									]"/>
								<remove_value name="$FLAllowed"/>
								<remove_value name="$LocText"/>
							</do_for_each>
						</do_if>
						<remove_value name="$DAFLSectors"/>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_WarHistory" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<!-- Col: 12 -->
						<!--	1+2+3 = empty
								4+5+6+7+8+9 = Current War
								10+11+12 = empty -->
						<set_value name="$LocText" exact="'%s %s'.[{30610,3303},{1001,2500}]" comment="War Statistics"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 6, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="War Statistics"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DADVT.$DADynamicWarResultsTable.keys.count">
							<!-- $DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}.{$WarStart} == [$LocFacOneData.clone,$LocFacTwoData.clone] -->
							<!-- $LocFacData == [$LocFatigue,$LocWarScore,$MilKills,$CivKills,$StationKills,$MilXLKill,$MilLKill,$MilMKill,$MilSKill,$CivXLKill,$CivLKill,$CivMKill,$CivSKill,$TimeEnded] -->
							<set_value name="$LocAlreadyPrintedTable" exact="table[]"/>
							<set_value name="$LocFacList" exact="$DADVT.$DADynamicWarResultsTable.keys.list"/>
							<sort_list list="$LocFacList" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFacOne" in="$LocFacList">
								<do_if value="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}? and $DADVT.$DADynamicWarResultsTable.{$LocFacOne}.keys.count">
									<set_value name="$LocFacList2" exact="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}.keys.list"/>
									<sort_list list="$LocFacList2" sortbyvalue="loop.element.knownname"/>
									<do_for_each name="$LocFacTwo" in="$LocFacList2">
										<do_if value="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}? and $DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}.keys.count">
											<do_all exact="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}.keys.count" counter="$WarCounter">
												<set_value name="$WarStartTime" exact="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}.keys.list.{$WarCounter}"/>
												<do_if value="(not $LocAlreadyPrintedTable.{$LocFacOne}?) or (not $LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}?) or (not $LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}.indexof.{$WarStartTime})">
													<!-- 1+2+3+4+5+6 = LocFacOne	7+8+9+10+11+12 = LocFacTwo -->
													<!-- all = WarName -->
													<!-- 1+2+3+4 = War Fatigue:		5+6 = #		7+8+9+10 = War Fatigue:		11+12 = # -->
													<!-- 1+2+3+4 = War Score:		5+6 = #		7+8+9+10 = War Score:		11+12 = # -->
													<!-- all = MilKills -->
													<!-- 1+2 = Total:#		3+4+5+6 = XL:#/L:#/M:#/S:#		7+8 = Total:#		9+10+11+12 = #:S/#:M/#:L/#:XL -->
													<!-- all = CivKills -->
													<!-- 1+2 = Total:#		3+4+5+6 = XL:#/L:#/M:#/S:#		7+8 = Total:#		9+10+11+12 = #:S/#:M/#:L/#:XL -->
													<!-- 1+2+3+4 = Sta Killed:		5+6 = #		7+8+9+10 = Sta Killed:		11+12 = # -->
													<set_value name="$TableShortcut" exact="$DADVT.$DADynamicWarResultsTable.{$LocFacOne}.{$LocFacTwo}.{$WarStartTime}"/>
													<set_value name="$LocFatigue" exact="[$TableShortcut.{1}.{1},$TableShortcut.{2}.{1}]"/>
													<set_value name="$LocWarScore" exact="[$TableShortcut.{1}.{2},$TableShortcut.{2}.{2}]"/>
													<set_value name="$LocTotalWarScore" exact="$LocWarScore.{1} + $LocWarScore.{2}"/>
													<set_value name="$LocMilKills" exact="[$TableShortcut.{1}.{3},$TableShortcut.{2}.{3}]"/>
													<set_value name="$LocCivKills" exact="[$TableShortcut.{1}.{4},$TableShortcut.{2}.{4}]"/>
													<set_value name="$LocStationKills" exact="[$TableShortcut.{1}.{5},$TableShortcut.{2}.{5}]"/>
													<set_value name="$LocTotalKills" exact="$LocMilKills.{1} + $LocMilKills.{2} + $LocCivKills.{1} + $LocCivKills.{2} + $LocStationKills.{1} + $LocStationKills.{2}"/>
													<set_value name="$LocMilXLKills" exact="[$TableShortcut.{1}.{6},$TableShortcut.{2}.{6}]"/>
													<set_value name="$LocMilLKills" exact="[$TableShortcut.{1}.{7},$TableShortcut.{2}.{7}]"/>
													<set_value name="$LocMilMKills" exact="[$TableShortcut.{1}.{8},$TableShortcut.{2}.{8}]"/>
													<set_value name="$LocMilSKills" exact="[$TableShortcut.{1}.{9},$TableShortcut.{2}.{9}]"/>
													<set_value name="$LocCivXLKills" exact="[$TableShortcut.{1}.{10},$TableShortcut.{2}.{10}]"/>
													<set_value name="$LocCivLKills" exact="[$TableShortcut.{1}.{11},$TableShortcut.{2}.{11}]"/>
													<set_value name="$LocCivMKills" exact="[$TableShortcut.{1}.{12},$TableShortcut.{2}.{12}]"/>
													<set_value name="$LocCivSKills" exact="[$TableShortcut.{1}.{13},$TableShortcut.{2}.{13}]"/>
													<!-- 20241023 HF1 - Had war end time put in wrong index -->
													<do_if value="(typeof $TableShortcut.{1}.{13} == datatype.time) and ($TableShortcut.{1}.{14} == null)">
														<set_value name="$TableShortcut.{1}.{14}" exact="$TableShortcut.{1}.{13}"/>
														<set_value name="$TableShortcut.{1}.{13}" exact="$TableShortcut.{1}.{4} - $TableShortcut.{1}.{10} - $TableShortcut.{1}.{11} - $TableShortcut.{1}.{12}"/>
														<set_value name="$LocCivSKills" exact="[$TableShortcut.{1}.{13},$TableShortcut.{2}.{13}]"/>
														<debug_text text="'MOD: DAMenus Menu_DynamicWar_WarHistory -- Fixed wrong index in $LocFacOneData -- $DADVT.$DADynamicWarResultsTable.{%s}.{%s}.{%s}'.[$LocFacOne,$LocFacTwo,$WarStartTime]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
													</do_if>
													<do_if value="(typeof $TableShortcut.{2}.{13} == datatype.time) and ($TableShortcut.{2}.{14} == null)">
														<set_value name="$TableShortcut.{2}.{14}" exact="$TableShortcut.{2}.{13}"/>
														<set_value name="$TableShortcut.{2}.{13}" exact="$TableShortcut.{2}.{4} - $TableShortcut.{2}.{10} - $TableShortcut.{2}.{11} - $TableShortcut.{2}.{12}"/>
														<set_value name="$LocCivSKills" exact="[$TableShortcut.{1}.{13},$TableShortcut.{2}.{13}]"/>
														<debug_text text="'MOD: DAMenus Menu_DynamicWar_WarHistory -- Fixed wrong index in $LocFacTwoData-- $DADVT.$DADynamicWarResultsTable.{%s}.{%s}.{%s}'.[$LocFacOne,$LocFacTwo,$WarStartTime]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
													</do_if>
													<set_value name="$LocWarEnded" exact="if @$TableShortcut.{1}.{14} then true else false"/>
													<!-- War Stage -->
													<do_if value="$LocWarEnded">
														<do_if value="$LocTotalKills == 0">
															<set_value name="$LocWarName" exact="{33232474,3201}"/>
														</do_if>
														<do_else>
															<set_value name="$LocFacOneKillsTotal" exact="$LocMilKills.{1} + $LocCivKills.{1} + $LocStationKills.{1}"/>
															<set_value name="$LocFacOneKillPercent" exact="((($LocFacOneKillsTotal)f / ($LocTotalKills)f) * 100.0)i"/>
															<!-- Kill% Thresholds == 0-25 = costly, 25-50 = close, 50 = balanced, 50-75 = heroic, 75-100 decisive -->
															<do_if value="$LocFacOneKillPercent ge 75">
																<set_value name="$LocWarName" exact="{33232474,3190}" comment="decisive"/>
															</do_if>
															<do_elseif value="$LocFacOneKillPercent gt 55">
																<set_value name="$LocWarName" exact="{33232474,3191}" comment="heroic"/>
															</do_elseif>
															<do_elseif value="$LocFacOneKillPercent gt 45">
																<set_value name="$LocWarName" exact="{33232474,3192}" comment="balanced"/>
															</do_elseif>
															<do_elseif value="$LocFacOneKillPercent ge 25">
																<set_value name="$LocWarName" exact="{33232474,3193}" comment="close"/>
															</do_elseif>
															<do_else>
																<set_value name="$LocWarName" exact="{33232474,3194}" comment="costly"/>
															</do_else>
															<!-- Victory Stalemate Defeat -->
															<do_if value="$LocFatigue.{1} lt $LocFatigue.{2}">
																<set_value name="$LocWarName" exact="' %s'.[{33232474,3200}]" operation="add" comment="victory"/>
															</do_if>
															<do_elseif value="$LocFatigue.{2} lt $LocFatigue.{1}">
																<set_value name="$LocWarName" exact="' %s'.[{33232474,3202}]" operation="add" comment="defeat"/>
															</do_elseif>
															<do_else>
																<set_value name="$LocWarName" exact="' %s'.[{33232474,3201}]" operation="add" comment="stalemate"/>
															</do_else>
															<remove_value name="$LocFacOneKillsTotal"/>
															<remove_value name="$LocFacOneKillPercent"/>
														</do_else>
													</do_if>
													<do_else>
														<do_if value="$LocTotalKills == 0">
															<set_value name="$LocWarName" exact="{33232474,3180}"/>
														</do_if>
														<do_elseif value="$LocTotalKills le 50">
															<set_value name="$LocWarName" exact="{33232474,3181}"/>
														</do_elseif>
														<do_elseif value="$LocTotalKills le 150">
															<set_value name="$LocWarName" exact="{33232474,3182}"/>
														</do_elseif>
														<do_else>
															<set_value name="$LocWarName" exact="{33232474,3183}"/>
														</do_else>
													</do_else>
													<!-- 1+2+3+4+5+6 = LocFacOne	7+8+9+10+11+12 = LocFacTwo -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 6, $text = $LocFacOne.knownname, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 6, $text = $LocFacTwo.knownname, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
													<!-- 1+2+3+4+5+6+7+8+9+10+11+12 = WarName -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 12, $text = $LocWarName, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
													<remove_value name="$LocWarName"/>
													<!-- 1+2+3+4 = War Fatigue:		5+6 = #		7+8+9+10 = War Fatigue:		11+12 = # -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = '%s:'.[{33232474,2118}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocFatigue.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 4, $text = '%s:'.[{33232474,2118}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 11, $colSpan = 2, $text = $LocFatigue.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<!-- 1+2+3+4 = War Score:		5+6 = #		7+8+9+10 = War Score:		11+12 = # -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = '%s:'.[{33232474,2119}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocWarScore.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 4, $text = '%s:'.[{33232474,2119}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 11, $colSpan = 2, $text = $LocWarScore.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<!-- 1+2+3+4+5+6+7+8+9+10+11+12 = MilKills -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<set_value name="$LocText" exact="'%s %s'.[{1001,9150},{30004,1801}]" comment="Military Ships Killed"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 12, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
													<remove_value name="$LocText"/>
													<!-- 1+2 = Total:#		3+4+5+6 = XL:#/L:#/M:#/S:#		7+8 = Total:#		9+10+11+12 = #:S/#:M/#:L/#:XL -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<set_value name="$LocText" exact="'%s: %s'.[{1001,2637},$LocMilKills.{1}]" comment="Total: #"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<set_value name="$LocText" exact="'%s:%s/%s:%s/%s:%s/%s:%s'.[{1001,48},$LocMilXLKills.{1},{1001,49},$LocMilLKills.{1},{1001,50},$LocMilMKills.{1},{1001,51},$LocMilSKills.{1}]" comment="XL:#/L:#/M:#/S:#"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 4, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<set_value name="$LocText" exact="'%s: %s'.[{1001,2637},$LocMilKills.{2}]" comment="Total: #"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<set_value name="$LocText" exact="'%s:%s/%s:%s/%s:%s/%s:%s'.[{1001,48},$LocMilXLKills.{2},{1001,49},$LocMilLKills.{2},{1001,50},$LocMilMKills.{2},{1001,51},$LocMilSKills.{2}]" comment="XL:#/L:#/M:#/S:#"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<remove_value name="$LocText"/>
													<!-- 1+2+3+4+5+6+7+8+9+10+11+12 = CivKills -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<set_value name="$LocText" exact="'%s %s'.[{1001,9151},{30004,1801}]" comment="Civilian Ships Killed"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 12, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
													<remove_value name="$LocText"/>
													<!-- 1+2 = Total:#		3+4+5+6 = XL:#/L:#/M:#/S:#		7+8 = Total:#		9+10+11+12 = #:S/#:M/#:L/#:XL -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<set_value name="$LocText" exact="'%s: %s'.[{1001,2637},$LocCivKills.{1}]" comment="Total: #"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<set_value name="$LocText" exact="'%s:%s/%s:%s/%s:%s/%s:%s'.[{1001,48},$LocCivXLKills.{1},{1001,49},$LocCivLKills.{1},{1001,50},$LocCivMKills.{1},{1001,51},$LocCivSKills.{1}]" comment="XL:#/L:#/M:#/S:#"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 4, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<set_value name="$LocText" exact="'%s: %s'.[{1001,2637},$LocCivKills.{2}]" comment="Total: #"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<set_value name="$LocText" exact="'%s:%s/%s:%s/%s:%s/%s:%s'.[{1001,48},$LocCivXLKills.{2},{1001,49},$LocCivLKills.{2},{1001,50},$LocCivMKills.{2},{1001,51},$LocCivSKills.{2}]" comment="XL:#/L:#/M:#/S:#"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<remove_value name="$LocText"/>
													<!-- 1+2+3+4 = Sta Killed:		5+6 = #		7+8+9+10 = Sta Killed:		11+12 = # -->
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = '%s %s:'.[{1001,4},{30004,1801}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocStationKills.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 4, $text = '%s %s:'.[{1001,4},{30004,1801}], $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 11, $colSpan = 2, $text = $LocStationKills.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
													
													<!-- Tracking -->
													<do_if value="$LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}?">
														<append_to_list name="$LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}" exact="$WarStartTime"/>
													</do_if>
													<do_elseif value="not $LocAlreadyPrintedTable.{$LocFacOne}?">
														<set_value name="$LocAlreadyPrintedTable.{$LocFacOne}" exact="table[]"/>
														<set_value name="$LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}" exact="[$WarStartTime]"/>
													</do_elseif>
													<do_elseif value="not $LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}?">
														<set_value name="$LocAlreadyPrintedTable.{$LocFacOne}.{$LocFacTwo}" exact="[$WarStartTime]"/>
													</do_elseif>
													<do_else>
														<!-- Should not reach here! -->
													</do_else>
													<!-- Cleanup -->
													<remove_value name="$TableShortcut"/>
													<remove_value name="$LocFatigue"/>
													<remove_value name="$LocWarScore"/>
													<remove_value name="$LocTotalWarScore"/>
													<remove_value name="$LocMilKills"/>
													<remove_value name="$LocCivKills"/>
													<remove_value name="$LocStationKills"/>
													<remove_value name="$LocTotalKills"/>
													<remove_value name="$LocMilXLKills"/>
													<remove_value name="$LocMilLKills"/>
													<remove_value name="$LocMilMKills"/>
													<remove_value name="$LocMilSKills"/>
													<remove_value name="$LocCivXLKills"/>
													<remove_value name="$LocCivLKills"/>
													<remove_value name="$LocCivMKills"/>
													<remove_value name="$LocCivSKills"/>
													<remove_value name="$LocWarEnded"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
															$col = 1, 
															$colSpan = event.param.$columns,
															$height = 2,
															$fontsize = 1,
															$cellBGColor = 'Color.row_separator',
														]"/>
												</do_if>
												<remove_value name="$WarStartTime"/>
											</do_all>
										</do_if>
									</do_for_each>
									<remove_value name="$LocFacList2"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocFacList"/>
							<remove_value name="$LocAlreadyPrintedTable"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_RelationsIncrease" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- Namespace Variables -->
						<do_if value="(not $DAMVT?) or ($DAMVT == null)">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						</do_if>
						<do_if value="(not $DADVT?) or ($DADVT == null)">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						</do_if>
						<do_if value="(not $DWT?) or ($DWT == null)">
							<set_value name="$DWT" exact="md.$DynamicWarTable"/>
						</do_if>
						<!-- $echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$IncCost] -->
						<set_value name="$DARelSelectedFactionOne" exact="event.param.$echo.{1}"/>
						<set_value name="$DARelSelectedFactionTwo" exact="event.param.$echo.{2}"/>
						<set_value name="$DARelUseFavor" exact="event.param.$echo.{3}"/>
						<set_value name="$DARelIncCost" exact="event.param.$echo.{4}"/>
						<set_value name="$LocOldAbsRel" exact="$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}"/>
						<set_value name="$UIRelationChange" exact="5"/>
						<include_actions ref="Library_CalculateUiValueRepChange"/>
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<do_if value="typeof $DARelUseFavor == datatype.faction">
							<do_if value="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}? and $DADVT.$DADynamicWarFavors.{$DARelUseFavor}">
								<set_value name="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}" exact="[$DADVT.$DADynamicWarFavors.{$DARelUseFavor} - 1,0].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsIncrease -- Used Favor -- Faction: %s -- Favors After: %s'.[$DARelUseFavor.knownname,$DADVT.$DADynamicWarFavors.{$DARelUseFavor}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_if>
						</do_if>
						<do_else>
							<reward_player money="$DARelIncCost * -1"/>
						</do_else>
						<set_faction_relation faction="$DARelSelectedFactionOne" otherfaction="$DARelSelectedFactionTwo" value="([$NewAbsoluteRepValue, 1.0].min)"/>
						<set_faction_relation faction="$DARelSelectedFactionTwo" otherfaction="$DARelSelectedFactionOne" value="([$NewAbsoluteRepValue, 1.0].min)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsIncrease -- FactionOne: %s -- FactionTwo: %s -- UseFavor: %s -- IncCost: %s -- OldRel: %s -- NewRel: %s'.[$DARelSelectedFactionOne.knownname,$DARelSelectedFactionTwo.knownname,$DARelUseFavor,$DARelIncCost,$LocOldAbsRel,$NewAbsoluteRepValue]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="(@$LocOldAbsRel le -0.1) and (@$NewAbsoluteRepValue gt -0.1)">
							<do_if value="$DWT.{$DARelSelectedFactionOne}.{$DARelSelectedFactionTwo}?">
								<set_value name="$DWT.{$DARelSelectedFactionOne}.{$DARelSelectedFactionTwo}.{6}" exact="true"/>
							</do_if>
							<do_if value="$DWT.{$DARelSelectedFactionTwo}.{$DARelSelectedFactionOne}?">
								<set_value name="$DWT.{$DARelSelectedFactionOne}.{$DARelSelectedFactionTwo}.{6}" exact="true"/>
							</do_if>
						</do_if>
						<remove_value name="$LocOldAbsRel"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_RelationsDecrease" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- Namespace Variables -->
						<do_if value="(not $DAMVT?) or ($DAMVT == null)">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						</do_if>
						<do_if value="(not $DADVT?) or ($DADVT == null)">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						</do_if>
						<do_if value="(not $DWT?) or ($DWT == null)">
							<set_value name="$DWT" exact="md.$DynamicWarTable"/>
						</do_if>
						<!-- $echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$DecCost] -->
						<set_value name="$DARelSelectedFactionOne" exact="event.param.$echo.{1}"/>
						<set_value name="$DARelSelectedFactionTwo" exact="event.param.$echo.{2}"/>
						<set_value name="$DARelUseFavor" exact="event.param.$echo.{3}"/>
						<set_value name="$DARelDecCost" exact="event.param.$echo.{4}"/>
						<set_value name="$LocOldAbsRel" exact="$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}"/>
						<set_value name="$UIRelationChange" exact="-5"/>
						<include_actions ref="Library_CalculateUiValueRepChange"/>
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<do_if value="typeof $DARelUseFavor == datatype.faction">
							<do_if value="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}? and $DADVT.$DADynamicWarFavors.{$DARelUseFavor}">
								<set_value name="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}" exact="[$DADVT.$DADynamicWarFavors.{$DARelUseFavor} - 1,0].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsDecrease -- Used Favor -- Faction: %s -- Favors After: %s'.[$DARelUseFavor.knownname,$DADVT.$DADynamicWarFavors.{$DARelUseFavor}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_if>
						</do_if>
						<do_else>
							<reward_player money="$DARelDecCost * -1"/>
						</do_else>
						<set_faction_relation faction="$DARelSelectedFactionOne" otherfaction="$DARelSelectedFactionTwo" value="([$NewAbsoluteRepValue, -1].max)"/>
						<set_faction_relation faction="$DARelSelectedFactionTwo" otherfaction="$DARelSelectedFactionOne" value="([$NewAbsoluteRepValue, -1].max)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsDecrease -- FactionOne: %s -- FactionTwo: %s -- UseFavor: %s -- DecCost: %s -- OldRel: %s -- NewRel: %s'.[$DARelSelectedFactionOne.knownname,$DARelSelectedFactionTwo.knownname,$DARelUseFavor,$DARelDecCost,$LocOldAbsRel,$NewAbsoluteRepValue]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="(@$LocOldAbsRel gt -0.1) and (@$NewAbsoluteRepValue le -0.1)">
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventDynamicWarTrackEvent" param="[$DARelSelectedFactionOne,$DARelSelectedFactionTwo,$LocOldAbsRel,$NewAbsoluteRepValue]"/>
						</do_if>
						<remove_value name="$LocOldAbsRel"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<set_value name="$DADVT.$DADynamicWarEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEnable to %s'.[$DADVT.$DADynamicWarEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarFavorsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarFavorsEnable">
							<set_value name="$DADVT.$DADynamicWarFavorsEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarFavorsEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarFavorsEnable to %s'.[$DADVT.$DADynamicWarFavorsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarInterval to %s'.[$DADVT.$DADynamicWarInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBesties" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{1}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{1} to %s'.[$DADVT.$DADynamicWarEventWeights.{1}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBigBoost" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{2}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{2} to %s'.[$DADVT.$DADynamicWarEventWeights.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightSmallBoost" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{3}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{3} to %s'.[$DADVT.$DADynamicWarEventWeights.{3}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightSmallBlow" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{4}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{4} to %s'.[$DADVT.$DADynamicWarEventWeights.{4}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBigBlow" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{5}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{5} to %s'.[$DADVT.$DADynamicWarEventWeights.{5}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightNemesis" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{6}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{6} to %s'.[$DADVT.$DADynamicWarEventWeights.{6}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightNothing" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{7}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{7} to %s'.[$DADVT.$DADynamicWarEventWeights.{7}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarPrimaryRaceModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarPrimaryRaceModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarPrimaryRaceModifier to %s'.[$DADVT.$DADynamicWarPrimaryRaceModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarCurrentRelationsModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarCurrentRelationsModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarCurrentRelationsModifier to %s'.[$DADVT.$DADynamicWarCurrentRelationsModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarCollectiveRelationsModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarCollectiveRelationsModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarCollectiveRelationsModifier to %s'.[$DADVT.$DADynamicWarCollectiveRelationsModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarFlavorEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarFlavorEnable">
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarFlavorEnable to %s'.[$DADVT.$DADynamicWarFlavorEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarDetailedDebug">
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarDetailedDebug to %s'.[$DADVT.$DADynamicWarDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_UnlockRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DARelUnlSelectedFactionOne" exact="event.param.$echo"/>
						<do_if value="$DARelUnlSelectedFactionOne.isrelationlocked">
							<set_faction_relation_locked faction="$DARelUnlSelectedFactionOne" locked="false"/>
						</do_if>
						<do_else>
							<set_faction_relation_locked faction="$DARelUnlSelectedFactionOne" locked="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Lock/Unlock %s -- Locked: %s'.[$DARelUnlSelectedFactionOne.knownname,$DARelUnlSelectedFactionOne.isrelationlocked]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_IgnoredFactions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DAIgnSelectedFactionOne" exact="event.param.$echo"/>
						<do_if value="($DAIgnSelectedFactionOne.isactive) and ($DAIgnSelectedFactionOne.willclaimspace) and (not $DAIgnSelectedFactionOne.isrelationlocked) and ($DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne})">
							<remove_from_list name="$DADVT.$DADynamicWarDisabledFactions" exact="$DAIgnSelectedFactionOne" multiple="true"/>
						</do_if>
						<do_elseif value="($DAIgnSelectedFactionOne.isactive) and ($DAIgnSelectedFactionOne.willclaimspace) and (not $DAIgnSelectedFactionOne.isrelationlocked) and (not $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne})">
							<append_to_list name="$DADVT.$DADynamicWarDisabledFactions" exact="$DAIgnSelectedFactionOne"/>
						</do_elseif>
						<debug_text text="'MOD: DAMenus DynamicWar -- Allowed/Ignored %s -- Ignored: %s'.[$DAIgnSelectedFactionOne.knownname,$DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<remove_value name="$DAIgnSelectedFactionOne"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_ToggleFactionLogic" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$DAFLSector,$FLAllowed] -->
						<set_value name="$LocSector" exact="event.param.$echo.{1}"/>
						<set_value name="$FLAllowed" exact="event.param.$echo.{2}"/>
						<set_value name="$LocString" exact="'%s logic before: %s'.[$LocSector.cluster.knownname,$LocSector.cluster.factionlogic]"/>
						<set_space_faction_logic_allowed space="$LocSector.cluster" allow="not $FLAllowed"/>
						<set_value name="$LocString" exact="', after: %s'.[$LocSector.cluster.factionlogic]" operation="add"/>
						<set_value name="$LocString" exact="'\n %s logic before: %s'.[$LocSector.knownname,$LocSector.factionlogic]" operation="add"/>
						<set_space_faction_logic_allowed space="$LocSector" allow="not $FLAllowed"/>
						<set_value name="$LocString" exact="', after: %s'.[$LocSector.factionlogic]" operation="add"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Enable/Disable Logic\n%s'.[$LocString]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<remove_value name="$LocSector"/>
						<remove_value name="$FLAllowed"/>
						<remove_value name="$LocString"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarRelationsFixEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarRelationsFixEnable">
							<set_value name="$DADVT.$DADynamicWarRelationsFixEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarRelationsFixEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarRelationsFixEnable to %s'.[$DADVT.$DADynamicWarRelationsFixEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarPossibleFactionsPerEvent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarPossibleFactionsPerEvent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarPossibleFactionsPerEvent to %s'.[$DADVT.$DADynamicWarPossibleFactionsPerEvent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<library name="Library_FactionRelationBar">
					<actions>
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<set_value name="$DARelBarCurrentRelationAdjusted" exact="$DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 30"/>
							<set_value name="$DARelBarCurrentUIRelation" exact="$DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue"/>
							<set_value name="$DARelBarRelationColor" exact="$DAMVT.$MarkerTransparent"/>
							<do_if value="$DARelBarCurrentUIRelation le (-25)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRedDark"/>
							</do_if>
							<do_elseif value="$DARelBarCurrentUIRelation le (-20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRed"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-15)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRedBright"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-10)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrangeDark"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-5)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrange"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-1)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrangeBright"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (1)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellowDark"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (5)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellow"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (10)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellowBright"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (15)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreenDark"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreen"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation gt (20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreenBright"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_else>
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$halign = 'center',
								$text = $DARelBarCurrentUIRelation,
								$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
								$col			= 5,
								$colSpan		= 3,
								$scaling		= true,
								$type			= 'statusbar',
								$start			= 30,
								$current		= $DARelBarCurrentRelationAdjusted,
								$max			= 60,
								$valueColor		= $DARelBarRelationColor,
								$posChangeColor	= $DARelBarPositiveColor,
								$negChangeColor	= $DARelBarNegativeColor,
								$markerColor	= $DAMVT.$MarkerTransparent,
								$cellBGColor	= $DAMVT.$BodyBackgroundDark
								]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_RelationIncreaseCost">
					<actions>
						<!-- Library_RelationIncreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $IncCost -->
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<do_if value="@$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne} or @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
								<set_value name="$IncCost" exact="0Cr"/>
							</do_if>
							<do_else>
								<include_actions ref="Library_CalculateCost"/>
								<set_value name="$IncCost" exact="$Cost"/>
								<remove_value name="$Cost"/>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_RelationDecreaseCost">
					<actions>
						<!-- Library_RelationDecreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $DecCost -->
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<do_if value="($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player)">
								<set_value name="$DecCost" exact="0Cr"/>
							</do_if>
							<do_elseif value="@$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne} or @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
								<set_value name="$DecCost" exact="0Cr"/>
							</do_elseif>
							<do_else>
								<include_actions ref="Library_CalculateCost"/>
								<set_value name="$DecCost" exact="$Cost"/>
								<remove_value name="$Cost"/>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_CalculateUiValueRepChange">
					<actions>
						<!-- Vanilla	1.0 = 30		0.32 = 25		0.1 = 20		0.032 = 15		0.01 = 10		0.0032 = 5 -->
						<!-- Calculated	1.0 = 30		0.316 = 25		0.1 = 20		0.0316 = 15		0.01 = 10		0.00316 = 5 -->
						<!-- Requires $DARelSelectedFactionOne, $DARelSelectedFactionTwo, and $UIRelationChange -->
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<!-- 20231215 Added in shortcut if new ui value is a declared number in the charts-->
						<!-- DONE: I never accounted for relations ranges making it here that are outside of the range allowed in game -->
						<do_if value="$UIRelationChange != 0">
							<set_value name="$OldUIRepValue" exact="$DARelSelectedFactionOne.relation.{$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}}.uivalue"/>
							<set_value name="$OldAbsoluteRepValue" exact="$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}"/>
							<set_value name="$NewUIRepValue" exact="[[$OldUIRepValue + $UIRelationChange,-30].max,30].min"/>
							<set_value name="$RepDefinedList" exact="[30,25,20,15,10,5,0,-5,-10,-15,-20,-25,-30]"/>
							<set_value name="$AbsRepDefinedList" exact="[1.0,0.32,0.1,0.032,0.01,0.0032,0,-0.0032,-0.01,-0.032,-0.1,-0.32,-1.0]"/>
							<do_if value="$RepDefinedList.indexof.{$NewUIRepValue}">
								<set_value name="$LocRepIndex" exact="$RepDefinedList.indexof.{$NewUIRepValue}"/>
								<set_value name="$NewAbsoluteRepValue" exact="$AbsRepDefinedList.{$LocRepIndex}"/>
								<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
							</do_if>
							<do_else>
								<do_if value="($NewUIRepValue le 5) and ($NewUIRepValue ge -5)">
									<set_value name="$NewAbsoluteRepValue" exact="$NewUIRepValue * 0.00064"/>
								</do_if>
								<do_else>
									<!-- =(10^(SQRT((S2+T2)^2)/10)/1000)*IF(S2+T2<0,-1,1) -->
									<set_value name="$NewAbsoluteRepValue" exact="[[(10.0^(sqrt(($NewUIRepValue)LF ^ 2.0)/10.0) / 1000.0) * (if ($NewUIRepValue lt 0.0) then -1.0 else 1.0),-1.0].max,1.0].min"/>
								</do_else>
								<!-- 20231227 Added a check to prevent faction relation from raising above AI:AI limit // changing hard coded limit to a variable in case I decide to make it an option -->
								<!-- 20240309 Check if relation fix option enabled -->
								<do_if value="$DADVT.$DADynamicWarRelationsFixEnable and ($NewAbsoluteRepValue gt $DADVT.$DADynamicWarRelationsAILimit) and ($DARelSelectedFactionOne != faction.player) and ($DARelSelectedFactionTwo != faction.player) and ($DADVT.$DADynamicWarRelationsFixEnable)">
									<set_value name="$NewAbsoluteRepValue" exact="$DADVT.$DADynamicWarRelationsAILimit"/>
								</do_if>
								<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								<do_if value="($NewAbsoluteRepValue lt 0.3571) and ($NewAbsoluteRepValue ge 0.2837)">
									<!-- Round near 25 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.32"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_if>
								<do_elseif value="($NewAbsoluteRepValue gt -0.3571) and ($NewAbsoluteRepValue le -0.2837)">
									<!-- Round near -25 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.32"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.1129) and ($NewAbsoluteRepValue ge 0.0897)">
									<!-- Round near 20 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.1"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.1129) and ($NewAbsoluteRepValue le -0.0897)">
									<!-- Round near -20 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.1"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.03571) and ($NewAbsoluteRepValue ge 0.02837)">
									<!-- Round near 15 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.03571) and ($NewAbsoluteRepValue le -0.02837)">
									<!-- Round near -15 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.01129) and ($NewAbsoluteRepValue ge 0.008971)">
									<!-- Round near 10 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.01"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.01129) and ($NewAbsoluteRepValue le -0.008971)">
									<!-- Round near -10 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.01"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.003571) and ($NewAbsoluteRepValue ge 0.002837)">
									<!-- Round near 5 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.0032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.003571) and ($NewAbsoluteRepValue le -0.002837)">
									<!-- Round near -5 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.0032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_CalculateCost">
					<actions>
						<!-- Uses $DADynamicWarFactionOne and $DADynamicWarFactionTwo -->
						<!-- This library will create $Cost -->
						<set_value name="$Cost" exact="0"/>
						<set_value name="$DACalcCostCurrentRelation" exact="$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}"/>
						<set_value name="$DACalcCostNetWorth" exact="player.money"/>
						<do_if value="$DACalcCostCurrentRelation le 0">
							<do_if value="$DACalcCostCurrentRelation le -1">
								<set_value name="$Cost" exact="[25000000Cr, ($DACalcCostNetWorth * 9 / 1000)].max"/>
							</do_if>
							<do_elseif value="$DACalcCostCurrentRelation le -0.32">
								<set_value name="$Cost" exact="[17500000Cr, ($DACalcCostNetWorth * 7 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.1">
								<set_value name="$Cost" exact="[11250000Cr, ($DACalcCostNetWorth * 5 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.032">
								<set_value name="$Cost" exact="[7500000Cr, ($DACalcCostNetWorth * 4 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.01">
								<set_value name="$Cost" exact="[3750000Cr, ($DACalcCostNetWorth * 3 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.0032">
								<set_value name="$Cost" exact="[1250000Cr, ($DACalcCostNetWorth * 2 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le 0">
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
							</do_elseif>
							<do_else>
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ERROR calculating cost -- %s -- %s -- %s'.[$DADynamicWarFactionOne.knownname,$DADynamicWarFactionTwo.knownname,$DACalcCostCurrentRelation]" context="false" filter="error" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_else>
						</do_if>
						<do_else>
							<do_if value="$DACalcCostCurrentRelation ge 1">
								<set_value name="$Cost" exact="[25000000Cr, ($DACalcCostNetWorth * 9 / 1000)].max"/>
							</do_if>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.32">
								<set_value name="$Cost" exact="[17500000Cr, ($DACalcCostNetWorth * 7 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.1">
								<set_value name="$Cost" exact="[11250000Cr, ($DACalcCostNetWorth * 5 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.032">
								<set_value name="$Cost" exact="[7500000Cr, ($DACalcCostNetWorth * 4 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.01">
								<set_value name="$Cost" exact="[3750000Cr, ($DACalcCostNetWorth * 3 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.0032">
								<set_value name="$Cost" exact="[1250000Cr, ($DACalcCostNetWorth * 2 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0">
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
							</do_elseif>
							<do_else>
								<set_value name="$Cost" exact="[5000000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ERROR calculating cost -- %s -- %s -- %s'.[$DADynamicWarFactionOne.knownname,$DADynamicWarFactionTwo.knownname,$DACalcCostCurrentRelation]" context="false" filter="error" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_else>
						</do_else>
					</actions>
				</library>
				<!-- Dynamic News -->
				<cue name="DA_DynamicNews_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,102},{33232474,117}]" comment="DA Dynamic News Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,280},
								$mouseOverText = {33232474,1280},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1280},
								$onClick = ExecuteOption_DynamicNewsEnable,
								$onRightClick = ExecuteOption_DynamicNewsEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,281},
								$mouseOverText = {33232474,1281},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableNotifications then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableNotifications then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1281},
								$onClick = ExecuteOption_DynamicNewsEnableNotifications,
								$onRightClick = ExecuteOption_DynamicNewsEnableNotifications,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,282},
								$mouseOverText = {33232474,1282},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableLogbook then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableLogbook then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1282},
								$onClick = ExecuteOption_DynamicNewsEnableLogbook,
								$onRightClick = ExecuteOption_DynamicNewsEnableLogbook,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,283},
								$mouseOverText = {33232474,1283},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableNewsStorage then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableNewsStorage then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1283},
								$onClick = ExecuteOption_DynamicNewsEnableNewsStorage,
								$onRightClick = ExecuteOption_DynamicNewsEnableNewsStorage,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,284},
								$mouseOverText = {33232474,1284},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
								$col = 5,
								$colSpan = 4,
								$onSliderCellConfirm = ExecuteOption_DynamicNewsInterval,
								$min = 0,
								$minSelect = 5,
								$max = 30,
								$maxSelect = 30,
								$exceedMaxValue = false,
								$start = $DADVT.$DADynamicNewsInterval,
								$step = 5,
								$suffix = 'min',
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,286},
								$mouseOverText = {33232474,1286},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsKnownFactionsOnly then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsKnownFactionsOnly then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1286},
								$onClick = ExecuteOption_DynamicNewsEnableKnownOnly,
								$onRightClick = ExecuteOption_DynamicNewsEnableKnownOnly,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,285},
								$mouseOverText = {33232474,1285},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsDetailedDebug then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1285},
								$onClick = ExecuteOption_DynamicNewsDetailedDebug,
								$onRightClick = ExecuteOption_DynamicNewsDetailedDebug,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = {33232474,112},
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<do_if value="$DADVT.$DADynamicNewsEnable and $DADVT.$DADynamicNewsEnableNewsStorage">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $halign = 'center', $text = {1001,24}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Time"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $halign = 'center', $text = {1041,10172}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Origin"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,5721}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="News"/>
							<!-- $DADVT.$DADynamicNewsTable.{Index} == [Player.age,Source,Message] -->
							<do_if value="$DADVT.$DADynamicNewsTable.{1}?">
								<do_all exact="$DADVT.$DADynamicNewsTable.keys.count" counter="$index">
									<set_value name="$Time" exact="$DADVT.$DADynamicNewsTable.{$index}.{1}"/>
									<set_value name="$Source" exact="$DADVT.$DADynamicNewsTable.{$index}.{2}"/>
									<set_value name="$Message" exact="$DADVT.$DADynamicNewsTable.{$index}.{3}"/>
									<do_if value="($Time != null) and ($Source != null) and ($Message != null)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
										<!-- Relative Time - Source - Message -->
										<!-- $col 1 + 2 -->
										<!-- This is in seconds ago for now -->
										<set_value name="$RelativeTime" exact="player.age - $Time"/>
										<set_value name="$RelativeTimeFormatted" exact="$RelativeTime.formatted.{'%dd:%Hh:%Mm'}"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $halign = 'left', $wordwrap = true, $text = $RelativeTimeFormatted, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
										<!-- $col 3 - 4 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $halign = 'left', $wordwrap = true, $text = $Source, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
										<!-- $col 5 - 8 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'left', $wordwrap = true, $text = $Message, $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
										<remove_value name="$RelativeTime"/>
										<remove_value name="$RelativeTimeFormatted"/>
									</do_if>
									<remove_value name="$Time"/>
									<remove_value name="$Source"/>
									<remove_value name="$Message"/>
								</do_all>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {1099,16}, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							</do_else>
						</do_if>
						<do_elseif value="(not $DADVT.$DADynamicNewsEnable) or (not $DADVT.$DADynamicNewsEnableNewsStorage)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = {33232474,2297},
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
						</do_elseif>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<set_value name="$DADVT.$DADynamicNewsEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventDynamicNewsFindSectorsandStations"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnable to %s'.[$DADVT.$DADynamicNewsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableNotifications" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableNotifications">
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableNotifications to %s'.[$DADVT.$DADynamicNewsEnableNotifications]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableLogbook" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableLogbook">
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableLogbook to %s'.[$DADVT.$DADynamicNewsEnableLogbook]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableNewsStorage" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableNewsStorage">
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableNewsStorage to %s'.[$DADVT.$DADynamicNewsEnableNewsStorage]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicNewsInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsInterval to %s'.[$DADVT.$DADynamicNewsInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableKnownOnly" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsKnownFactionsOnly">
							<set_value name="$DADVT.$DADynamicNewsKnownFactionsOnly" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsKnownFactionsOnly" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsKnownFactionsOnly to %s'.[$DADVT.$DADynamicNewsKnownFactionsOnly]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsDetailedDebug" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsDetailedDebug">
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsDetailedDebug to %s'.[$DADVT.$DADynamicNewsDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Evolution -->
				<cue name="DA_Evolution_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,103},{33232474,117}]" comment="DA Evolution Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,160},
								$mouseOverText = {33232474,1160},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAEvolutionEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAEvolutionEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1160},
								$onClick = ExecuteOption_EvolutionEnable,
								$onRightClick = ExecuteOption_EvolutionEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,163},
								$mouseOverText = {33232474,1163},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAEvolutionEnableJobs then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAEvolutionEnableJobs then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1163},
								$onClick = ExecuteOption_EvolutionEnableJobs,
								$onRightClick = ExecuteOption_EvolutionEnableJobs,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,161},
								$mouseOverText = {33232474,1161},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<set_value name="$LocMax" exact="[480,$DADVT.$DAEvolutionInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_EvolutionInterval,
									$min = 0,
									$minSelect = 30,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAEvolutionInterval,
									$step = 30,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,172},
								$mouseOverText = {33232474,1172},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_EvolutionMaxLevel,
									$min = 0,
									$minSelect = 1,
									$max = 10,
									$maxSelect = 10,
									$exceedMaxValue = false,
									$start = $DADVT.$DAEvoltuionPlayerMaxSetting,
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,162},
								$mouseOverText = {33232474,1162},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = '%s: %s / %s: %s'.[{1001,7899},$DADVT.$DAEvolutionCurrentLevel,{1001,19},$DADVT.$DAEvolutionMaxLevel],
									$mouseOverText = {33232474,1162},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,164},
								$mouseOverText = {33232474,1164},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$LocMax" exact="[100,$DADVT.$DAEvolutionMaxXenonJobs * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_EvolutionMaxXenFleets,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAEvolutionMaxXenonJobs,
									$step = 1,
									$suffix = ' fleet(s)',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<set_value name="$LocText" exact="'%s / %s'.[{1001,12207},{1001,2407}]" comment="Active/Building"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = $LocText,
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$LocText" exact="'%s: %s / %s: %s'.[{1001,12207},$DADVT.$DAEvolutionXenonShipGroup.count,{1001,2407},$DADVT.$DAEvolutionXenonShipTempList.count]" comment="Active/Building"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = $LocText,
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
							<remove_value name="$LocText"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 2,
								$text = {33232474,165},
								$mouseOverText = {33232474,1165},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 3, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2853}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 1) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1166},
									$onClick = ExecuteOption_EvolutionXenFleetSmall,
									$onRightClick = ExecuteOption_EvolutionXenFleetSmall,
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2854}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 2) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1167},
									$onClick = ExecuteOption_EvolutionXenFleetMedium,
									$onRightClick = ExecuteOption_EvolutionXenFleetMedium,
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2855}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 3) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1168},
									$onClick = ExecuteOption_EvolutionXenFleetLarge,
									$onRightClick = ExecuteOption_EvolutionXenFleetLarge,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 3,
									$colSpan = 6,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,170},
								$mouseOverText = {33232474,1170},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionEnableUpgradeStations then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionEnableUpgradeStations then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1170},
									$onClick = ExecuteOption_EvolutionEnableUpgradeStations,
									$onRightClick = ExecuteOption_EvolutionEnableUpgradeStations,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,171},
								$mouseOverText = {33232474,1171},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionEnableFastOrder then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionEnableFastOrder then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1171},
									$onClick = ExecuteOption_EvolutionEnableFastOrder,
									$onRightClick = ExecuteOption_EvolutionEnableFastOrder,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,169},
								$mouseOverText = {33232474,1169},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAEvolutionEnable or $DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1169},
									$onClick = ExecuteOption_EvolutionDebugEnable,
									$onRightClick = ExecuteOption_EvolutionDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<set_value name="$DADVT.$DAEvolutionEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnable to %s'.[$DADVT.$DAEvolutionEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionInterval to %s'.[$DADVT.$DAEvolutionInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionMaxLevel" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvoltuionPlayerMaxSetting" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvoltuionPlayerMaxSetting to %s'.[$DADVT.$DAEvoltuionPlayerMaxSetting]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableJobs" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$DADVT.$DAEvolutionEnableJobs" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableJobs" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableJobs to %s'.[$DADVT.$DAEvolutionEnableJobs]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionMaxXenFleets" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionMaxXenonJobs" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionMaxXenonJobs to %s'.[$DADVT.$DAEvolutionMaxXenonJobs]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetSmall" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="1"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_small'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetMedium" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="2"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_medium'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetLarge" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="3"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_large'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableUpgradeStations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableUpgradeStations">
							<set_value name="$DADVT.$DAEvolutionEnableUpgradeStations" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableUpgradeStations" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableUpgradeStations to %s'.[$DADVT.$DAEvolutionEnableUpgradeStations]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableFastOrder" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableFastOrder">
							<set_value name="$DADVT.$DAEvolutionEnableFastOrder" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableFastOrder" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableFastOrder to %s'.[$DADVT.$DAEvolutionEnableFastOrder]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionDetailedDebug">
							<set_value name="$DADVT.$DAEvolutionDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionDetailedDebug to %s'.[$DADVT.$DAEvolutionDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Fill -->
				<cue name="DA_Fill_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,104},{33232474,117}]" comment="DA Fill Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,200},
								$mouseOverText = {33232474,1200},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAFillEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAFillEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1200},
								$onClick = ExecuteOption_FillEnable,
								$onRightClick = ExecuteOption_FillEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,201},
								$mouseOverText = {33232474,1201},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<set_value name="$LocMax" exact="[120,$DADVT.$DAFillCheckInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillInterval,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillCheckInterval,
									$step = 5,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,202},
								$mouseOverText = {33232474,1202},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMaxTSWarePercent,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 100.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMaxTSWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,203},
								$mouseOverText = {33232474,1203},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMaxTSWarePercentAfter,
									$min = 0.0,
									$minSelect = 0.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMaxTSWarePercentAfter,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,204},
								$mouseOverText = {33232474,1204},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinTSWarePercent,
									$min = 0.0,
									$minSelect = 0.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinTSWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,205},
								$mouseOverText = {33232474,1205},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMinTSWarePercent gt 0)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinTSWarePercentAfter,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 100.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinTSWarePercentAfter,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,206},
								$mouseOverText = {33232474,1206},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinSYWarePercent,
									$min = 0.0,
									$minSelect = 0.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinSYWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,207},
								$mouseOverText = {33232474,1207},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMinSYWarePercent gt 0)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinSYWarePercentAfter,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 100.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinSYWarePercentAfter,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,208},
								$mouseOverText = {33232474,1208},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillShipModsEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillShipModsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1208},
									$onClick = ExecuteOption_FillShipModsEnable,
									$onRightClick = ExecuteOption_FillShipModsEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,210},
								$mouseOverText = {33232474,1210},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipModsEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillShipModFleetEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillShipModFleetEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1210},
									$onClick = ExecuteOption_FillShipModFleetEnable,
									$onRightClick = ExecuteOption_FillShipModFleetEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,211},
								$mouseOverText = {33232474,1211},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipModsEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillShipModPaintEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillShipModPaintEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1211},
									$onClick = ExecuteOption_FillShipModPaintEnable,
									$onRightClick = ExecuteOption_FillShipModPaintEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,214},
								$mouseOverText = {33232474,1214},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMinTSWarePercent gt 0)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillLimitByValue then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillLimitByValue then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1214},
									$onClick = ExecuteOption_FillLimitByValueEnable,
									$onRightClick = ExecuteOption_FillLimitByValueEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,215},
								$mouseOverText = {33232474,1215},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillXenonProtection then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillXenonProtection then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1215},
									$onClick = ExecuteOption_FillXenonProtectionEnable,
									$onRightClick = ExecuteOption_FillXenonProtectionEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,209},
								$mouseOverText = {33232474,1209},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAFillDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1209},
									$onClick = ExecuteOption_FillDebugEnable,
									$onRightClick = ExecuteOption_FillDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,104},{1001,4836}]" comment="DA Fill Menus"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,212}, $id='menu_fill_factions']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,213}, $id='menu_fill_statistics']"/>
					</actions>
				</cue>
				<cue name="Menu_Fill_Factions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<!-- $DADVT.$DADynamicWarDisabledFactions // $DADVT.$DADynamicWarPermaExcludedFactions -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $halign = 'center', $text = {1001,43}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $halign = 'center', $text = {1001,9803}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Trading Station"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $halign = 'center', $text = {30199,2201} + ' ' + {1001,3}, $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Ship Building Station"/>
						<do_if value="$FactionList.count">
							<do_for_each name="$DAIgnFaction" in="$FactionList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $halign = 'left', $text = $DAIgnFaction.knownname, $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
								<do_if value="$DAIgnFaction.isactive">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 5,
										$colSpan = 2,
										$text = table[
										  $text   =  if $DADVT.$DAFillTSExcludedFactions.indexof.{$DAIgnFaction} then {1001,8942} else {1001,4825}, 
										  $color  =  if $DADVT.$DAFillTSExcludedFactions.indexof.{$DAIgnFaction} then $DAMVT.$TextRed else $DAMVT.$TextGreen,
										  $halign = 'center',
										],
										$highlightColor = $DAMVT.$ButtonHighlight,
										$mouseOverText = {33232474,2204},
										$onClick = ExecuteOption_FillIgnoreFaction,
										$onRightClick = ExecuteOption_FillIgnoreFaction,
										$echo = ['Trade',$DAIgnFaction],
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7,
										$colSpan = 2,
										$text = table[
										  $text   =  if $DADVT.$DAFillSYWExcludedFactions.indexof.{$DAIgnFaction} then {1001,8942} else {1001,4825}, 
										  $color  =  if $DADVT.$DAFillSYWExcludedFactions.indexof.{$DAIgnFaction} then $DAMVT.$TextRed else $DAMVT.$TextGreen,
										  $halign = 'center',
										],
										$highlightColor = $DAMVT.$ButtonHighlight,
										$mouseOverText = {33232474,2205},
										$onClick = ExecuteOption_FillIgnoreFaction,
										$onRightClick = ExecuteOption_FillIgnoreFaction,
										$echo = ['Ship',$DAIgnFaction],
										]"/>
								</do_if>
								<do_elseif value="(not $DAIgnFaction.isactive)">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,43} + ' ' + {1001,12208}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Faction Inactive"/>
								</do_elseif>
								<do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,39}, $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
								</do_else>
							</do_for_each>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_Fill_Statistics" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillFactionAccounts.keys.list.count">
							<!-- HEADER -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="'%s %s'.[{1001,43},{1001,7773}]" comment="Faction Account"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 2,
									$colSpan = 6,
									$text = $LocText,
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 8,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<remove_value name="$LocText"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- BODY -->
							<!-- 1+2 = Ware.name, 3+4+5 Added Amount, 6+7+8 Removed Amount -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,43}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {1001,2442}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Total Value"/>
							<set_value name="$LocFactions" exact="[]"/>
							<append_list_elements name="$LocFactions" other="$DADVT.$DAFillFactionAccounts.keys.list"/>
							<sort_list list="$LocFactions" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$LocFactions">
								<do_if value="$DADVT.$DAFillFactionAccounts.{$LocFaction}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Faction"/>
									<set_value name="$LocText" exact="$DADVT.$DAFillFactionAccounts.{$LocFaction}.formatted.{'%.s %Cr'}"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Money Money"/>
									<remove_value name="$LocText"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocFactions"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
						</do_if>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillWareStatistics.keys.list.count">
							<!-- SUBMENUS HEADER -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="'%s %s / %s'.[{1001,46},{33232474,2200},{33232474,2201}]" comment="Wares Added / Removed"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 2,
									$colSpan = 6,
									$text = $LocText,
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 8,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<remove_value name="$LocText"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- SUBMENUS BODY -->
							<!-- 1+2 = Ware.name, 3+4+5 Added Amount, 6+7+8 Removed Amount -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,45}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Ware"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $text = ('%s %s'.[{33232474,2200},{1041,10173}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Added Number"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ('%s %s'.[{33232474,2201},{1041,10173}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Removed Number"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = ('%s %s'.[{33232474,2203},{1041,10173}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Net Number"/>
							<set_value name="$LocWares" exact="[]"/>
							<append_list_elements name="$LocWares" other="$DADVT.$DAFillWareStatistics.keys.list"/>
							<sort_list list="$LocWares" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocWare" in="$LocWares">
								<do_if value="$DADVT.$DAFillWareStatistics.{$LocWare}? and $DADVT.$DAFillWareStatistics.{$LocWare}.{1}? and $DADVT.$DAFillWareStatistics.{$LocWare}.{2}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocWare.name, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Ware"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{1}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{2}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{1} - $DADVT.$DAFillWareStatistics.{$LocWare}.{2}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number"/>
									<remove_value name="$LocText"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocWares"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
						</do_if>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipmodStatistics.keys.list.count">
							<!-- SUBMENUS HEADER -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="'%s %s'.[{1001,6},{33232474,2202}]" comment="Ships Modified"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 2,
									$colSpan = 6,
									$text = $LocText,
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 8,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<remove_value name="$LocText"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- SUBMENUS BODY -->
							<!-- 1+2 = Faction.knownname, 3+4+5 Total Military Ships Modded, 6+7+8 Total Civilian Ships Modded -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,43}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Faction"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 3, $text = ('%s %s %s'.[{1001,2637},{1001,9150},{33232474,2202}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Total Military Ships Modded"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $text = ('%s %s %s'.[{1001,2637},{1001,9151},{33232474,2202}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Total Civilian Ships Modded"/>
							<set_value name="$LocFactions" exact="[]"/>
							<append_list_elements name="$LocFactions" other="$DADVT.$DAFillShipmodStatistics.keys.list"/>
							<sort_list list="$LocFactions" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$LocFactions">
								<do_if value="$DADVT.$DAFillShipmodStatistics.{$LocFaction}? and $DADVT.$DAFillShipmodStatistics.{$LocFaction}.{1}? and $DADVT.$DAFillShipmodStatistics.{$LocFaction}.{2}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Faction"/>
									<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAFillShipmodStatistics.{$LocFaction}.{1},{1001,6}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 3, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number Ships"/>
									<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAFillShipmodStatistics.{$LocFaction}.{2},{1001,6}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $text = ($LocText), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number Ships"/>
									<remove_value name="$LocText"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocFactions"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillEnable">
							<set_value name="$DADVT.$DAFillEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillEnable to %s'.[$DADVT.$DAFillEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillCheckInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillCheckInterval to %s'.[$DADVT.$DAFillCheckInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMaxTSWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMaxTSWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercent to %s'.[$DADVT.$DAFillMaxTSWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMaxTSWarePercentAfter ge event.param.$value">
							<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="[event.param.$value - 5.0,0.0].max"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMaxTSWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMaxTSWarePercent le event.param.$value">
							<set_value name="$DADVT.$DAFillMaxTSWarePercent" exact="[event.param.$value + 5.0,100.0].min"/>
							<do_if value="$DADVT.$DAFillMaxTSWarePercentAfter gt 95">
								<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="95"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercent to %s'.[$DADVT.$DAFillMaxTSWarePercent]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinTSWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinTSWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercent to %s'.[$DADVT.$DAFillMinTSWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinTSWarePercentAfter le event.param.$value">
							<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="[event.param.$value + 5.0,100.0].min"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinTSWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinTSWarePercent ge event.param.$value">
							<set_value name="$DADVT.$DAFillMinTSWarePercent" exact="[event.param.$value - 5.0,0.0].max"/>
							<do_if value="$DADVT.$DAFillMinTSWarePercentAfter lt 5">
								<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="5"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercent to %s'.[$DADVT.$DAFillMinTSWarePercent]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinSYWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinSYWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercent to %s'.[$DADVT.$DAFillMinSYWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinSYWarePercentAfter le event.param.$value">
							<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="[event.param.$value + 5.0,100.0].min"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinSYWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinSYWarePercent ge event.param.$value">
							<set_value name="$DADVT.$DAFillMinSYWarePercent" exact="[event.param.$value - 5.0,0.0].max"/>
							<do_if value="$DADVT.$DAFillMinSYWarePercentAfter lt 5">
								<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="5"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercent to %s'.[$DADVT.$DAFillMinSYWarePercent]" context="false" filter="error"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModsEnable">
							<set_value name="$DADVT.$DAFillShipModsEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModsEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModsEnable to %s'.[$DADVT.$DAFillShipModsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModFleetEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModFleetEnable">
							<set_value name="$DADVT.$DAFillShipModFleetEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModFleetEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModFleetEnable to %s'.[$DADVT.$DAFillShipModFleetEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModPaintEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModPaintEnable">
							<set_value name="$DADVT.$DAFillShipModPaintEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModPaintEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModPaintEnable to %s'.[$DADVT.$DAFillShipModPaintEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillLimitByValueEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillLimitByValue">
							<set_value name="$DADVT.$DAFillLimitByValue" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillLimitByValue" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillLimitByValue to %s'.[$DADVT.$DAFillLimitByValue]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillXenonProtectionEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillXenonProtection">
							<set_value name="$DADVT.$DAFillXenonProtection" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillXenonProtection" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillXenonProtection to %s'.[$DADVT.$DAFillXenonProtection]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillDetailedDebug">
							<set_value name="$DADVT.$DAFillDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillDetailedDebug to %s'.[$DADVT.$DAFillDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillIgnoreFaction" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DAIgnSelectedFactionOne" exact="event.param.$echo.{2}"/>
						<do_if value="event.param.$echo.{1} == 'Trade'">
							<do_if value="$DADVT.$DAFillTSExcludedFactions.indexof.{$DAIgnSelectedFactionOne}">
								<remove_from_list name="$DADVT.$DAFillTSExcludedFactions" exact="$DAIgnSelectedFactionOne" multiple="true"/>
							</do_if>
							<do_elseif value="not $DADVT.$DAFillTSExcludedFactions.indexof.{$DAIgnSelectedFactionOne}">
								<append_to_list name="$DADVT.$DAFillTSExcludedFactions" exact="$DAIgnSelectedFactionOne"/>
							</do_elseif>
							<debug_text text="'MOD: DAMenus DynamicWar -- Fill Faction %s %s -- DAFillTSExcludedFactions Ignored: %s'.[$DAIgnSelectedFactionOne.knownname,event.param.$echo.{1},$DADVT.$DAFillTSExcludedFactions.indexof.{$DAIgnSelectedFactionOne}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<do_elseif value="event.param.$echo.{1} == 'Ship'">
							<do_if value="$DADVT.$DAFillSYWExcludedFactions.indexof.{$DAIgnSelectedFactionOne}">
								<remove_from_list name="$DADVT.$DAFillSYWExcludedFactions" exact="$DAIgnSelectedFactionOne" multiple="true"/>
							</do_if>
							<do_elseif value="not $DADVT.$DAFillSYWExcludedFactions.indexof.{$DAIgnSelectedFactionOne}">
								<append_to_list name="$DADVT.$DAFillSYWExcludedFactions" exact="$DAIgnSelectedFactionOne"/>
							</do_elseif>
							<debug_text text="'MOD: DAMenus DynamicWar -- Fill Faction %s %s -- DAFillSYWExcludedFactions Ignored: %s'.[$DAIgnSelectedFactionOne.knownname,event.param.$echo.{1},$DADVT.$DAFillSYWExcludedFactions.indexof.{$DAIgnSelectedFactionOne}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_elseif>
						<do_else>
							<!-- ERROR -->
						</do_else>
						<remove_value name="$DAIgnSelectedFactionOne"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Jobs -->
				<cue name="DA_Jobs_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,105},{33232474,117}]" comment="DA Jobs Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,240},
								$mouseOverText = {33232474,1240},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAJobsEXPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAJobsEXPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1240},
								$onClick = ExecuteOption_JobsEXPEnable,
								$onRightClick = ExecuteOption_JobsEXPEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,241},
								$mouseOverText = {33232474,1241},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAJobsSSTEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAJobsSSTEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1241},
								$onClick = ExecuteOption_JobsSSTEnable,
								$onRightClick = ExecuteOption_JobsSSTEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,263},
								$mouseOverText = {33232474,1263},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTRemoveExclusivity then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTRemoveExclusivity then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1263},
									$onClick = ExecuteOption_JobsSSTRemoveExclusivityEnable,
									$onRightClick = ExecuteOption_JobsSSTRemoveExclusivityEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,242},
								$mouseOverText = {33232474,1242},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAJobsEXPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAJobsEXPDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsEXPDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1242},
									$onClick = ExecuteOption_JobsEXPDebugEnable,
									$onRightClick = ExecuteOption_JobsEXPDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,243},
									$mouseOverText = {33232474,1243},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1243},
									$onClick = ExecuteOption_JobsSSTDebugEnable,
									$onRightClick = ExecuteOption_JobsSSTDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,244},
								$mouseOverText = {33232474,1244},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTXtremelyDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTXtremelyDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1244},
									$onClick = ExecuteOption_JobsSSTXtrDebugEnable,
									$onRightClick = ExecuteOption_JobsSSTXtrDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,105},{1001,4836}]" comment="DA Jobs Menus"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,245}, $id='menu_jobs_quotas']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,261}, $id='menu_jobs_togglespawned']"/>
					</actions>
				</cue>
				<cue name="Menu_Jobs_Quotas" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!--	md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction} // 
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'CriticalTag' == [$LocCriticalTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'CoreTag' == [$LocCoreTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'BorderTag' == [$LocBorderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'ContestedTag' == [$LocContestedTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								Special handling required for Eco tags
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LTraderTag' == [$LocLTraderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MTraderTag' == [$LocMTraderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LMinerTag' == [$LocLMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MMinerTag' == [$LocMMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LGasMinerTag' == [$LocLGasMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MGasMinerTag' == [$LocMGasMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
						-->
						<!--	1-8 Faction.knownname (Faction.id)
						
								Military Tags:
								1+2 'WhichTag', 3+4 Small Button, 5+6 Medium button, 7+8 Large button
								3+4 'Galaxy Quota', 4+5+6+7+8 Galaxy Quota Slider, 
								3+4 'Sector Quota', 4+5+6+7+8 Sector Quota Slider
								
								Eco Tags:
								1+2 'WhichTag', 3+4+5 Vanilla Logic, 6+7+8 DeadTater Logic
								3+4 'Galaxy Quota', 4+5+6+7+8 Galaxy Quota Slider, 
								3+4 'Sector Quota', 4+5+6+7+8 Sector Quota Slider
								
								Horizontal Line
						-->
						<do_if value="$DADVT.$DAJobsSSTEnable and $DADVT.$DAJobsSSTJobSizeQuotas.keys.list.count">
							<set_value name="$DAJobsSSTLocFactionsList" exact="[]"/>
							<append_list_elements name="$DAJobsSSTLocFactionsList" other="$DADVT.$DAJobsSSTJobSizeQuotas.keys.list"/>
							<sort_list list="$DAJobsSSTLocFactionsList" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$DAJobsSSTLocFactionsList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 8,
										$text = '%s (%s)'.[$LocFaction.knownname,$LocFaction.shortname],
										$halign = 'center',
									]"/>
								<do_if value="$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}? and $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.keys.list.count">
									<set_value name="$LocPossibleTags" exact="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag','$LTraderTag','$MTraderTag','$LMinerTag','$MMinerTag','$LGasMinerTag','$MGasMinerTag']"/>
									<set_value name="$TagText" exact="[246,247,248,249,255,256,257,258,259,260]"/>
									<set_value name="$TagHoverText" exact="[1246,1247,1248,1249,1255,1256,1257,1258,1259,1260]"/>
									<do_for_each name="$LocWhichTag" in="$LocPossibleTags" counter="$A">
										<do_if value="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag'].indexof.{$LocWhichTag}">
											<set_value name="$LocSuffix" exact="{1001,8326}" comment="Fleets"/>
										</do_if>
										<do_elseif value="['$LTraderTag','$MTraderTag','$LMinerTag','$MMinerTag','$LGasMinerTag','$MGasMinerTag'].indexof.{$LocWhichTag}">
											<set_value name="$LocSuffix" exact="{1001,6}"/>
										</do_elseif>
										<do_else>
											<set_value name="$LocSuffix" exact="''"/>
										</do_else>
										<do_if value="$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}? and $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.count">
											<set_value name="$LocText" exact="readtext.{33232474}.{$TagText.{$A}}"/>
											<set_value name="$LocHoverText" exact="readtext.{33232474}.{$TagHoverText.{$A}}"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 1,
												$colSpan = 2,
												$text = $LocText,
												$mouseOverText = $LocHoverText,
												$halign = 'left',
											]"/>
											<remove_value name="$LocText"/>
											<remove_value name="$LocHoverText"/>
											<do_if value="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag'].indexof.{$LocWhichTag}">
												<set_value name="$LocHoverText" exact="{33232474,1250}.[1,1,3,6]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 3, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,250}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 1) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$highlightColor = $DAMVT.$ButtonHighlight,
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,1],
													]"/>
												<set_value name="$LocHoverText" exact="{33232474,1251}.[1,3,9,18]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 5, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,251}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 2) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$highlightColor = $DAMVT.$ButtonHighlight,
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,2],
													]"/>
												<set_value name="$LocHoverText" exact="{33232474,1252}.[1,5,15,30]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 7, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,252}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 3) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$highlightColor = $DAMVT.$ButtonHighlight,
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,3],
													]"/>
												<remove_value name="$LocHoverText"/>
											</do_if>
											<do_elseif value="['$LTraderTag','$MTraderTag'].indexof.{$LocWhichTag} and global.$DALifetimeGrofit?">
												<!-- TODO: Vanilla Logic button and DeadTater Logic Button -->
											</do_elseif>
											<!-- MAYBE: Addtional options for other Tag types -->
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
													$col = 3,
													$colSpan = 2,
													$text = {33232474,253},
													$mouseOverText = {33232474,1253},
													$halign = 'left',
												]"/>
											<set_value name="$LocMax" exact="[100,$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{3} * 2].max"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
													$col = 5,
													$colSpan = 4,
													$onSliderCellConfirm = ExecuteOption_JobsGalaxyQuota,
													$min = 0,
													$minSelect = 0,
													$max = $LocMax,
													$maxSelect = $LocMax,
													$exceedMaxValue = false,
													$start = $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{3},
													$step = 1,
													$suffix = $LocSuffix,
													$echo = [$LocFaction,$LocWhichTag],
												]"/>
											<remove_value name="$LocMax"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
													$col = 3,
													$colSpan = 2,
													$text = {33232474,254},
													$mouseOverText = {33232474,1254},
													$halign = 'left',
												]"/>
											<set_value name="$LocMax2" exact="[10,$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{4} * 2].max"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
													$col = 5,
													$colSpan = 4,
													$onSliderCellConfirm = ExecuteOption_JobsSectorQuota,
													$min = 0,
													$minSelect = 0,
													$max = $LocMax2,
													$maxSelect = $LocMax2,
													$exceedMaxValue = false,
													$start = $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{4},
													$step = 1,
													$suffix = $LocSuffix,
													$echo = [$LocFaction,$LocWhichTag],
												]"/>
											<remove_value name="$LocMax2"/>
											<!-- Cleanup -->
										</do_if>
										<remove_value name="$LocSuffix"/>
									</do_for_each>
									<!-- Cleanup -->
									<remove_value name="$LocPossibleTags"/>
									<remove_value name="$TagText"/>
									<remove_value name="$TagHoverText"/>
									<!-- Horizontal Bar by SirNukes -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_if>
								<do_else>
									<!-- ERROR or no jobs added for faction -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = event.param.$columns,
											$text = {1001,2942},
											$halign = 'center',
										]"/>
									<!-- Horizontal Bar by SirNukes -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_else>
							</do_for_each>
							<remove_value name="$DAJobsSSTLocFactionsList"/>
						</do_if>
						<do_elseif value="not $DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2248},
								$halign = 'center',
							]"/>
						</do_elseif>
						<do_elseif value="not $DADVT.$DAJobsSSTJobSizeQuotas.keys.list.count">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2249},
								$halign = 'center',
							]"/>
						</do_elseif>
					</actions>
				</cue>
				<cue name="Menu_Jobs_ToggleSpawned" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- 8 columns -->
						<do_if value="$DADVT.$DAJobsVanillaSpawnedJobIds? and $DADVT.$DAJobsVanillaSpawnedJobIds.count and $DADVT.$DAJobsDisabledVanillaSpawnedJobIds?">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Job ID -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,262},
									$mouseOverText = {33232474,1262},
								]"/>
							<!-- Ships -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 2,
									$text = {1001,6},
									$halign = 'center'
								]"/>
							<!-- Enabled/Disabled -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = ('%s/%s'.[{1001,4825},{1001,8942}]),
									$halign = 'center'
								]"/>
							<do_for_each name="$LocJobID" in="$DADVT.$DAJobsVanillaSpawnedJobIds">
								<find_ship groupname="$LocShipGroup" job="$LocJobID" checkoperational="true" space="player.galaxy" multiple="true"/>
								<check_job_active result="$LocIsActive" job="$LocJobID"/>
								<do_if value="$LocShipGroup.count or $LocIsActive or $DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{$LocJobID}">
									<!-- 1-4 Job ID, 5+6 Ship Count, 7+8 Button -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 4,
											$text = $LocJobID,
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 5,
											$colSpan = 2,
											$text = @$LocShipGroup.count,
											$halign = 'center'
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
											$col = 7, 
											$colSpan = 2,
											$text = table[
											  $text   =  if @$LocIsActive then {1001,4825} else {1001,8942}, 
											  $color  =  if @$LocIsActive then $DAMVT.$TextGreen else $DAMVT.$TextRed,
											  $halign = 'center',
											],
											$highlightColor = $DAMVT.$ButtonHighlight,
											$onClick = ExecuteOption_JobsToggleSpawned,
											$onRightClick = ExecuteOption_JobsToggleSpawned,
											$echo = [$LocJobID,$LocIsActive,$LocShipGroup]
										]"/>
								</do_if>
								<remove_value name="$LocShipGroup"/>
								<remove_value name="$LocIsActive"/>
							</do_for_each>
						</do_if>
						<do_else>
							
						</do_else>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsFleetSize" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag,1-3] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}" exact="event.param.$echo.{3}"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{2}($FleetSize) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsGalaxyQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{3}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{3}($GalaxyQuota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{3}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSectorQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{4}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{4}($SectorQuota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{4}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsEXPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsEXPEnable">
							<set_value name="$DADVT.$DAJobsEXPEnable" exact="false"/>
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsEXPEnable" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsEXPInitialChecks" param="true"/>
						<debug_text text="'MOD: DAMenus JobsEXP -- Updated $DADVT.$DAJobsEXPEnable to %s'.[$DADVT.$DAJobsEXPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<set_value name="$DADVT.$DAJobsSSTEnable" exact="false"/>
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="false"/>
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTEnable" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTInitializeTables" param="true"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTEnable to %s'.[$DADVT.$DAJobsSSTEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTRemoveExclusivityEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTRemoveExclusivity">
							<set_value name="$DADVT.$DAJobsSSTRemoveExclusivity" exact="false"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTToggleSpaceExclusivity" param="$DADVT.$DAJobsSSTRemoveExclusivity"/>
							<do_if value="faction.boron? and (not $DADVT.$DAJobsSSTUnsupportedFactions.indexof.{faction.boron})">
								<append_to_list name="$DADVT.$DAJobsSSTUnsupportedFactions" exact="faction.boron"/>
							</do_if>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTRemoveExclusivity" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTToggleSpaceExclusivity" param="$DADVT.$DAJobsSSTRemoveExclusivity"/>
							<do_if value="faction.boron?">
								<do_if value="$DADVT.$DAJobsSSTUnsupportedFactions.indexof.{faction.boron}">
									<remove_from_list name="$DADVT.$DAJobsSSTUnsupportedFactions" exact="faction.boron" multiple="true"/>
								</do_if>
								<do_if value="$DADVT.$DAJobsEXPEnable">
									<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsEXPInitialChecks" param="true"/>
								</do_if>
							</do_if>
						</do_else>
						<!-- EventJobsSSTInitializeTables will remove if faction is on Unsupported -->
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTInitializeTables" param="true"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTRemoveExclusivity to %s'.[$DADVT.$DAJobsSSTRemoveExclusivity]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsEXPDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsEXPDetailedDebug">
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsEXP -- Updated $DADVT.$DAJobsEXPDetailedDebug to %s'.[$DADVT.$DAJobsEXPDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTDetailedDebug">
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTDetailedDebug to %s'.[$DADVT.$DAJobsSSTDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTXtrDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTXtremelyDetailedDebug">
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTXtremelyDetailedDebug to %s'.[$DADVT.$DAJobsSSTXtremelyDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsToggleSpawned" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocJobID,$LocIsActive,$LocShipGroup] -->
						<do_if value="event.param.$echo.{1} and event.param.$echo.{2}?">
							<do_if value="event.param.$echo.{2} == true">
								<check_job_active result="$LocIsActiveBefore" job="event.param.$echo.{1}"/>
								<set_job_active activate="false" job="event.param.$echo.{1}"/>
								<check_job_active result="$LocIsActiveAfter" job="event.param.$echo.{1}"/>
								<do_if value="$LocIsActiveBefore and (not $LocIsActiveAfter) and event.param.$echo.{3}? and event.param.$echo.{3}.count">
									<do_for_each name="$LocShip" in="event.param.$echo.{3}">
										<create_order object="$LocShip" id="'RecycleDefault'" default="true"/>
										<debug_text text="'MOD: DAMenus Jobs Misc -- Ship: %s{%s} -- Ordered to RecycleDefault'.[$LocShip.knownname,$LocShip.idcode]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
									</do_for_each>
								</do_if>
								<do_if value="not $DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{event.param.$echo.{1}}">
									<append_to_list name="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds" exact="event.param.$echo.{1}"/>
								</do_if>
							</do_if>
							<do_else>
								<check_job_active result="$LocIsActiveBefore" job="event.param.$echo.{1}"/>
								<set_job_active activate="true" job="event.param.$echo.{1}"/>
								<check_job_active result="$LocIsActiveAfter" job="event.param.$echo.{1}"/>
								<do_if value="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{event.param.$echo.{1}}">
									<remove_from_list name="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds" exact="event.param.$echo.{1}" multiple="true"/>
								</do_if>
							</do_else>
						</do_if>
						<debug_text text="'MOD: DAMenus Jobs Misc -- Job: %s -- Changed job status from %s to %s'.[@event.param.$echo.{1},@$LocIsActiveBefore,@$LocIsActiveAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<remove_value name="$LocIsActiveBefore"/>
						<remove_value name="$LocIsActiveAfter"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Gate -->
				<cue name="DA_Gate_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,106},{33232474,117}]" comment="DA Gate Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,300},
								$mouseOverText = {33232474,1300},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAGateEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAGateEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1300},
								$onClick = ExecuteOption_GateEnable,
								$onRightClick = ExecuteOption_GateEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,302},
								$mouseOverText = {33232474,1302},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGateEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGateShowAllGates then {1001,4825} else {1001,8942}, 
									  $color  =  $DAMVT.$TextBlue,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1302},
									$onClick = ExecuteOption_GateShowAllEnable,
									$onRightClick = ExecuteOption_GateShowAllEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,301},
								$mouseOverText = {33232474,1301},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGateEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGateDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGateDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1301},
									$onClick = ExecuteOption_GateDebugEnable,
									$onRightClick = ExecuteOption_GateDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DADVT.$DAGateEnable and $DADVT.$DAGateTrackedGates.count">
							<!-- SUBMENUS HEADER -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 2,
									$colSpan = 6,
									$text = {20001,703},
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 8,
									$colSpan = 1,
									$text = '',
									$cellBGColor = $DAMVT.$HeaderBackgroundDark
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- SUBMENUS BODY -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,9809}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Jump Gate Connection"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = {1001,12}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Status"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = '%s / %s'.[{1001,12207},{1001,12208}], $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Active / Inactive"/>
							<!-- Horizontal Line -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<set_value name="$LocTrackedGates" exact="[]"/>
							<sort_list list="$DADVT.$DAGateTrackedGates" sortbyvalue="loop.element.sector.knownname"/>
							<do_for_each name="$LocGate" in="$DADVT.$DAGateTrackedGates">
								<do_if value="(not $LocTrackedGates.indexof.{$LocGate}) and (not $LocTrackedGates.indexof.{$LocGate.exit})">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 4,
											$text = '%s &lt;-&gt; %s'.[$LocGate.sector.knownname,$LocGate.exit.sector.knownname],
											$halign = 'left',
											$cellBGColor = $DAMVT.$BodyBackgroundBright,
											$wordwrap = true
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 5,
											$colSpan = 2,
											$text = if $LocGate.isactive then {1001,12207} else {1001,12208},
											$halign = 'center',
											$cellBGColor = $DAMVT.$BodyBackgroundDark
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7,
										$colSpan = 2,
										$text = table[
										  $text   =  if $LocGate.isactive then {1001,12207} else {1001,12208}, 
										  $color  =  if $LocGate.isactive then $DAMVT.$TextGreen else $DAMVT.$TextRed,
										  $halign = 'center',
										],
										$highlightColor = $DAMVT.$ButtonHighlight,
										$onClick = ExecuteOption_GateTriggerGate,
										$onRightClick = ExecuteOption_GateTriggerGate,
										$echo = $LocGate,
										]"/>
									<append_to_list name="$LocTrackedGates" exact="$LocGate"/>
									<append_to_list name="$LocTrackedGates" exact="$LocGate.exit"/>
								</do_if>
								<do_elseif value="(not $LocTrackedGates.indexof.{$LocGate}) or (not $LocTrackedGates.indexof.{$LocGate.exit})">
									<debug_text text="'MOD: DAMenus Gate -- PROBLEM WITH GATE TRACKING -- $LocTrackedGates.indexof.{$LocGate}: %s -- $LocTrackedGates.indexof.{$LocGate.exit}: %s'.[$LocTrackedGates.indexof.{$LocGate},$LocTrackedGates.indexof.{$LocGate.exit}]" context="false" filter="error"/>
								</do_elseif>
							</do_for_each>
							<remove_value name="$LocTrackedGates"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateEnable">
							<set_value name="$DADVT.$DAGateEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGateFindGates" param="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateEnable to %s'.[$DADVT.$DAGateEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateShowAllEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateShowAllGates">
							<set_value name="$DADVT.$DAGateShowAllGates" exact="false"/>
							<clear_list list="$DADVT.$DAGateTrackedGates"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateShowAllGates" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGateFindGates" param="true"/>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateShowAllGates to %s'.[$DADVT.$DAGateShowAllGates]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateDetailedDebug">
							<set_value name="$DADVT.$DAGateDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateDetailedDebug to %s'.[$DADVT.$DAGateDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateTriggerGate" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DAGateLocGate" exact="event.param.$echo"/>
						<set_value name="$DAGateLocGateExit" exact="$DAGateLocGate.exit"/>
						<do_if value="$DAGateLocGate.isactive">
							<set_object_active object="$DAGateLocGate" activate="false"/>
							<set_object_active object="$DAGateLocGateExit" activate="false"/>
						</do_if>
						<do_elseif value="not $DAGateLocGate.isactive">
							<set_object_active object="$DAGateLocGate" activate="true"/>
							<set_object_active object="$DAGateLocGateExit" activate="true"/>
						</do_elseif>
						<debug_text text="'MOD: DAMenus Gate -- Set %s.%s.%s to active: %s -- Set %s.%s.%s to active: %s'.[$DAGateLocGate.sector.macro,$DAGateLocGate.zone.macro,$DAGateLocGate.knownname,$DAGateLocGate.isactive,$DAGateLocGateExit.sector.macro,$DAGateLocGateExit.zone.macro,$DAGateLocGateExit.knownname,$DAGateLocGateExit.isactive]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- God -->
				<cue name="DA_God_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,107},{33232474,117}]" comment="DA God Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,340},
								$mouseOverText = {33232474,1340},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DAGodEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAGodEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1340},
								$onClick = ExecuteOption_GodEnable,
								$onRightClick = ExecuteOption_GodEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,354},
								$mouseOverText = {33232474,1354},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<set_value name="$LocMax" exact="[5,$DADVT.$DAGodStationRequestInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_GodStationRequestInterval,
									$min = 0,
									$minSelect = 1,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAGodStationRequestInterval,
									$step = 1
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,352},
								$mouseOverText = {33232474,1352},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodAllowBuildInFriendly then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAllowBuildInFriendly then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1352},
									$onClick = ExecuteOption_GodAllowBuildInFriendlyEnable,
									$onRightClick = ExecuteOption_GodAllowBuildInFriendlyEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,350},
								$mouseOverText = {33232474,1350},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable and $DADVT.$DAGodAllowBuildInFriendly">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodAllowBuildInPlayer then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAllowBuildInPlayer then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1350},
									$onClick = ExecuteOption_GodAllowBuildInPlayerEnable,
									$onRightClick = ExecuteOption_GodAllowBuildInPlayerEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,351},
								$mouseOverText = {33232474,1351},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodAttemptRecovery then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAttemptRecovery then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1351},
									$onClick = ExecuteOption_GodAttemptRecoveryEnable,
									$onRightClick = ExecuteOption_GodAttemptRecoveryEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,353},
								$mouseOverText = {33232474,1353},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodStationUpgradeEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodStationUpgradeEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1353},
									$onClick = ExecuteOption_GodStationUpgradeEnable,
									$onRightClick = ExecuteOption_GodStationUpgradeEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,355},
								$mouseOverText = {33232474,1355},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_GodMaxModuleSetting,
									$min = 0,
									$minSelect = 10,
									$max = 25,
									$maxSelect = 25,
									$exceedMaxValue = false,
									$start = $DADVT.$DAGodMaxModuleSetting,
									$step = 1
								]"/>
							<do_if value="$DADVT.$DAGodMaxModuleWarning?">
								<include_actions ref="md.DeadAirDynamicUniverse.LibraryGodCheckForEco"/>
								<do_if value="$DADVT.$DAGodMaxModuleWarning">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = event.param.$columns,
											$text = {33232474,2343},
											$cellBGColor = $DAMVT.$BodyBackgroundDark
										]"/>
								</do_if>
							</do_if>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,341},
								$mouseOverText = {33232474,1341},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1341},
									$onClick = ExecuteOption_GodDebugEnable,
									$onRightClick = ExecuteOption_GodDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,347},
								$mouseOverText = {33232474,1347},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DAGodXtremelyDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodXtremelyDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1347},
									$onClick = ExecuteOption_GodDetailedDebugEnable,
									$onRightClick = ExecuteOption_GodDetailedDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- IMPORTANT OPTION HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,107},{1001,508}]" comment="DA God Shortcut"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- IMPORTANT OPTION BODY -->
						<do_if value="$DADVT.$DAGodEnable and $DADVT.$DAGodFactionModuleQuotas? and $DADVT.$DAGodFactionModuleQuotas.keys.list.count">
							<include_actions ref="DA_God_Activate_All_Button"/>
						</do_if>
						<do_elseif value="not $DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2348},
								$halign = 'center',
								$cellBGColor = $DAMVT.$BodyBackgroundDark
							]"/>
						</do_elseif>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,107},{1001,4836}]" comment="DA God Menus"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,349}, $id='menu_god_quotas']"/>
					</actions>
				</cue>
				<cue name="Menu_God_Quotas" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodEnable and $DADVT.$DAGodFactionModuleQuotas? and $DADVT.$DAGodFactionModuleQuotas.keys.list.count">
							<!-- DONE: Sort by faction knownname -->
							<set_value name="$DAGodLocFactionsList" exact="[]"/>
							<append_list_elements name="$DAGodLocFactionsList" other="$DADVT.$DAGodFactionModuleQuotas.keys.list"/>
							<sort_list list="$DAGodLocFactionsList" sortbyvalue="loop.element.knownname"/>
							<!-- Activate All Button -->
							<include_actions ref="DA_God_Activate_All_Button"/>
							<do_for_each name="$LocFaction" in="$DAGodLocFactionsList">
								<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count gt 1)">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<set_value name="$LocText" exact="'%s (%s)'.[$LocFaction.knownname,$LocFaction.shortname]"/>
									<do_if value="$LocFaction.isactive and (not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction})">
										<set_value name="$LocText" exact="' - %s'.[{33232474,2344}]" operation="add" comment="Quota Not Activated"/>
										<set_value name="$HoverText" exact="{33232474,2346}.[$LocFaction.knownname]"/>
									</do_if>
									<do_elseif value="$LocFaction.isactive and $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}">
										<set_value name="$LocText" exact="' - %s'.[{33232474,2345}]" operation="add" comment="Quota Has Been Activated"/>
										<set_value name="$HoverText" exact="{33232474,1346}.[$LocFaction.knownname]"/>
									</do_elseif>
									<do_else>
										<set_value name="$LocText" exact="' - %s %s'.[{1001,43},{1001,12208}]" operation="add" comment="Faction Inactive"/>
										<set_value name="$HoverText" exact="{33232474,2347}.[$LocFaction.knownname]"/>
									</do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 8,
											$text = $LocText,
											$mouseOverText = $HoverText,
											$halign = 'center',
											$cellBGColor = $DAMVT.$HeaderBackgroundDark
										]"/>
									<remove_value name="$LocText"/>
									<remove_value name="$HoverText"/>
									<do_if value="$LocFaction.isactive and (not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction})">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<set_value name="$LocButtonText" exact="'%s %s'.[{33232474,342},$LocFaction.shortname]"/>
										<!-- Show Quota Settings -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
												$col = 3, 
												$colSpan = 4,
												$text = table[
												  $text   =  $LocButtonText, 
												  $color  =  $DAMVT.$TextBlue,
												  $halign = 'center',
												],
												$highlightColor = $DAMVT.$ButtonHighlight,
												$mouseOverText = {33232474,1342},
												$onClick = ExecuteOption_GodFactionEnable,
												$onRightClick = ExecuteOption_GodFactionEnable,
												$echo = $LocFaction
											]"/>
										<remove_value name="$LocButtonText"/>
									</do_if>
									<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled and $LocFaction.isactive">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Production ware -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 1,
												$colSpan = 3,
												$text = {33232474,343},
												$mouseOverText = {33232474,1343},
												$halign = 'center'
											]"/>
										<!-- Additional modules to build -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 4,
												$colSpan = 5,
												$text = {33232474,344},
												$mouseOverText = {33232474,1344},
												$halign = 'center'
											]"/>
										<do_for_each name="$LocWare" in="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list">
											<do_if value="typeof $LocWare == datatype.ware">
												<set_value name="$LocShowTextInstead" exact="$DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
														$col = 1,
														$colSpan = 3,
														$text = $LocWare.name,
														$halign = 'left'
													]"/>
												<do_if value="@$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{1} and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2}? and (not $LocShowTextInstead)">
													<set_value name="$LocMax" exact="[150,$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2} * 2].max"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
															$col = 4,
															$colSpan = 5,
															$onSliderCellConfirm = ExecuteOption_GodChangeQuota,
															$min = 0,
															$minSelect = 0,
															$max = $LocMax,
															$maxSelect = $LocMax,
															$exceedMaxValue = false,
															$start = $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2},
															$step = 1,
															$suffix = {1001,7924},
															$echo = [$LocFaction,$LocWare],
														]"/>
													<remove_value name="$LocMax"/>
												</do_if>
												<do_elseif value="@$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{1} and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2}? and $LocShowTextInstead">
													<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2},{1001,7924}]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
															$col = 4,
															$colSpan = 5,
															$text = $LocText,
															$halign = 'center'
														]"/>
													<remove_value name="$LocText"/>
												</do_elseif>
												<do_else>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
															$col = 4,
															$colSpan = 5,
															$text = {1001,8909},
															$halign = 'center'
														]"/>
												</do_else>
												<remove_value name="$LocShowTextInstead"/>
											</do_if>
										</do_for_each>
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<do_if value="not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
												$col = 1, 
												$colSpan = 8,
												$text = table[
												  $text   = {33232474,345}.[$LocFaction.knownname], 
												  $color  = $DAMVT.$TextGreen,
												  $halign = 'center',
												],
												$highlightColor = $DAMVT.$ButtonHighlight,
												$mouseOverText = {33232474,1345},
												$onClick = ExecuteOption_GodTriggerFaction,
												$onRightClick = ExecuteOption_GodTriggerFaction,
												$echo = $LocFaction
											]"/>
										</do_if>
										<!--
										<do_else>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {33232474,346}, $mouseOverText = {33232474,1346}]" comment="Already Activated"/>
										</do_else>
										-->
									</do_if>
									<!-- Horizontal Line -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_if>
							</do_for_each>
							<remove_value name="$DAGodLocFactionsList"/>
						</do_if>
						<do_elseif value="not $DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2342},
								$halign = 'center',
							]"/>
						</do_elseif>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodEnable">
							<set_value name="$DADVT.$DAGodEnable" exact="false"/>
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="false"/>
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="false"/>
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="false"/>
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="false"/>
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="false"/>
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGodSetUpTables" param="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodEnable to %s'.[$DADVT.$DAGodEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodStationRequestInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAGodStationRequestInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodStationRequestInterval to %s'.[$DADVT.$DAGodStationRequestInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAllowBuildInFriendlyEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAllowBuildInFriendly">
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAllowBuildInFriendly to %s'.[$DADVT.$DAGodAllowBuildInFriendly]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAllowBuildInPlayerEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAllowBuildInPlayer">
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAllowBuildInPlayer to %s'.[$DADVT.$DAGodAllowBuildInPlayer]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAttemptRecoveryEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAttemptRecovery">
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAttemptRecovery to %s'.[$DADVT.$DAGodAttemptRecovery]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodStationUpgradeEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodStationUpgradeEnable">
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodStationUpgradeEnable to %s'.[$DADVT.$DAGodStationUpgradeEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodMaxModuleSetting" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAGodMaxModuleSetting" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodMaxModuleSetting to %s'.[$DADVT.$DAGodMaxModuleSetting]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodDetailedDebug">
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodDetailedDebug to %s'.[$DADVT.$DAGodDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodDetailedDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodXtremelyDetailedDebug">
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodXtremelyDetailedDebug to %s'.[$DADVT.$DAGodXtremelyDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodFactionEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled?">
							<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled">
								<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled" exact="false"/>
							</do_if>
							<do_else>
								<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled" exact="true"/>
							</do_else>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus God -- Unable to find $DADVT.$DAGodFactionModuleQuotas.{%s}.$Enabled'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodFactionModuleQuotas.{%s}.$Enabled to %s'.[event.param.$echo,$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodChangeQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWare] -->
						<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodFactionModuleQuotas.{%s}.{%s}.{2}($Quota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodTriggerFaction" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled?">
							<append_to_list name="$DADVT.$DAGodFactionsTriggered" exact="event.param.$echo"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGodSignalledActive" param="event.param.$echo"/>
							<debug_text text="'MOD: DAMenus God -- %s -- Faction triggered.'.[event.param.$echo]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus God -- %s -- Faction triggered but not enabled.'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodTriggerMultipleFactions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="event.param.$echo.count">
							<set_value name="$LocFactions" exact="event.param.$echo"/>
							<do_for_each name="$LocFaction" in="$LocFactions">
								<do_if value="$LocFaction.isactive and (not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}) and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count gt 1)">
									<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled != true)">
										<set_value name="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled" exact="true"/>
									</do_if>
									<do_elseif value="not $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled?">
										<debug_text text="'MOD: DAMenus God : ExecuteOption_GodTriggerMultipleFactions -- %s -- Unable to find $DADVT.$DAGodFactionModuleQuotas.{%s}.$Enabled'.[$LocFaction,$LocFaction]" context="false" filter="error"/>
									</do_elseif>
									<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled">
										<append_to_list name="$DADVT.$DAGodFactionsTriggered" exact="$LocFaction"/>
										<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGodSignalledActive" param="$LocFaction"/>
										<debug_text text="'MOD: DAMenus God : ExecuteOption_GodTriggerMultipleFactions -- %s -- Faction triggered.'.[$LocFaction]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
									</do_if>
								</do_if>
								<do_elseif value="not $LocFaction.isactive">
									<debug_text text="'MOD: DAMenus God : ExecuteOption_GodTriggerMultipleFactions -- %s -- Attempted to trigger on inactive faction'.[$LocFaction]" context="false" filter="error"/>
								</do_elseif>
								<do_elseif value="$DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}">
									<debug_text text="'MOD: DAMenus God : ExecuteOption_GodTriggerMultipleFactions -- %s -- Attempted to trigger on an already triggered faction'.[$LocFaction]" context="false" filter="error"/>
								</do_elseif>
								<do_elseif value="not ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count gt 1))">
									<debug_text text="'MOD: DAMenus God : ExecuteOption_GodTriggerMultipleFactions -- %s -- Attempted to trigger on faction without table set up -- $DADVT.$DAGodFactionModuleQuotas.{%s}?: %s -- $DADVT.$DAGodFactionModuleQuotas.{%s}.keys.list.count: %s'.[$LocFaction,$LocFaction,$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}?,$LocFaction,$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count]" context="false" filter="error"/>
								</do_elseif>
							</do_for_each>
							<remove_value name="$LocFactions"/>
						</do_if>
						<do_else>
							<!-- ERROR -->
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<library name="DA_God_Activate_All_Button">
					<actions>
						<set_value name="$LocFactionList" exact="[]"/>
						<append_list_elements name="$LocFactionList" other="$DADVT.$DAGodFactionModuleQuotas.keys.list"/>
						<sort_list list="$LocFactionList" sortbyvalue="loop.element.knownname"/>
						<!-- Activate All Button -->
						<set_value name="$FactionsNotActivated" exact="[]"/>
						<do_if value="$LocFactionList.count" min="1">
							<do_for_each name="$LocFaction" in="$LocFactionList">
								<do_if value="$LocFaction.isactive and (not $FactionsNotActivated.indexof.{$LocFaction}) and (not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}) and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count gt 1)">
									<append_to_list name="$FactionsNotActivated" exact="$LocFaction"/>
								</do_if>
							</do_for_each>
						</do_if>
						<remove_value name="$LocFactionList"/>
						<do_if value="$FactionsNotActivated.count" min="1">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 1,
									$colSpan = 8,
									$text = table[
									  $text   = {33232474,356}.[$FactionsNotActivated.count],
									  $color  = $DAMVT.$TextGreen,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1356}.[$FactionsNotActivated.count],
									$onClick = ExecuteOption_GodTriggerMultipleFactions,
									$onRightClick = ExecuteOption_GodTriggerMultipleFactions,
									$echo = $FactionsNotActivated
								]"/>
						</do_if>
						<do_elseif value="$FactionsNotActivated.count == 0">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="'%s %s %s'.[{33232474,346},{1001,2963},{1001,44}]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 8,
									$text = $LocText,
									$halign = 'center',
									$cellBGColor = $DAMVT.$HeaderBackgroundBright
								]"/>
							<remove_value name="$LocText"/>
						</do_elseif>
						<remove_value name="$FactionsNotActivated"/>
					</actions>
				</library>
				<!-- BP -->
				<cue name="DA_BP_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- OPTIONS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,108},{33232474,117}]" comment="DA BP Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- OPTIONS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,385},
								$mouseOverText = {33232474,1385},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 5, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DADVT.$DABPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DABPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1385},
								$onClick = ExecuteOption_BPEnable,
								$onRightClick = ExecuteOption_BPEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,387},
								$mouseOverText = {33232474,1387},
								$cellBGColor = $DAMVT.$BodyBackgroundBright
							]"/>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 4,
									$text = table[
									  $text   =  if $DADVT.$DABPDebugEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DABPDebugEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1387},
									$onClick = ExecuteOption_BPDebugEnable,
									$onRightClick = ExecuteOption_BPDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{1004,16},{1001,2679}]" comment="Scan Settings"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DADVT.$DABPEnable">
							<!-- SUBMENUS BODY -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {1001,9197},
								$halign = 'left',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 4,
								$text = {33232474,386},
								$halign = 'center',
								$mouseOverText = {33232474,1386},
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
							<do_all exact="$DADVT.$DABPClassRequirements.keys.list.count" counter="$A">
								<!-- BODY -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = $DADVT.$DABPClassRequirements.keys.list.{$A},
										$halign = 'left',
										$cellBGColor = $DAMVT.$BodyBackgroundBright
									]"/>
								<set_value name="$LocMax" exact="[200,$DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}} * 2].max"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 5,
										$colSpan = 4,
										$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
										$min = 0,
										$minSelect = 1,
										$max = $LocMax,
										$maxSelect = $LocMax,
										$exceedMaxValue = false,
										$start = $DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}},
										$step = 1,
										$echo = $DADVT.$DABPClassRequirements.keys.list.{$A},
									]"/>
								<remove_value name="$LocMax"/>
							</do_all>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,2380},
									$halign = 'left',
									$mouseOverText = {33232474,1380},
									$cellBGColor = $DAMVT.$BodyBackgroundBright
								]"/>
							<set_value name="$LocMax" exact="[200,$DADVT.$DABPUnkownClassRequirement * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
									$min = 0,
									$minSelect = 1,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DABPUnkownClassRequirement,
									$step = 1,
									$echo = 'Unknown',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = {1001,8942},
									$halign = 'center',
									$cellBGColor = $DAMVT.$BodyBackgroundDark
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,108},{1001,4836}]" comment="DA BP Menus"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 2,
								$colSpan = 6,
								$text = $LocText,
								$halign = 'center',
								$cellBGColor = $DAMVT.$HeaderBackgroundBright
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = '',
								$cellBGColor = $DAMVT.$HeaderBackgroundDark
							]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- SUBMENUS BODY -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,381}, $id='menu_bp_progress']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2381},
								$halign = 'center',
								$wordwrap = true
							]"/>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,382}, $id='menu_bp_progress_modules']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,383}, $id='menu_bp_progress_ships']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,384}, $id='menu_bp_progress_equipment']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,388}, $id='menu_bp_progress_misc']"/>
					</actions>
				</cue>
				<cue name="Menu_BP_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,385},
								$mouseOverText = {33232474,1385}
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DABPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DABPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1385},
								$onClick = ExecuteOption_BPEnable,
								$onRightClick = ExecuteOption_BPEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,387},
								$mouseOverText = {33232474,1387}
							]"/>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DABPDebugEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DABPDebugEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$highlightColor = $DAMVT.$ButtonHighlight,
									$mouseOverText = {33232474,1387},
									$onClick = ExecuteOption_BPDebugEnable,
									$onRightClick = ExecuteOption_BPDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = {1001,9197},
								$halign = 'left',
							]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 5,
								$text = {33232474,386},
								$halign = 'center',
								$mouseOverText = {33232474,1386}
							]"/>
							<do_all exact="$DADVT.$DABPClassRequirements.keys.list.count" counter="$A">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 3,
										$text = $DADVT.$DABPClassRequirements.keys.list.{$A},
										$halign = 'left'
									]"/>
								<set_value name="$LocMax" exact="[200,$DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}} * 2].max"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 4,
										$colSpan = 5,
										$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
										$min = 0,
										$minSelect = 1,
										$max = $LocMax,
										$maxSelect = $LocMax,
										$exceedMaxValue = false,
										$start = $DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}},
										$step = 1,
										$echo = $DADVT.$DABPClassRequirements.keys.list.{$A},
									]"/>
								<remove_value name="$LocMax"/>
							</do_all>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 3,
									$text = {33232474,2380},
									$halign = 'left',
									$mouseOverText = {33232474,1380}
								]"/>
							<set_value name="$LocMax" exact="[200,$DADVT.$DABPUnkownClassRequirement * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 4,
									$colSpan = 5,
									$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
									$min = 0,
									$minSelect = 1,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DABPUnkownClassRequirement,
									$step = 1,
									$echo = 'Unknown',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Modules" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.pier,class.dockarea,class.production,class.storage,class.defencemodule,class.buildmodule,class.habitation,class.welfaremodule,class.processingmodule,class.connectionmodule]"/>
							<set_value name="$LocClassesNames" exact="[{20104,79801},{20104,79901},{1001,2421},{1001,2422},{1001,2424},{1001,2439},{1001,2451},{1001,9620},{1001,9621},{20104,59901}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Ships" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.ship_xs,class.ship_s,class.ship_m,class.ship_l,class.ship_xl]"/>
							<set_value name="$LocClassesNames" exact="[{33232474,2382},{33232474,2383},{33232474,2384},{33232474,2385},{33232474,2386}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Equipment" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.missileturret,class.turret,class.missilelauncher,class.engine,class.shieldgenerator,class.weapon,class.satellite,class.missile,class.countermeasure]"/>
							<set_value name="$LocClassesNames" exact="[{1001,9031},{1001,8397},{1001,9030},{1001,1103},{1001,1317},{1001,1301},{1001,1327},{1001,1304},{1001,8063}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Misc" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Ware -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {1001,45},
								$halign = 'left'
							]"/>
						<!-- Progress -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 4,
								$text = {1001,9513},
								$halign = 'center'
							]"/>
						<!-- Horizontal Bar by SirNukes -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocWare" in="$LocWareList">
								<do_if value="@$LocWare.macro">
									<set_value name="$LocMacro" exact="$LocWare.macro"/>
								</do_if>
								<do_elseif value="@$LocWare.objectmacro">
									<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
								</do_elseif>
								<do_if value="$LocMacro? and @$LocMacro">
									<do_if value="not $LocMacro.isclass.[class.pier,class.dockarea,class.production,class.storage,class.defencemodule,class.buildmodule,class.connectionmodule,class.habitation,class.welfaremodule,class.processingmodule,
										class.ship_xs,class.ship_s,class.ship_m,class.ship_l,class.ship_xl,
										class.turret,class.missileturret,class.missilelauncher,class.engine,class.shieldgenerator,class.weapon,class.satellite,class.missile,class.countermeasure]">
										<include_actions ref="Library_BPAddEntryRow"/>
									</do_if>
								</do_if>
								<remove_value name="$LocMacro"/>
							</do_for_each>
							<remove_value name="$LocWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPEnable">
							<set_value name="$DADVT.$DABPEnable" exact="false"/>
							<set_value name="$DADVT.$DABPDebugEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DABPEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventBPUpdateLibrary"/>
						</do_else>
						<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPEnable to %s'.[$DADVT.$DABPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPDebugEnable">
							<set_value name="$DADVT.$DABPDebugEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DABPDebugEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPDebugEnable to %s'.[$DADVT.$DAGodDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPChangeRequirement" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="event.param.$echo == 'Unknown'">
							<set_value name="$DADVT.$DABPUnkownClassRequirement" exact="event.param.$value"/>
							<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPUnkownClassRequirement to %s'.[$DADVT.$DABPUnkownClassRequirement]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<do_elseif value="$DADVT.$DABPClassRequirements.{event.param.$echo}?">
							<set_value name="$DADVT.$DABPClassRequirements.{event.param.$echo}" exact="event.param.$value"/>
							<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPClassRequirements.{%s} to %s'.[event.param.$echo,$DADVT.$DABPClassRequirements.{event.param.$echo}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_elseif>
						<do_else>
							<debug_text text="'MOD: DAMenus BP -- ERROR -- ExecuteOption_BPChangeRequirement did not receive proper data. %s'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<library name="Library_BPAddEntryRow">
					<actions>
						<do_if value="$LocWare? and @$LocWare and $LocMacro? and @$LocMacro and $DADVT.$DABPTracking.{$LocWare}? and $DADVT.$DABPTracking.{$LocWare}.{1}? and $DADVT.$DABPClassRequirements.{$LocMacro.class}?">
							<do_if value="($DADVT.$DABPTracking.{$LocWare}.{1} ge $DADVT.$DABPClassRequirements.{$LocMacro.class}) and (not player.blueprints.{$LocWare}.any.exists) and (not $LocWare.tags.indexof.{tag.noplayerblueprint}) and (not $LocWare.tags.indexof.{tag.noblueprint})">
								<!-- Add BP -->
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = $LocWare.name,
									$halign = 'left'
								]"/>
							<set_value name="$LocRequired" exact="$DADVT.$DABPClassRequirements.{$LocMacro.class}"/>
							<set_value name="$LocCurrent" exact="[$DADVT.$DABPTracking.{$LocWare}.{1},$DADVT.$DABPClassRequirements.{$LocMacro.class}].min"/>
							<do_if value="($LocCurrent ge $LocRequired) or player.blueprints.{$LocWare}.any.exists">
								<set_value name="$LocText" exact="{1001,3416}" comment="Completed"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'%s / %s'.[$LocCurrent,$LocRequired]"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 1,
									$text = $LocText,
									$halign = 'center'
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 6, 
									$colSpan		= 3,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= 0,
									$current		= $LocCurrent,
									$max			= $LocRequired,
									$mouseOverText	= $LocText,
									$markerColor	= $DAMVT.$MarkerTransparent,
								]"/>
							<remove_value name="$LocRequired"/>
							<remove_value name="$LocCurrent"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<!-- Information Menus -->
				<cue name="DA_Information_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,401}, $id='menu_information_milstrength']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,402}, $id='menu_information_econstrength']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,403}, $id='menu_information_econdetails']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,404}, $id='menu_information_resourcefullness']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,405}, $id='menu_information_productioncount']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,406}, $id='menu_information_traderprofit']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,408}, $id='menu_information_shipbreakdown']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,409}, $id='menu_information_sectorbreakdown']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,410}, $id='menu_information_stationcalculator']"/>
						<do_if value="$DADVT.$DADynamicWarEnable and $DADVT.$DADynamicWarStatTracking">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,144}, $id='menu_dynamicwar_warhistory']"/>
						</do_if>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,213}, $id='menu_fill_statistics']"/>
						</do_if>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,381}, $id='menu_bp_progress']"/>
						</do_if>
						<!-- Exiting back will now revert display option to 1 so that history isn't automatically reset -->
						<do_if value="$DAMVT.$InfoMilDisplayOption == 2">
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
						</do_if>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 2">
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
						</do_if>
					</actions>
				</cue>
				<!-- Done: 20240524 Reworked again -->
				<cue name="Menu_Information_MilStrength" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,4817}+':', $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Display Mode"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 3, 
								$colSpan = 8,
								$text = table[
								  $text   =  [{33232474,2410},{33232474,2411}].{$DAMVT.$InfoMilDisplayOption}, 
								  $color  =  $DAMVT.$TextBlue,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$onClick = ExecuteOption_InfoMilStrengthDisplay,
								$onRightClick = ExecuteOption_InfoMilStrengthDisplay,
								$cellBGColor = $DAMVT.$BodyBackgroundDark
							]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Faction knownname -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,43}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Total: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- XL: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- L: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- M: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- S: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Threat Score -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = {33232474,2412}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- LocGalaxyTotal = [Total,TotalXL,TotalL,TotalM,TotalS,TotalTS] -->
						<set_value name="$LocGalaxyTotal" exact="[0,0,0,0,0,0]"/>
						<!-- MilStrengthTable.{$LocFaction} = [Total,TotalXL,TotalL,TotalM,TotalS,TotalTS] -->
						<set_value name="$MilStrengthTable" exact="table[]"/>
						<do_for_each name="$LocFaction" in="$FactionList">
							<do_if value="$LocFaction.isactive">
								<set_value name="$MilStrengthTable.{$LocFaction}" exact="[0,0,0,0,0,0]"/>
								<include_actions ref="Library_GetMilStrength"/>
							</do_if>
						</do_for_each>
						<set_value name="$SortedFactionList" exact="$MilStrengthTable.keys.list"/>
						<sort_list list="$SortedFactionList" sortbyvalue="loop.element.knownname"/>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1" comment="Ship Counts">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddMilStrengthRow"/>
							</do_for_each>
						</do_if>
						<do_elseif value="$DAMVT.$InfoMilDisplayOption == 2" comment="Count history">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddMilStrengthHistoryRow"/>
							</do_for_each>
						</do_elseif>
						<do_if value="not $DAMVT.$DWMilStrengthHistory.$Galaxy?">
							<set_value name="$DAMVT.$DWMilStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
						</do_if>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1" comment="Ship Counts">
							<include_actions ref="Library_AddStrengthSummaryRow"/>
						</do_if>
						<do_elseif value="$DAMVT.$InfoMilDisplayOption == 2" comment="Count history">
							<include_actions ref="Library_AddMilStrengthHistorySummaryRow"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and (($DAMVT.$DWMilStrengthHistory.$Galaxy.{1} + 5s) le player.age)">
								<set_value name="$DAMVT.$DWMilStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
							</do_if>
							<do_for_each name="$LocFaction" in="$MilStrengthTable.keys.list">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and (($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{1} + 5s) le player.age)">
									<set_value name="$DAMVT.$DWMilStrengthHistory.{$LocFaction}" exact="[player.age,$MilStrengthTable.{$LocFaction}.{1},$MilStrengthTable.{$LocFaction}.{2},$MilStrengthTable.{$LocFaction}.{3},$MilStrengthTable.{$LocFaction}.{4},$MilStrengthTable.{$LocFaction}.{5},$MilStrengthTable.{$LocFaction}.{6}]"/>
								</do_if>
							</do_for_each>
						</do_elseif>
						<remove_value name="$LocGalaxyTotal"/>
						<remove_value name="$MilStrengthTable"/>
						<remove_value name="$SortedFactionList"/>
						<remove_value name="$LocText"/>
					</actions>
				</cue>
				<!-- 20240722 Reworked to match mil strength -->
				<cue name="Menu_Information_EconStrength" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,4817}+':', $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Display Mode"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 3, 
								$colSpan = 8,
								$text = table[
								  $text   =  [{33232474,2410},{33232474,2411}].{$DAMVT.$InfoEcoDisplayOption}, 
								  $color  =  $DAMVT.$TextBlue,
								  $halign = 'center',
								],
								$highlightColor = $DAMVT.$ButtonHighlight,
								$onClick = ExecuteOption_InfoEcoStrengthDisplay,
								$onRightClick = ExecuteOption_InfoEcoStrengthDisplay,
								$cellBGColor = $DAMVT.$BodyBackgroundDark
							]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Faction knownname -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,43}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Total -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- XL -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- L -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- M -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- S -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Stations -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 9, $colSpan = 2, $text = {1001,4}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- LocGalaxyTotal = [Total,TotalXL,TotalL,TotalM,TotalS,TotalStations] -->
						<set_value name="$LocGalaxyTotal" exact="[0,0,0,0,0,0]"/>
						<!-- EcoStrengthTable.{$LocFaction} = [Total,TotalXL,TotalL,TotalM,TotalS,TotalStations] -->
						<set_value name="$EcoStrengthTable" exact="table[]"/>
						<do_for_each name="$LocFaction" in="$FactionList">
							<do_if value="$LocFaction.isactive">
								<set_value name="$EcoStrengthTable.{$LocFaction}" exact="[0,0,0,0,0,0]"/>
								<include_actions ref="Library_GetEcoStrength"/>
							</do_if>
						</do_for_each>
						<set_value name="$SortedFactionList" exact="$EcoStrengthTable.keys.list"/>
						<sort_list list="$SortedFactionList" sortbyvalue="loop.element.knownname"/>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1" comment="Ship Counts">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddEcoStrengthRow"/>
							</do_for_each>
						</do_if>
						<do_elseif value="$DAMVT.$InfoEcoDisplayOption == 2" comment="Count history">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddEcoStrengthHistoryRow"/>
							</do_for_each>
						</do_elseif>
						<do_if value="not $DAMVT.$DWEcoStrengthHistory.$Galaxy?">
							<set_value name="$DAMVT.$DWEcoStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
						</do_if>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1" comment="Ship Counts">
							<include_actions ref="Library_AddStrengthSummaryRow"/>
						</do_if>
						<do_elseif value="$DAMVT.$InfoEcoDisplayOption == 2" comment="Count history">
							<include_actions ref="Library_AddEcoStrengthHistorySummaryRow"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and (($DAMVT.$DWEcoStrengthHistory.$Galaxy.{1} + 5s) le player.age)">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
							</do_if>
							<do_for_each name="$LocFaction" in="$EcoStrengthTable.keys.list">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and (($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{1} + 5s) le player.age)">
									<set_value name="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}" exact="[player.age,$EcoStrengthTable.{$LocFaction}.{1},$EcoStrengthTable.{$LocFaction}.{2},$EcoStrengthTable.{$LocFaction}.{3},$EcoStrengthTable.{$LocFaction}.{4},$EcoStrengthTable.{$LocFaction}.{5},$EcoStrengthTable.{$LocFaction}.{6}]"/>
								</do_if>
							</do_for_each>
						</do_elseif>
						<remove_value name="$LocGalaxyTotal"/>
						<remove_value name="$EcoStrengthTable"/>
						<remove_value name="$SortedFactionList"/>
						<remove_value name="$LocText"/>
					</actions>
				</cue>
				<!-- Parts of this code was done by SirNukes, all credit given -->
				<!-- TODO: Some analytical statements or hints about what would be good to check -->
				<cue name="Menu_Information_EconDetails" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$wares_existing" exact="table[]"/>
						<set_value name="$wares_wanted" exact="table[]"/>
						<find_station_by_true_owner groupname="$stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<find_object groupname="$buildstorages" owner="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" class="class.buildstorage" multiple="true"/>
						<!--Add build storage modules for each station; these are also containers with their own cargo/etc data.-->
						<do_for_each name="$station" in="$stations">
							<do_if value="($station.buildstorage?) and ($station.buildstorage != null) and (not $buildstorages.indexof.{$station.buildstorage})">
								<add_to_group groupname="$buildstorages" object="$station.buildstorage"/>
							</do_if>
						</do_for_each>
						<add_to_group groupname="$stations" group="$buildstorages"/>
						<remove_value name="$buildstorages"/>
						<!--Main loop to gather info.-->
						<do_for_each name="$cont" in="$stations">
							<do_if value="($cont.isclass.buildstorage) and (@$cont.base.iswreck or (not (@$cont.base.hasplannedconstruction or @$cont.base.isoperational)))">
								<continue/>
							</do_if>
							<!--Go through resources.-->
							<do_for_each name="$ware" in="$cont.resources.list">
								<!-- 20241014 Fixing negative build storage numbers -->
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
							</do_for_each>
							<!--Go through products.-->
							<do_for_each name="$ware" in="$cont.products.list">
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<!-- 20241014 Adding 2/3 of target amount for production stations better represents the goal of producers having 66% stock -->
									<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target * 2 / 3" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
							</do_for_each>
							<!--Tradewares are those that are not product or resource.-->
							<do_for_each name="$ware" in="$cont.tradewares.list">
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$wares_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
							</do_for_each>
						</do_for_each>
						<remove_value name="$stations"/>
						<!--Add all trade ships. -->
						<find_ship_by_true_owner groupname="$ships" faction="$DAMVT.$DAMenuSelectedFaction" multiple="true" masstraffic="false" space="player.galaxy" functional="true"/>
						<do_for_each name="$ship" in="$ships">
							<do_for_each name="$ware" valuename="$amount" in="$ship.cargo.table">
								<set_value name="$wares_existing.{$ware}" exact="$amount" operation="add"/>
								<set_value name="$wares_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
						</do_for_each>
						<remove_value name="$ships"/>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,45}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ('%s / %s'.[{1001,1406},{1001,2903}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 6, $text = ('%s / %s / %s'.[{33232474,2401},{33232474,2402},{33232474,2403}]), $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$ware" valuename="$wanted" in="$wares_wanted">
							<set_value name="$exists" exact="$wares_existing.{$ware}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $ware.name, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<set_value name="$LocStart" exact="$wanted"/>
							<set_value name="$LocCurrent" exact="$exists"/>
							<set_value name="$LocMax" exact="[$exists,$wanted].max"/>
							<!-- Colors by deadair -->
							<set_value name="$vcolor" exact="$DAMVT.$FillBlueDark"/>
							<set_value name="$pcolor" exact="$DAMVT.$FillGreenDark"/>
							<set_value name="$ncolor" exact="$DAMVT.$FillRedDark"/>
							<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							<do_if value="$wanted gt 0">
								<set_value name="$LocPercent" exact="'%,s%%'.[((($exists)f / ([$wanted,1.0].max)f) * 100.0)]"/>
							</do_if>
							<do_else>
								<set_value name="$LocPercent" exact="{1001,19}"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocPercent, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 7, 
									$colSpan		= 6,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $LocStart,
									$current		= $LocCurrent,
									$max			= $LocMax,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText 	= '%s: %s / %s: %s'.[{1001,1406},$exists,{1001,2903},$wanted],
									$cellBGColor 	= $DAMVT.$BodyBackgroundDark
								]"/>
						</do_for_each>
					</actions>
				</cue>
				<!-- Parts of this code was done by SirNukes, all credit given -->
				<!-- TODO: Some analytical statements or hints about what would be good to check -->
				<cue name="Menu_Information_ResourceFullness" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$res_existing" exact="table[]"/>
						<set_value name="$res_wanted" exact="table[]"/>
						<set_value name="$pro_existing" exact="table[]"/>
						<set_value name="$pro_wanted" exact="table[]"/>
						<!--Get all stations and their build storage. -->
						<find_station_by_true_owner groupname="$stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<find_object groupname="$buildstorages" owner="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" class="class.buildstorage" multiple="true"/>
						<!--Add build storage modules for each station; these are also containers with their own cargo/etc data.-->
						<do_for_each name="$station" in="$stations">
							<do_if value="$station.buildstorage? and $station.buildstorage != null and (not $buildstorages.indexof.{$station.buildstorage})">
								<add_to_group groupname="$buildstorages" object="$station.buildstorage"/>
							</do_if>
						</do_for_each>
						<add_to_group groupname="$stations" group="$buildstorages"/>
						<remove_value name="$buildstorages"/>
						<!--Main loop to gather info.-->
						<do_for_each name="$cont" in="$stations">
							<do_if value="($cont.isclass.buildstorage) and (@$cont.base.iswreck or (not (@$cont.base.hasplannedconstruction or @$cont.base.isoperational)))">
								<continue/>
							</do_if>
							<!--Go through resources.-->
							<do_for_each name="$ware" in="$cont.resources.list">
								<!-- 20241014 Fixing negative build storage numbers -->
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$res_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$res_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<set_value name="$res_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$res_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
								<set_value name="$pro_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$pro_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
							<!--Go through products.-->
							<do_for_each name="$ware" in="$cont.products.list">
								<set_value name="$res_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$res_wanted.{$ware}" exact="0" operation="add"/>
								<!-- 20241014 Fixing negative build storage numbers -->
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$pro_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$pro_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<set_value name="$pro_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$pro_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
							</do_for_each>
							<!-- Tradewares -->
							<do_for_each name="$ware" in="$cont.tradewares.list">
								<!-- 20241014 Fixing negative build storage numbers -->
								<do_if value="@$cont.cargo.{$ware}.count gt 0">
									<set_value name="$res_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$res_existing.{$ware}" exact="0" operation="add"/>
								</do_else>
								<do_if value="@$cont.cargo.{$ware}.target gt 0">
									<set_value name="$res_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$res_wanted.{$ware}" exact="0" operation="add"/>
								</do_else>
								<set_value name="$pro_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$pro_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
						</do_for_each>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Ware -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,45}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!--Production-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {33232474,2404}, $mouseover = {1001,1406} + '/' + {1001,2903}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<!--Consumption-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = {33232474,2405}, $mouseover = {1001,1406} + '/' + {1001,2903}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$ware" in="$res_wanted">
							<set_value name="$res_output" exact="$res_existing.{$ware}"/>
							<set_value name="$rescap_output" exact="$res_wanted.{$ware}"/>
							<set_value name="$pro_output" exact="$pro_existing.{$ware}"/>
							<set_value name="$procap_output" exact="$pro_wanted.{$ware}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $ware.name, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<!-- Production -->
							<do_if value="$procap_output == 0">
								<set_value name="$vcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_if>
							<do_else>
								<set_value name="$vcolor" exact="$DAMVT.$FillBlueDark"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillBlueDark"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillRedDark"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_else>
							<do_if value="$procap_output">
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 5, 
									$colSpan		= 4,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $procap_output,
									$current		= $pro_output,
									$max			= $procap_output,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText 	= '%s: %s / %s: %s'.[{1001,1406},$pro_output,{1001,8393},$procap_output],
									$cellBGColor 	= $DAMVT.$BodyBackgroundDark
								]"/>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,9}, $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="none"/>
							</do_else>
							<!-- Consumption -->
							<do_if value="$rescap_output == 0">
								<set_value name="$vcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_if>
							<do_else>
								<set_value name="$vcolor" exact="$DAMVT.$FillBlueDark"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillBlueDark"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillRedDark"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_else>
							<do_if value="$rescap_output">
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 9, 
									$colSpan		= 4,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $rescap_output,
									$current		= $res_output,
									$max			= $rescap_output,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText 	= '%s: %s / %s: %s'.[{1001,1406},$res_output,{1001,8393},$rescap_output],
									$cellBGColor 	= $DAMVT.$BodyBackgroundDark
								]"/>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $halign = 'center', $text = {1001,9}, $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							</do_else>
						</do_for_each>
					</actions>
				</cue>
				<cue name="Menu_Information_ProductionCount" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$ModuleTable" exact="table[]"/>
						<set_value name="$PlannedModuleTable" exact="table[]"/>
						<set_value name="$MacroList" exact="[]"/>
						<find_station_by_true_owner groupname="$Stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<do_for_each name="$Station" in="$Stations">
							<set_value name="$StationModules" exact="$Station.modules.operational.list"/>
							<do_for_each name="$Module" in="$StationModules">
								<do_if value="$Module.macro.isclass.production">
									<set_value name="$ModuleTable.{$Module.macro}" exact="1" operation="add"/>
									<do_if value="not $MacroList.indexof.{$Module.macro}">
										<append_to_list name="$MacroList" exact="$Module.macro"/>
									</do_if>
								</do_if>
							</do_for_each>
							<set_value name="$PlannedModules" exact="$Station.plannedconstruction.sequence"/>
							<do_all exact="$PlannedModules.count" counter="$M">
								<do_if value="$PlannedModules.{$M}.macro.isclass.production">
									<set_value name="$PlannedModuleTable.{$PlannedModules.{$M}.macro}" exact="1" operation="add"/>
									<do_if value="not $MacroList.indexof.{$PlannedModules.{$M}.macro}">
										<append_to_list name="$MacroList" exact="$PlannedModules.{$M}.macro"/>
									</do_if>
								</do_if>
							</do_all>
							<remove_value name="$StationModules"/>
							<remove_value name="$PlannedModules"/>
						</do_for_each>
						<sort_list list="$MacroList" sortbyvalue="loop.element.name"/>
						<remove_value name="$Stations"/>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,56}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="module"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {1001,1311}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="operational"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = {1001,8433}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="planned modules"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$Macro" in="$MacroList">
							<do_if value="$ModuleTable.keys.list.indexof.{$Macro} or $PlannedModuleTable.keys.list.indexof.{$Macro}">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $Macro.name, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright, $wordwrap = true]" comment="macroname"/>
								<do_if value="$ModuleTable.{$Macro}?">
									<set_value name="$OperationalCount" exact="$ModuleTable.{$Macro}"/>
								</do_if>
								<do_else>
									<set_value name="$OperationalCount" exact="0"/>
								</do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = ('%s %s'.[$OperationalCount,{1001,1311}]), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number Operational"/>
								<do_if value="$ModuleTable.{$Macro}? and $PlannedModuleTable.{$Macro}?">
									<do_if value="$ModuleTable.{$Macro} ge $PlannedModuleTable.{$Macro}">
										<set_value name="$PlannedCount" exact="0"/>
									</do_if>
									<do_elseif value="$PlannedModuleTable.{$Macro} gt $ModuleTable.{$Macro}">
										<set_value name="$PlannedCount" exact="$PlannedModuleTable.{$Macro} - $ModuleTable.{$Macro}"/>
									</do_elseif>
								</do_if>
								<do_elseif value="$PlannedModuleTable.{$Macro}?">
									<set_value name="$PlannedCount" exact="$PlannedModuleTable.{$Macro}"/>
								</do_elseif>
								<do_else>
									<set_value name="$PlannedCount" exact="0"/>
								</do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = ('%s %s'.[$PlannedCount,{1001,8433}]), $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Number Planned Modules"/>
								<remove_value name="$OperationalCount"/>
								<remove_value name="$PlannedCount"/>
							</do_if>
						</do_for_each>
						<remove_value name="$ModuleTable"/>
						<remove_value name="$PlannedModuleTable"/>
						<remove_value name="$MacroList"/>
					</actions>
				</cue>
				<cue name="Menu_Information_TraderProfit" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="not $DADVT?">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						</do_if>
						<do_if value="not $DAGVT?">
							<set_value name="$DAGVT" exact="global.$DAVarTable"/>
						</do_if>
						<do_if value="not $DAMVT?">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 9, $text = {33232474,407}, $mouseOverText = {33232474,1407}, $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Enable DA Trader Profit Tracking"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 10, 
								$colSpan = 3,
								$text = table[
								  $text   =  if $DAGVT.$DATPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DAGVT.$DATPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$cellBGColor = $DAMVT.$BodyBackgroundDark,
								$highlightColor = $DAMVT.$ButtonHighlight,
								$mouseOverText = {33232474,1407},
								$onClick = ExecuteOption_TPEnable,
								$onRightClick = ExecuteOption_TPEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 7, $text = {1001,2906}, $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="sort by"/>
						<do_if value="$DAGVT.$DATPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 8, 
									$colSpan = 5,
									$text = table[
									  $text   =  if $DAMVT.$TPSortByName then {1001,2809} else {33232474,2406}, 
									  $color  =  $DAMVT.$TextBlue,
									  $halign = 'center',
									],
									$cellBGColor = $DAMVT.$BodyBackgroundDark,
									$highlightColor = $DAMVT.$ButtonHighlight,
									$onClick = ExecuteOption_TPSortByNameEnable,
									$onRightClick = ExecuteOption_TPSortByNameEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 8,
									$colSpan = 5,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DAGVT.$DATPEnable and (($DAGVT.$DATPTraderTable? and $DAGVT.$DATPTraderTable.keys.count) or (global.$DALifetimeGrofit? and global.$DALifetimeGrofit.keys.count))">
							<!-- Calculations first, then menu -->
							<set_value name="$LocKeyList" exact="[]"/>
							<set_value name="$OutputTable" exact="table[]"/>
							<set_value name="$LocMax" exact="0Cr"/>
							<set_value name="$LocMin" exact="0Cr"/>
							<set_value name="$LocMinToZero" exact="0Cr"/>
							<do_if value="$DAGVT.$DATPTraderTable? and ($DAGVT.$DATPTraderTable.keys.count gt 0)">
								<do_for_each name="$LocObject" in="$DAGVT.$DATPTraderTable.keys.list">
									<do_if value="not $OutputTable.{$LocObject}?">
										<set_value name="$OutputTable.{$LocObject}" exact="[0Cr,1s]"/>
									</do_if>
									<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1}?">
										<set_value name="$OutputTable.{$LocObject}.{1}" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1} gt $LocMax">
											<set_value name="$LocMax" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										</do_if>
										<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1} lt $LocMin">
											<set_value name="$LocMin" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										</do_if>
									</do_if>
									<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{2}?">
										<set_value name="$OutputTable.{$LocObject}.{2}" exact="[player.age - $DAGVT.$DATPTraderTable.{$LocObject}.{2},1s].max"/>
									</do_if>
								</do_for_each>
							</do_if>
							<do_if value="global.$DALifetimeGrofit? and (global.$DALifetimeGrofit.keys.count gt 0)">
								<do_for_each name="$LocShip" in="global.$DALifetimeGrofit.keys.list">
									<do_if value="not $OutputTable.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}" exact="[0Cr,1s]"/>
									</do_if>
									<do_if value="global.$DALifetimeGrofit.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}.{1}" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										<do_if value="global.$DALifetimeGrofit.{$LocShip} gt $LocMax">
											<set_value name="$LocMax" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										</do_if>
										<do_if value="global.$DALifetimeGrofit.{$LocShip} lt $LocMin">
											<set_value name="$LocMin" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										</do_if>
									</do_if>
									<do_if value="global.$DATaterStartTimes.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}.{2}" exact="[player.age - global.$DATaterStartTimes.{$LocShip},1s].max"/>
									</do_if>
								</do_for_each>
							</do_if>
							<do_if value="$OutputTable.keys.count" min="1">
								<set_value name="$LocKeyList" exact="$OutputTable.keys.list"/>
								<!-- Header -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $text = {1001,5}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="ship"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 4, $text = {33232474,2406}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Total lifetime estimated profit"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = {33232474,2408}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright, $wordwrap = true]" comment="Estimated profit per hour"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<do_if value="$DAMVT.$TPSortByName">
									<sort_list list="$LocKeyList" sortbyvalue="loop.element.knownname" sortdescending="false"/>
								</do_if>
								<do_else>
									<sort_list list="$LocKeyList" sortbyvalue="$OutputTable.{loop.element}.{1}" sortdescending="true"/>
								</do_else>
								<do_if value="$LocMin lt $LocMinToZero">
									<set_value name="$LocMinToZero" exact="0 - $LocMin"/>
								</do_if>
								<do_for_each name="$LocObject" in="$LocKeyList">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<set_value name="$LocName" exact="'%s(%s)'.[$LocObject.knownname,$LocObject.idcode]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $text = $LocName, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
									<remove_value name="$LocName"/>
									<set_value name="$LocText" exact="$OutputTable.{$LocObject}.{1}.formatted.default"/>
									<do_if value="$OutputTable.{$LocObject}.{1} gt 0">
										<set_value name="$VColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$PColor" exact="$DAMVT.$FillGreen"/>
										<set_value name="$NColor" exact="$DAMVT.$FillRed"/>
									</do_if>
									<do_else>
										<set_value name="$VColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$PColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$NColor" exact="$DAMVT.$FillRed"/>
									</do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
											$col			= 6, 
											$colSpan		= 4,
											$scaling		= true,
											$type			= 'statusbar',
											$start			= $LocMinToZero,
											$current		= $OutputTable.{$LocObject}.{1} + $LocMinToZero,
											$max			= $LocMax + $LocMinToZero,
											$mouseOverText	= $LocText,
											$valueColor		= $VColor,
											$posChangeColor	= $PColor,
											$negChangeColor	= $NColor,
											$markerColor	= $DAMVT.$MarkerTransparent,
											$cellBGColor 	= $DAMVT.$BodyBackgroundDark
										]"/>
									<remove_value name="$LocText"/>
									<remove_value name="$VColor"/>
									<remove_value name="$PColor"/>
									<remove_value name="$NColor"/>
									<set_value name="$LocNumber" exact="(($OutputTable.{$LocObject}.{1} / 100.0)f / (($OutputTable.{$LocObject}.{2})f / 3600.0))Cr"/>
									<set_value name="$LocText" exact="'%s %s / %s'.[$LocNumber.formatted.default,{1001,101},{1001,102}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
									<remove_value name="$LocNumber"/>
									<remove_value name="$LocText"/>
								</do_for_each>
							</do_if>
							<remove_value name="$LocKeyList"/>
							<remove_value name="$OutputTable"/>
							<remove_value name="$LocMax"/>
							<remove_value name="$LocMin"/>
							<remove_value name="$LocMinToZero"/>
						</do_if>
						<do_else>
							<!-- No data yet! -->
						</do_else>
					</actions>
				</cue>
				<cue name="Menu_Information_ShipBreakdown" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$PurposeTable" exact="table[]"/>
						<set_value name="$MacroTable" exact="table[]"/>
						<set_value name="$EquipmentTable" exact="table[]"/>
						<!-- Owner: $DAMVT.$DAMenuSelectedFaction -->
						<find_ship_by_true_owner groupname="$AllShips" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
							<match shiptype="shiptype.lasertower" negate="true"/>
						</find_ship_by_true_owner>
						<find_ship_by_true_owner groupname="$AllShips" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
							<match shiptype="shiptype.lasertower" negate="true"/>
						</find_ship_by_true_owner>
						<!-- Process data -->
						<do_for_each name="$Ship" in="$AllShips">
							<!-- PURPOSE -->
							<do_if value="not $PurposeTable.{$Ship.primarypurpose}?">
								<set_value name="$PurposeTable.{$Ship.primarypurpose}" exact="[$Ship,0,0,0,0]" comment="[$ExampleShip,XL,L,M,S]"/>
							</do_if>
							<do_if value="$PurposeTable.{$Ship.primarypurpose}?">
								<do_if value="$Ship.isclass.ship_xl">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{2}" exact="1" operation="add"/>
								</do_if>
								<do_elseif value="$Ship.isclass.ship_l">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{3}" exact="1" operation="add"/>
								</do_elseif>
								<do_elseif value="$Ship.isclass.ship_m">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{4}" exact="1" operation="add"/>
								</do_elseif>
								<do_elseif value="$Ship.isclass.ship_s">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{5}" exact="1" operation="add"/>
								</do_elseif>
							</do_if>
							<!-- MACRO -->
							<do_if value="not $MacroTable.{$Ship.macro}?">
								<set_value name="$MacroTable.{$Ship.macro}" exact="[$Ship,1]" comment="[$ExampleShip,count]"/>
							</do_if>
							<do_elseif value="$MacroTable.{$Ship.macro}?">
								<set_value name="$MacroTable.{$Ship.macro}.{2}" exact="1" operation="add"/>
							</do_elseif>
							<!-- Will add equipment info later -->
						</do_for_each>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!-- PURPOSE HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = {1001,86}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Specialisation"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- 1-3,4,5,6,7,8 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,9199}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Object Purpose"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Total"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="XL"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="L"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="M"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="S"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- PURPOSE BODY -->
						<set_value name="$PurposeKeys" exact="[purpose.fight,purpose.auxiliary,purpose.trade,purpose.build,purpose.mine,purpose.salvage,purpose.dismantling]"/>
						<set_value name="$PurposeKeysText" exact="[300,1500,200,400,500,1800,1900]" comment="Page 20213"/>
						<do_for_each name="$PurposeKey" in="$PurposeKeys" counter="$A">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="readtext.{20213}.{$PurposeKeysText.{$A}}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocText, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<do_if value="$PurposeTable.{$PurposeKey}?">
								<set_value name="$LocTotal" exact="$PurposeTable.{$PurposeKey}.{2} + $PurposeTable.{$PurposeKey}.{3} + $PurposeTable.{$PurposeKey}.{4} + $PurposeTable.{$PurposeKey}.{5}"/>
								<do_if value="$LocTotal gt 0">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocTotal, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Total"/>
									<do_all exact="4" counter="$B">
										<do_if value="$PurposeTable.{$PurposeKey}.{$B + 1}? and ($PurposeTable.{$PurposeKey}.{$B + 1} gt 0)">
											<set_value name="$LocCol" exact="4 + $B"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = $LocCol, $colSpan = 1, $text = $PurposeTable.{$PurposeKey}.{$B + 1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Dynamic Output"/>
											<remove_value name="$LocCol"/>
										</do_if>
										<do_elseif value="(not $PurposeTable.{$PurposeKey}.{$B + 1}?) or ($PurposeTable.{$PurposeKey}.{$B + 1} == 0)">
											<set_value name="$LocCol" exact="4 + $B"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = $LocCol, $colSpan = 1, $text = '0', $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Dynamic Output"/>
											<remove_value name="$LocCol"/>
										</do_elseif>
									</do_all>
								</do_if>
								<do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = '0', $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Total"/>
									<do_all exact="4" counter="$B">
										<do_if value="(not $PurposeTable.{$PurposeKey}.{$B + 1}?) or ($PurposeTable.{$PurposeKey}.{$B + 1} == 0)">
											<set_value name="$LocCol" exact="4 + $B"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = $LocCol, $colSpan = 1, $text = '0', $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Dynamic Output"/>
											<remove_value name="$LocCol"/>
										</do_if>
									</do_all>
								</do_else>
								<remove_value name="$LocTotal"/>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = '0', $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Total"/>
								<do_all exact="4" counter="$B">
									<do_if value="(not $PurposeTable.{$PurposeKey}.{$B + 1}?) or ($PurposeTable.{$PurposeKey}.{$B + 1} == 0)">
										<set_value name="$LocCol" exact="4 + $B"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = $LocCol, $colSpan = 1, $text = '0', $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Dynamic Output"/>
										<remove_value name="$LocCol"/>
									</do_if>
								</do_all>
								<remove_value name="$LocTotal"/>
							</do_else>
							<remove_value name="$LocText"/>
						</do_for_each>
						<remove_value name="$PurposeKeys"/>
						<remove_value name="$PurposeKeysText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- MACROS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = {1001,2303}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Ship Types"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- 1-4,5-8 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,5}, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Ship"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {1001,2637}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Total"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- MACROS BODY -->
						<set_value name="$SizeKeys" exact="[class.ship_xl,class.ship_l,class.ship_m,class.ship_s]"/>
						<set_value name="$SizeKeysText" exact="[48,49,50,51]"/>
						<do_for_each name="$Key" in="$SizeKeys" counter="$A">
							<set_value name="$LocText" exact="readtext.{1001}.{$SizeKeysText.{$A}}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<remove_value name="$LocText"/>
							<set_value name="$MacroList" exact="$MacroTable.keys.list"/>
							<sort_list list="$MacroList" sortbyvalue="$MacroTable.{loop.element}.{1}.macro.name"/>
							<do_for_each name="$Macro" in="$MacroList">
								<do_if value="$MacroTable.{$Macro}? and $Macro.isclass.{$Key}">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<set_value name="$LocText" exact="$MacroTable.{$Macro}.{1}.macro.name" comment="Overly complicated"/>
									<set_value name="$LocCount" exact="$MacroTable.{$Macro}.{2}"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $LocText, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Ship"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = $LocCount, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Total"/>
									<remove_value name="$LocText"/>
									<remove_value name="$LocCount"/>
								</do_if>
							</do_for_each>
						</do_for_each>
						<remove_value name="$SizeKeys"/>
						<remove_value name="$SizeKeysText"/>
						<remove_value name="$PurposeTable"/>
						<remove_value name="$MacroTable"/>
						<remove_value name="$EquipmentTable"/>
					</actions>
				</cue>
				<cue name="Menu_Information_SectorBreakdown" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<!-- Find Sectors, Gather info about sector, display, repeat -->
						<!-- Station count, Ship count and threatscore bar, resources? -->
						<!-- Col: 10 -->
						<find_sector name="$AllSectors" space="player.galaxy" multiple="true"/>
						<sort_list list="$AllSectors" sortbyvalue="loop.element.knownname"/>
						<do_for_each name="$Sector" in="$AllSectors" counter="$C">
							<do_if value="$C gt 1">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = 10,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							</do_if>
							<!-- Sector name and owner -->
							<set_value name="$LocOwnerName" exact="if ($Sector.trueowner == '') then {1001,38} else $Sector.trueowner.knownname" comment="Faction knownname or None"/>
							<set_value name="$LocText" exact="'%s: %s'.[{1001,9040},$LocOwnerName]" comment="Owner: Name"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $Sector.knownname, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundBright]" comment="Sector Name"/>
							<!-- Col 5+6 Below -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 4, $text = $LocText, $halign = 'left', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Owner: Name"/>
							<remove_value name="$LocOwnerName"/>
							<remove_value name="$LocText"/>
							<!-- Station Info -->
							<set_value name="$StationTable" exact="table[]"/>
							<find_station groupname="$AllStations" multiple="true" space="$Sector" functional="true">
								<match owner="faction.ownerless" negate="true"/>
							</find_station>
							<do_for_each name="$Station" in="$AllStations">
								<do_if value="$Station.trueowner? and ($Station.trueowner != faction.ownerless)">
									<!-- Count -->
									<do_if value="not $StationTable.{$Station.trueowner}?">
										<set_value name="$StationTable.{$Station.trueowner}" exact="table[]"/>
										<set_value name="$StationTable.{$Station.trueowner}.$Count" exact="1"/>
									</do_if>
									<do_elseif value="$StationTable.{$Station.trueowner}? and (not $StationTable.{$Station.trueowner}.$Count?)">
										<set_value name="$StationTable.{$Station.trueowner}.$Count" exact="1"/>
									</do_elseif>
									<do_else>
										<set_value name="$StationTable.{$Station.trueowner}.$Count" exact="1" operation="add"/>
									</do_else>
									<!-- Products -->
									<do_if value="$Station.products.list? and $Station.products.list.count">
										<do_for_each name="$Product" in="$Station.products.list">
											<do_if value="not $StationTable.{$Station.trueowner}.$Products?">
												<set_value name="$StationTable.{$Station.trueowner}.$Products" exact="[]"/>
												<append_to_list name="$StationTable.{$Station.trueowner}.$Products" exact="$Product"/>
											</do_if>
											<do_elseif value="$StationTable.{$Station.trueowner}.$Products? and (not $StationTable.{$Station.trueowner}.$Products.indexof.{$Product})">
												<append_to_list name="$StationTable.{$Station.trueowner}.$Products" exact="$Product"/>
											</do_elseif>
										</do_for_each>
									</do_if>
									<!-- Resources -->
									<do_if value="$Station.resources.primary.list? and $Station.resources.primary.list.count">
										<do_for_each name="$Resource" in="$Station.resources.primary.list">
											<do_if value="not $StationTable.{$Station.trueowner}.$Resources?">
												<set_value name="$StationTable.{$Station.trueowner}.$Resources" exact="[]"/>
												<append_to_list name="$StationTable.{$Station.trueowner}.$Resources" exact="$Resource"/>
											</do_if>
											<do_elseif value="$StationTable.{$Station.trueowner}.$Resources? and (not $StationTable.{$Station.trueowner}.$Resources.indexof.{$Resource})">
												<append_to_list name="$StationTable.{$Station.trueowner}.$Resources" exact="$Resource"/>
											</do_elseif>
										</do_for_each>
									</do_if>
									<!-- Threatscore -->
									<do_if value="$Station.threatscore" min="1">
										<do_if value="not $StationTable.{$Station.trueowner}.$ThreatScore?">
											<set_value name="$StationTable.{$Station.trueowner}.$ThreatScore" exact="$Station.threatscore"/>
										</do_if>
										<do_elseif value="$StationTable.{$Station.trueowner}.$ThreatScore?">
											<set_value name="$StationTable.{$Station.trueowner}.$ThreatScore" exact="$Station.threatscore" operation="add"/>
										</do_elseif>
									</do_if>
								</do_if>
							</do_for_each>
							<!-- Stations Output -->
							<set_value name="$LocText" exact="'%s: %s'.[{1001,4},$AllStations.count]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Stations: #"/>
							<remove_value name="$LocText"/>
							<remove_value name="$AllStations"/>
							<do_if value="$StationTable.keys.count">
								<set_value name="$FactionList" exact="$StationTable.keys.list"/>
								<sort_list list="$FactionList" sortbyvalue="loop.element.knownname"/>
								<set_value name="$OutputNumber" exact="0"/>
								<do_for_each name="$Faction" in="$FactionList" counter="$B">
									<do_if value="$StationTable.{$Faction}.$Count" min="1">
										<!-- Maybe slightly altering colors to differentiate? -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Faction: # Stations -->
										<!-- Station Threat Score: # -->
										<!-- Products: list -->
										<!-- Resources: list -->
										<set_value name="$LocText1" exact="'%s %s'.[$StationTable.{$Faction}.$Count,{1001,4}]" comment="# Stations"/>
										<set_value name="$LocText2" exact="'%s %s: %s'.[{1001,4},{33232474,2412},$StationTable.{$Faction}.$ThreatScore]" comment="Station Threat Score: #"/>
										<do_if value="$StationTable.{$Faction}.$Products? and $StationTable.{$Faction}.$Products.count">
											<set_value name="$LocText3" exact="'%s: '.[{1001,1610}]" comment="Products: "/>
											<sort_list list="$StationTable.{$Faction}.$Products" sortbyvalue="loop.element.name"/>
											<do_for_each name="$Product" in="$StationTable.{$Faction}.$Products" counter="$A">
												<do_if value="$A == 1">
													<set_value name="$LocText3" exact="'%s'.[$Product.name]" operation="add" comment="productname"/>
												</do_if>
												<do_else>
													<set_value name="$LocText3" exact="', %s'.[$Product.name]" operation="add" comment=", productname"/>
												</do_else>
											</do_for_each>
										</do_if>
										<do_else>
											<set_value name="$LocText3" exact="'%s: %s'.[{1001,1610},{1001,32}]" comment="Products: None"/>
										</do_else>
										<do_if value="$StationTable.{$Faction}.$Resources? and $StationTable.{$Faction}.$Resources.count">
											<set_value name="$LocText4" exact="'%s: '.[{1001,41}]" comment="Resources: "/>
											<sort_list list="$StationTable.{$Faction}.$Resources" sortbyvalue="loop.element.name"/>
											<do_for_each name="$Resource" in="$StationTable.{$Faction}.$Resources" counter="$A">
												<do_if value="$A == 1">
													<set_value name="$LocText4" exact="'%s'.[$Resource.name]" operation="add" comment="resourcename"/>
												</do_if>
												<do_else>
													<set_value name="$LocText4" exact="', %s'.[$Resource.name]" operation="add" comment=", resourcename"/>
												</do_else>
											</do_for_each>
										</do_if>
										<do_else>
											<set_value name="$LocText4" exact="'%s: %s'.[{1001,41},{1001,32}]" comment="Resources: None"/>
										</do_else>
										<!-- Alternate BG color -->
										<set_value name="$OutputNumber" exact="1" operation="add"/>
										<do_if value="($OutputNumber % 2) == 1">
											<set_value name="$LocBGColor" exact="$DAMVT.$BodyBackgroundDark"/>
										</do_if>
										<do_else>
											<set_value name="$LocBGColor" exact="$DAMVT.$BodyBackgroundBright"/>
										</do_else>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $Faction.knownname, $halign = 'left', $cellBGColor = $LocBGColor]" comment="Faction"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocText1, $halign = 'center', $cellBGColor = $LocBGColor]" comment="# Stations"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 4, $text = $LocText2, $halign = 'left', $cellBGColor = $LocBGColor]" comment="Station Threat Score: #"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 10, $text = $LocText3, $halign = 'left', $wordwrap = true, $cellBGColor = $LocBGColor]" comment="Products: list"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 10, $text = $LocText4, $halign = 'left', $wordwrap = true, $cellBGColor = $LocBGColor]" comment="Resources: list"/>
										<remove_value name="$LocText1"/>
										<remove_value name="$LocText2"/>
										<remove_value name="$LocText3"/>
										<remove_value name="$LocText4"/>
										<do_if value="$B lt $FactionList.count">
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 4, 
												$colSpan = 4,
												$height = 1,
												$fontsize = 1,
												$cellBGColor = 'Color.row_separator',
											]"/>
										</do_if>
									</do_if>
								</do_for_each>
								<remove_value name="$FactionList"/>
								<remove_value name="$OutputNumber"/>
							</do_if>
							<remove_value name="$StationTable"/>
							<!-- Ship Info -->
							<set_value name="$ShipTable" exact="table[]"/>
							<find_ship groupname="$AllShips" multiple="true" space="$Sector" checkoperational="true" masstraffic="false" unit="false" docked="false" recursive="true">
								<match owner="faction.ownerless" negate="true"/>
								<match state="componentstate.wreck" negate="true"/>
							</find_ship>
							<find_ship groupname="$AllShips" multiple="true" space="$Sector" checkoperational="true" masstraffic="false" unit="false" docked="true" recursive="true">
								<match owner="faction.ownerless" negate="true"/>
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship>
							<set_value name="$TotalMilThreatScore" exact="0"/>
							<do_for_each name="$Ship" in="$AllShips">
								<do_if value="$Ship.trueowner? and ($Ship.trueowner != faction.ownerless)">
									<do_if value="not $ShipTable.{$Ship.trueowner}?">
										<set_value name="$ShipTable.{$Ship.trueowner}" exact="table[]"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$MilCount" exact="0"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$CivCount" exact="0"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$MilThreatScore" exact="0"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$CivThreatScore" exact="0"/>
									</do_if>
									<do_if value="[purpose.fight,purpose.auxiliary].indexof.{$Ship.primarypurpose}">
										<!-- Military -->
										<set_value name="$ShipTable.{$Ship.trueowner}.$MilCount" exact="1" operation="add"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$MilThreatScore" exact="$Ship.threatscore" operation="add"/>
										<set_value name="$TotalMilThreatScore" exact="$Ship.threatscore" operation="add"/>
									</do_if>
									<do_else>
										<!-- Civilian -->
										<set_value name="$ShipTable.{$Ship.trueowner}.$CivCount" exact="1" operation="add"/>
										<set_value name="$ShipTable.{$Ship.trueowner}.$CivThreatScore" exact="$Ship.threatscore" operation="add"/>
									</do_else>
								</do_if>
							</do_for_each>
							<do_if value="$Sector.trueowner? and ($Sector.trueowner != faction.ownerless)">
								<do_if value="not $ShipTable.{$Sector.trueowner}?">
									<set_value name="$ShipTable.{$Sector.trueowner}" exact="table[]"/>
									<set_value name="$ShipTable.{$Sector.trueowner}.$MilCount" exact="0"/>
									<set_value name="$ShipTable.{$Sector.trueowner}.$CivCount" exact="0"/>
									<set_value name="$ShipTable.{$Sector.trueowner}.$MilThreatScore" exact="0"/>
									<set_value name="$ShipTable.{$Sector.trueowner}.$CivThreatScore" exact="0"/>
								</do_if>
								<set_value name="$OwnerFaction" exact="$Sector.trueowner"/>
								<set_value name="$HostileShipCount" exact="0"/>
								<set_value name="$HostileShipThreatScore" exact="0"/>
								<get_factions_by_relation result="$Enemies" relation="killmilitary" faction="$OwnerFaction"/>
								<do_if value="$Enemies.count">
									<do_for_each name="$EnemyFaction" in="$Enemies">
										<do_if value="$ShipTable.{$EnemyFaction}.$MilCount? and $ShipTable.{$EnemyFaction}.$MilCount">
											<set_value name="$HostileShipCount" exact="$ShipTable.{$EnemyFaction}.$MilCount" operation="add"/>
											<set_value name="$HostileShipThreatScore" exact="$ShipTable.{$EnemyFaction}.$MilThreatScore" operation="add"/>
										</do_if>
									</do_for_each>
								</do_if>
								<!-- Percentages of control -->
								<do_if value="@$ShipTable.{$OwnerFaction}.$MilCount + $HostileShipCount gt 0">
									<set_value name="$SectorControlCount" exact="((@$ShipTable.{$OwnerFaction}.$MilCount)f / ([(@$ShipTable.{$OwnerFaction}.$MilCount + $HostileShipCount),1.0].max)f * 100.0)i"/>
								</do_if>
								<do_if value="@$ShipTable.{$OwnerFaction}.$MilThreatScore + $HostileShipThreatScore gt 0">
									<set_value name="$SectorControlThreatScore" exact="((@$ShipTable.{$OwnerFaction}.$MilThreatScore)f / ([(@$ShipTable.{$OwnerFaction}.$MilThreatScore + $HostileShipThreatScore),1.0].max)f * 100.0)i"/>
								</do_if>
							</do_if>
							<!-- Ships Output -->
							<!-- if $OwnerFaction? then ownerless == no balance of power -->
							<!-- if $OwnerFaction? but no $SectorControlCount or $SectorControlThreatScore then not defended == show balance of power -->
							<!-- if $SectorControlCount and $SectorControlThreatScore then sector is defended/contested == show balance of power -->
							<do_if value="$OwnerFaction?">
								<do_if value="$SectorControlCount? and $SectorControlThreatScore?">
									<!-- Sector Control -->
									<!-- Owner: # Ships -->
									<!-- Status Bar -->
									<!-- Hostile: HostileShipCount Ships -->
									<!-- Owner Ship ThreatScore: ThreatScore -->
									<!-- Status Bar -->
									<!-- Hostile Ship Threatscore: ThreatScore -->
									<set_value name="$LocText1" exact="'%s %s'.[{1001,11284},{1001,12663}]" comment="Sector Control"/>
									<set_value name="$LocText2" exact="'%s: %s %s'.[$OwnerFaction.knownname,$ShipTable.{$OwnerFaction}.$MilCount,{1001,6}]" comment="Faction: # Ships"/>
									<set_value name="$LocText3" exact="'%s: %s %s'.[{1001,5212},$HostileShipCount,{1001,6}]" comment="Hostile: # Ships"/>
									<set_value name="$LocText4" exact="'%s %s: %s'.[$OwnerFaction.shortname,{33232474,2412},$ShipTable.{$OwnerFaction}.$MilThreatScore]" comment="Faction Threat Score: #"/>
									<set_value name="$LocText5" exact="'%s %s: %s'.[{1001,5212},{33232474,2412},$HostileShipThreatScore]" comment="Hostile Threat Score: #"/>
									<set_value name="$HoverText1" exact="'%s%s %s'.[$SectorControlCount,'%',{1001,12663}]"/>
									<set_value name="$HoverText2" exact="'%s%s %s'.[$SectorControlThreatScore,'%',{1001,12663}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = '', $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment=""/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 6, $text = $LocText1, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]" comment="Sector Control"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = '', $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment=""/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocText2, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Faction: # Ships"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
											$col			= 4, 
											$colSpan		= 4,
											$scaling		= true,
											$type			= 'statusbar',
											$start			= 100,
											$current		= $SectorControlCount,
											$max			= 100,
											$mouseOverText	= $HoverText1,
											$valueColor		= $DAMVT.$FillGreenDark,
											$posChangeColor	= $DAMVT.$FillTransparent,
											$negChangeColor	= $DAMVT.$FillRedDark,
											$markerColor	= $DAMVT.$MarkerTransparent,
											$cellBGColor 	= $DAMVT.$BodyBackgroundDark
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 3, $text = $LocText3, $halign = 'right', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Hostile: # Ships"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocText4, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Faction Threat Score: #"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
											$col			= 4, 
											$colSpan		= 4,
											$scaling		= true,
											$type			= 'statusbar',
											$start			= 100,
											$current		= $SectorControlThreatScore,
											$max			= 100,
											$mouseOverText	= $HoverText2,
											$valueColor		= $DAMVT.$FillGreenDark,
											$posChangeColor	= $DAMVT.$FillTransparent,
											$negChangeColor	= $DAMVT.$FillRedDark,
											$markerColor	= $DAMVT.$MarkerTransparent,
											$cellBGColor 	= $DAMVT.$BodyBackgroundDark
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 3, $text = $LocText5, $halign = 'right', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Hostile Threat Score: #"/>
									<remove_value name="$LocText1"/>
									<remove_value name="$LocText2"/>
									<remove_value name="$LocText3"/>
									<remove_value name="$LocText4"/>
									<remove_value name="$LocText5"/>
									<remove_value name="$HoverText1"/>
									<remove_value name="$HoverText2"/>
								</do_if>
							</do_if>
							<remove_value name="$ShipTable"/>
							<remove_value name="$AllShips"/>
							<remove_value name="$TotalMilThreatScore"/>
							<remove_value name="$OwnerFaction"/>
							<remove_value name="$HostileShipCount"/>
							<remove_value name="$HostileShipThreatScore"/>
							<remove_value name="$SectorControlCount"/>
							<remove_value name="$SectorControlThreatScore"/>
						</do_for_each>
						<remove_value name="$AllSectors"/>
					</actions>
				</cue>
				<cue name="Menu_Information_StationCalculator" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<do_if value="not $DADVT?">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						</do_if>
						<do_if value="not $DAGVT?">
							<set_value name="$DAGVT" exact="global.$DAVarTable"/>
						</do_if>
						<do_if value="not $DAMVT?">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						</do_if>
						<!-- Design
							Options
						workforce checkbox	secondary checkbox
							Station Modules
						dropdown	number of modules	remove
							Calculations
						Ware	produced	consumed	net
							Output plan to logbook button
						-->
						<include_actions ref="Library_StationCalc_SetTable"/>
						<include_actions ref="Library_StationCalc_GetModuleList"/>
						<!-- HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{33232474,410},{1001,3405}]" comment="Station Calculator Options"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 6, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- BODY 2-5 Workforce 8-11 Secondary Resources -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 6, $text = {33232474,2413}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Add Station Workforce Effects"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 6, $text = {33232474,2414}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Add Secondary resource Effects"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 1, $text = '', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 2, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DAMVT.$DAStationModules.$Workforce then {1001,4825} else {1001,8942},
								  $color  =  if $DAMVT.$DAStationModules.$Workforce then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$cellBGColor = $DAMVT.$BodyBackgroundDark,
								$highlightColor = $DAMVT.$ButtonHighlight,
								$onClick = ExecuteOption_StationCalcWorkforceEnable,
								$onRightClick = ExecuteOption_StationCalcWorkforceEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 2, $text = '', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 8, 
								$colSpan = 4,
								$text = table[
								  $text   =  if $DAMVT.$DAStationModules.$Secondary then {1001,4825} else {1001,8942},
								  $color  =  if $DAMVT.$DAStationModules.$Secondary then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$cellBGColor = $DAMVT.$BodyBackgroundDark,
								$highlightColor = $DAMVT.$ButtonHighlight,
								$onClick = ExecuteOption_StationCalcSecondaryEnable,
								$onRightClick = ExecuteOption_StationCalcSecondaryEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 12, $colSpan = 1, $text = '', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- HEADER 2 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<set_value name="$LocText" exact="'%s %s'.[{1001,3},{1001,7924}]" comment="Station Modules"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 6, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- COLUMN LABLES 1-4 Dropdown/Module Name 5-10 Module Count 11-12 Remove Button -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $text = {1001,56}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Module"/>
						<set_value name="$LocText" exact="'%s %s %s'.[{1001,1202},{1001,2952},{1001,7924}]" comment="Amount of Modules"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 7, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Amount of Modules"/>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- BODY -->
						<do_if value="$DAMVT.$DAStationModules.$Order.count" min="1">
							<do_for_each name="$ModuleMacro" in="$DAMVT.$DAStationModules.$Order">
								<do_if value="$DAMVT.$DAStationModules.$Selected.{$ModuleMacro}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $text = $ModuleMacro.name, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Module name"/>
									<set_value name="$LocMax" exact="[20,$DAMVT.$DAStationModules.$Selected.{$ModuleMacro} * 2].max"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
											$col = 6,
											$colSpan = 7,
											$onSliderCellConfirm = ExecuteOption_StationCalcSetModuleCount,
											$min = -1,
											$minSelect = -1,
											$max = $LocMax,
											$maxSelect = $LocMax,
											$exceedMaxValue = false,
											$start = $DAMVT.$DAStationModules.$Selected.{$ModuleMacro},
											$step = 1,
											$echo = $ModuleMacro,
										]"/>
									<remove_value name="$LocMax"/>
								</do_if>
								<do_else>
									<debug_text text="'MOD: DAMenus SC -- Menu_Information_StationCalculator -- ERROR %s is not in $DAMVT.$DAStationModules.$Selected'.[@$ModuleMacro]" context="false" filter="error"/>
								</do_else>
							</do_for_each>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<include_actions ref="Library_StationCalc_AddModuleDropdown"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- HEADER 3 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 6, $text = {33232474,2416}, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundBright]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = '', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- COLUMN LABLES 1-3 Ware 4-6 Production 7-9 Consumption 10-12 Results -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,45}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Ware"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 3, $text = {1001,1600}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Production"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 3, $text = {1001,1609}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Consumption"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = {1001,8811}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Results"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 1,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- BODY 3 -->
						<!-- $DAMVT.$DAStationModules.$Products $DAMVT.$DAStationModules.$Resources $DAMVT.$DAStationModules.$WorkforceCalcs -->
						<do_if value="$DAMVT.$DAStationModules.$Selected.keys.count" min="1">
							<do_for_each name="$ModuleMacro" in="$DAMVT.$DAStationModules.$Selected.keys.list">
								<do_if value="$DAMVT.$DAStationModules.$Selected.{$ModuleMacro}" min="1">
									<include_actions ref="Library_StationCalc_CollectData"/>
								</do_if>
							</do_for_each>
							<do_if value="$DAMVT.$DAStationModules.$Workforce and $DAMVT.$DAStationModules.$WorkforceCalcs.$Race? and $DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers? and ($DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers gt 0) and $DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity? and ($DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity gt 0)">
								<include_actions ref="Library_StationCalc_CalculateWorkforceNeeds"/>
							</do_if>
							<set_value name="$LocWareList" exact="[]"/>
							<do_for_each name="$LocWare" in="$DAMVT.$DAStationModules.$Products.keys.list">
								<append_to_list name="$LocWareList" exact="$LocWare" unique="true"/>
							</do_for_each>
							<do_for_each name="$LocWare" in="$DAMVT.$DAStationModules.$Resources.keys.list">
								<append_to_list name="$LocWareList" exact="$LocWare" unique="true"/>
							</do_for_each>
							<do_if value="$LocWareList.count" min="1">
								<do_for_each name="$LocWare" in="$LocWareList">
									<include_actions ref="Library_StationCalc_AddWareInformation"/>
								</do_for_each>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<do_if value="$DAMVT.$DAStationModules.$Workforce">
								<!-- COLUMN LABLES 1-3 Race 4-6 Optimal 7-9 Capacity 10-12 Net Capacity -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<set_value name="$LocText" exact="'%s %s'.[{1001,9415},{1001,2428}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Workforce Race"/>
								<remove_value name="$LocText"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 3, $text = {1001,7992}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Optimal Workforce"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 3, $text = {1001,9611}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Workforce Capacity"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = {1001,8811}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Results"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 1,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<include_actions ref="Library_StationCalc_AddWorkforceInformation"/>
							</do_if>
						</do_if>
						<!-- Cleanup -->
						<set_value name="$DAMVT.$DAStationModules.$Products" exact="table[]"/>
						<set_value name="$DAMVT.$DAStationModules.$Resources" exact="table[]"/>
						<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs" exact="table[]"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_InfoMilStrengthDisplay" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1">
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="2"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Info -- Updated $DAMVT.$InfoMilDisplayOption to %s'.[$DAMVT.$InfoMilDisplayOption]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_InfoEcoStrengthDisplay" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1">
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="2"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Info -- Updated $DAMVT.$InfoEcoDisplayOption to %s'.[$DAMVT.$InfoEcoDisplayOption]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_TPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAGVT.$DATPEnable">
							<set_value name="$DAGVT.$DATPEnable" exact="false"/>
							<set_value name="$DAGVT.$DATPTraderTable" exact="table[]"/>
						</do_if>
						<do_else>
							<set_value name="$DAGVT.$DATPEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus TP -- Updated $DAGVT.$DATPEnable to %s'.[$DAGVT.$DATPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_TPSortByNameEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$TPSortByName">
							<set_value name="$DAMVT.$TPSortByName" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$TPSortByName" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus TP -- Updated $DAMVT.$TPSortByName to %s'.[$DAMVT.$TPSortByName]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Information Libraries -->
				<library name="Library_GetMilStrength">
					<actions>
						<do_if value="$LocFaction">
							<!-- Find ships -->
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<!-- Add to AllShips -->
							<create_group groupname="$AllShips"/>
							<add_to_group groupname="$AllShips" group="$XLShips"/>
							<add_to_group groupname="$AllShips" group="$LShips"/>
							<add_to_group groupname="$AllShips" group="$MShips"/>
							<add_to_group groupname="$AllShips" group="$SShips"/>
							<!-- Threatscore -->
							<set_value name="$TotalThreatScore" exact="0"/>
							<do_if value="$AllShips? and $AllShips.count">
								<do_for_each name="$LocShip" in="$AllShips">
									<set_value name="$TotalThreatScore" exact="$LocShip.threatscore" operation="add"/>
								</do_for_each>
							</do_if>
							<!-- Add data to tables+lists -->
							<set_value name="$LocGalaxyTotal.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{6}" exact="$TotalThreatScore" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{6}" exact="$TotalThreatScore" operation="add"/>
							<!-- Strength History -->
							<do_if value="not $DAMVT.$DWMilStrengthHistory.{$LocFaction}?">
								<set_value name="$DAMVT.$DWMilStrengthHistory.{$LocFaction}" exact="[player.age,$AllShips.count,$XLShips.count,$LShips.count,$MShips.count,$SShips.count,$TotalThreatScore]"/>
							</do_if>
							<remove_value name="$XLShips"/>
							<remove_value name="$LShips"/>
							<remove_value name="$MShips"/>
							<remove_value name="$SShips"/>
							<remove_value name="$AllShips"/>
							<remove_value name="$TotalThreatScore"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_GetEcoStrength">
					<actions>
						<do_if value="$LocFaction">
							<!-- Find ships -->
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<!-- Stations -->
							<find_station_by_true_owner groupname="$Stations" faction="$LocFaction" space="player.galaxy" checkoperational="true" multiple="true"/>
							<!-- Add to AllShips -->
							<create_group groupname="$AllShips"/>
							<add_to_group groupname="$AllShips" group="$XLShips"/>
							<add_to_group groupname="$AllShips" group="$LShips"/>
							<add_to_group groupname="$AllShips" group="$MShips"/>
							<add_to_group groupname="$AllShips" group="$SShips"/>
							<!-- Add data to tables+lists -->
							<set_value name="$LocGalaxyTotal.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{6}" exact="$Stations.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{6}" exact="$Stations.count" operation="add"/>
							<!-- Strength History -->
							<do_if value="not $DAMVT.$DWEcoStrengthHistory.{$LocFaction}?">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}" exact="[player.age,$AllShips.count,$XLShips.count,$LShips.count,$MShips.count,$SShips.count,$Stations.count]"/>
							</do_if>
							<remove_value name="$XLShips"/>
							<remove_value name="$LShips"/>
							<remove_value name="$MShips"/>
							<remove_value name="$SShips"/>
							<remove_value name="$AllShips"/>
							<remove_value name="$Stations"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddMilStrengthRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<!-- Total: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $MilStrengthTable.{$LocFaction}.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- XL: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $MilStrengthTable.{$LocFaction}.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- L: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $MilStrengthTable.{$LocFaction}.{3}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- M: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $MilStrengthTable.{$LocFaction}.{4}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- S: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $MilStrengthTable.{$LocFaction}.{5}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- Threatscore: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $MilStrengthTable.{$LocFaction}.{6}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<!-- Total: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $EcoStrengthTable.{$LocFaction}.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- XL: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $EcoStrengthTable.{$LocFaction}.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- L: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $EcoStrengthTable.{$LocFaction}.{3}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- M: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $EcoStrengthTable.{$LocFaction}.{4}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- S: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $EcoStrengthTable.{$LocFaction}.{5}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<!-- Threatscore: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $EcoStrengthTable.{$LocFaction}.{6}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddStrengthSummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,9191}, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]" comment="Galaxy-wide"/>
						<!-- Total: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocGalaxyTotal.{1}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<!-- XL: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $LocGalaxyTotal.{2}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<!-- L: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $LocGalaxyTotal.{3}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<!-- M: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $LocGalaxyTotal.{4}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<!-- S: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $LocGalaxyTotal.{5}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<!-- Threatscore: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $LocGalaxyTotal.{6}, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
					</actions>
				</library>
				<library name="Library_AddMilStrengthHistoryRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<!-- Total: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2} != $MilStrengthTable.{$LocFaction}.{1})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2} gt $MilStrengthTable.{$LocFaction}.{1}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- XL: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3} != $MilStrengthTable.{$LocFaction}.{2})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3} gt $MilStrengthTable.{$LocFaction}.{2}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- L: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4} != $MilStrengthTable.{$LocFaction}.{3})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4} gt $MilStrengthTable.{$LocFaction}.{3}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- M: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5} != $MilStrengthTable.{$LocFaction}.{4})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5} gt $MilStrengthTable.{$LocFaction}.{4}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- S: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6} != $MilStrengthTable.{$LocFaction}.{5})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6} gt $MilStrengthTable.{$LocFaction}.{5}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- Threatscore: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7} != $MilStrengthTable.{$LocFaction}.{6})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7} gt $MilStrengthTable.{$LocFaction}.{6}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthHistoryRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocFaction.knownname, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
							<!-- Total: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2} != $EcoStrengthTable.{$LocFaction}.{1})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2} gt $EcoStrengthTable.{$LocFaction}.{1}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- XL: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3} != $EcoStrengthTable.{$LocFaction}.{2})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3} gt $EcoStrengthTable.{$LocFaction}.{2}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- L: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4} != $EcoStrengthTable.{$LocFaction}.{3})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4} gt $EcoStrengthTable.{$LocFaction}.{3}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- M: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5} != $EcoStrengthTable.{$LocFaction}.{4})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5} gt $EcoStrengthTable.{$LocFaction}.{4}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- S: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6} != $EcoStrengthTable.{$LocFaction}.{5})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6} gt $EcoStrengthTable.{$LocFaction}.{5}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
							<!-- Stations: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7} != $EcoStrengthTable.{$LocFaction}.{6})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7} gt $EcoStrengthTable.{$LocFaction}.{6}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddMilStrengthHistorySummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,9191}, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
						<!-- Total: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{2} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{2} != $LocGalaxyTotal.{1})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{2} gt $LocGalaxyTotal.{1}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{2}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{2}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- XL: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{3} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{3} != $LocGalaxyTotal.{2})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{3} gt $LocGalaxyTotal.{2}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{3}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{3}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- L: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{4} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{4} != $LocGalaxyTotal.{3})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{4} gt $LocGalaxyTotal.{3}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{4}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{4}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- M: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{5} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{5} != $LocGalaxyTotal.{4})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{5} gt $LocGalaxyTotal.{4}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{5}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{5}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- S: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{6} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{6} != $LocGalaxyTotal.{5})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{6} gt $LocGalaxyTotal.{5}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{6}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{6}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- Threatscore: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{7} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{7} != $LocGalaxyTotal.{6})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{7} gt $LocGalaxyTotal.{6}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{7}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{7}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{1} lt player.age)">
							<set_value name="$LocNumber" exact="(player.age - $DAMVT.$DWMilStrengthHistory.$Galaxy.{1})s"/>
							<set_value name="$LocTimeString" exact="''"/>
							<do_if value="$LocNumber gt (3600s * 24)">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%d'},{1001,104}]" comment="days" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 3600s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%H'},{1001,102}]" comment="hours" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 60s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%M'},{1001,103}]" comment="minutes" operation="add"/>
							</do_if>
							<do_if value="$LocNumber ge 1s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%S'},{1001,100}]" comment="seconds" operation="add"/>
							</do_if>
							<set_value name="$LocText" exact="{33232474,2400}.[$LocTimeString]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
							<remove_value name="$LocNumber"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthHistorySummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,9191}, $halign = 'left', $cellBGColor = $DAMVT.$BodyBackgroundBright]"/>
						<!-- Total: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} != $LocGalaxyTotal.{1})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} gt $LocGalaxyTotal.{1}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- XL: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} != $LocGalaxyTotal.{2})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} gt $LocGalaxyTotal.{2}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- L: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} != $LocGalaxyTotal.{3})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} gt $LocGalaxyTotal.{3}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- M: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} != $LocGalaxyTotal.{4})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} gt $LocGalaxyTotal.{4}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- S: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} != $LocGalaxyTotal.{5})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} gt $LocGalaxyTotal.{5}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<!-- Stations: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} != $LocGalaxyTotal.{6})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} gt $LocGalaxyTotal.{6}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{1} lt player.age)">
							<set_value name="$LocNumber" exact="(player.age - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{1})s"/>
							<set_value name="$LocTimeString" exact="''"/>
							<do_if value="$LocNumber gt (3600s * 24)">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%d'},{1001,104}]" comment="days" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 3600s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%H'},{1001,102}]" comment="hours" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 60s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%M'},{1001,103}]" comment="minutes" operation="add"/>
							</do_if>
							<do_if value="$LocNumber ge 1s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%S'},{1001,100}]" comment="seconds" operation="add"/>
							</do_if>
							<set_value name="$LocText" exact="{33232474,2400}.[$LocTimeString]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = $LocText, $halign = 'center', $cellBGColor = $DAMVT.$HeaderBackgroundDark]"/>
							<remove_value name="$LocNumber"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<!-- Base Menu Functionality Libraries -->
				<library name="Library_DAMenuGetFactions">
					<actions>
						<set_value name="$FactionList" exact="[]"/>
						<set_value name="$ClaimspaceList" exact="[]"/>
						<set_value name="$EconomicList" exact="[]"/>
						<set_value name="$VisitorList" exact="[]"/>
						<set_value name="$PrivateLoadoutList" exact="[]"/>
						<set_value name="$HiddenList" exact="[]"/>
						<set_value name="$ExcludedFactions" exact="[]"/>
						<!-- Get Factions -->
						<get_factions_by_tag tag="tag.claimspace" result="$ClaimspaceList"/>
						<get_factions_by_tag tag="tag.economic" result="$EconomicList"/>
						<get_factions_by_tag tag="tag.visitor" result="$VisitorList" comment="trash"/>
						<get_factions_by_tag tag="tag.privateloadout" result="$PrivateLoadoutList"/>
						<get_factions_by_tag tag="tag.hidden" result="$HiddenList"/>
						<!-- Add Factions from ClaimspaceList EconomicList PrivateLoadoutList -->
						<append_list_elements name="$FactionList" other="$ClaimspaceList"/>
						<remove_from_list name="$EconomicList" list="$FactionList" multiple="true"/>
						<append_list_elements name="$FactionList" other="$EconomicList"/>
						<remove_from_list name="$PrivateLoadoutList" list="$FactionList" multiple="true"/>
						<append_list_elements name="$FactionList" other="$PrivateLoadoutList"/>
						<!-- Always remove HiddenList VisitorList -->
						<append_list_elements name="$ExcludedFactions" other="$HiddenList"/>
						<append_list_elements name="$ExcludedFactions" other="$VisitorList"/>
						<!-- Set up excluded list depending on menu that calls library -->
						<do_if value="@$WhatFactions == 'All'">
							<!-- Nothing needed -->
						</do_if>
						<do_elseif value="@$WhatFactions == 'ChangeRelations'">
							<!-- Remove factions that can not have relations changed -->
							<append_to_list name="$ExcludedFactions" exact="faction.khaak"/>
							<append_to_list name="$ExcludedFactions" exact="faction.xenon"/>
						</do_elseif>
						<do_elseif value="@$WhatFactions == 'DetailView'">
							<!-- Remove factions without an economy -->
							<!--
							<do_if value="faction.fallensplit?">
								<append_to_list name="$ExcludedFactions" exact="faction.fallensplit"/>
							</do_if>
							<do_if value="faction.yaki?">
								<append_to_list name="$ExcludedFactions" exact="faction.yaki"/>
							</do_if>
							-->
						</do_elseif>
						<do_else>
							<append_to_list name="$ExcludedFactions" exact="faction.khaak"/>
							<append_to_list name="$ExcludedFactions" exact="faction.xenon"/>
							<append_to_list name="$ExcludedFactions" exact="faction.fallensplit"/>
							<append_to_list name="$ExcludedFactions" exact="faction.yaki"/>
						</do_else>
						<remove_from_list name="$FactionList" list="$ExcludedFactions" multiple="true"/>
						<do_for_each name="$LocFaction" in="$FactionList" reverse="true">
							<do_if value="$LocFaction == null">
								<remove_from_list name="$FactionList" exact="$LocFaction"/>
							</do_if>
							<do_elseif value="$LocFaction.isactive != true">
								<remove_from_list name="$FactionList" exact="$LocFaction"/>
							</do_elseif>
						</do_for_each>
						<sort_list list="$FactionList" sortbyvalue="loop.element.knownname"/>
						<!-- $FactionList has the factions we care about -->
					</actions>
				</library>
				<library name="Library_DAMenuAddFactionDropdown">
					<actions>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<!--Figure out which entry is currently selected.-->
						<set_value name="$dropdown_index" exact="$FactionList.indexof.{$DAMVT.$DAMenuSelectedFaction}"/>
						<!--Translate to list of tables, that pair factions with names.-->
						<set_value name="$options_list" exact="[]"/>
						<do_for_each name="$faction" in="$FactionList">
							<set_value name="$name" exact="'%s'.[$faction.knownname]"/>
							<append_to_list name="$options_list" exact="table[
							$text = $name,
							$value = $faction,
							]"/>
						</do_for_each>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 1,
							$colSpan = 2,
							$text = 'Faction:',
							]"/>
						<!--Have this stretch over extra columns.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Dropdown" param="table[
							$col = 3, 
							$options = $options_list,
							$startOption = $dropdown_index,
							$colSpan = event.param.$columns - 2,
							$onDropDownConfirmed = Handle_Option_Change,
							$echo = table[
								$type  = 'dropdown',
								$name  = '$DAMenuSelectedFaction',
								$refresh = true,
								],
							]"/>
					</actions>
				</library>
				<library name="Library_StationCalc_SetTable">
					<actions>
						<!-- {1}Prod Ware,{2}Prod Time,{3}Prod Amount,{4}R1,{5}R1 Amount,{6}R2,{7}R2 Amount,{8}R3,{9}R3 Amount,{10}R4,{11}R4 Amount,{12}R5,{13}R5 Amount,
							{14}Workforce Num,{15}Workforce Prod Effect,{16}Workforce Cycle Effect,{17}Secondary Resource,{18}SR Amount,{19}SR Prod Effect,{20}SR Cycle Effect -->
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_advancedcomposites_macro}" exact="[ware.advancedcomposites,600,108,ware.energycells,100,ware.graphene,160,ware.refinedmetals,160,null,0,null,0,315,0.5,0.5,ware.da_mil_schematics,31,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_advancedcomposites_macro}" exact="[ware.advancedcomposites,600,108,ware.energycells,100,ware.graphene,160,ware.teladianium,116,null,0,null,0,315,0.5,0.5,ware.da_mil_schematics,31,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_advancedelectronics_macro}" exact="[ware.advancedelectronics,600,68,ware.energycells,75,ware.microchips,56,ware.quantumtubes,26,null,0,null,0,540,0.5,0.5,ware.da_adv_schematics,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_antimattercells_macro}" exact="[ware.antimattercells,300,248,ware.energycells,250,ware.hydrogen,800,null,0,null,0,null,0,180,0.5,0.5,ware.da_laborunion_contracts,38,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_antimatterconverters_macro}" exact="[ware.antimatterconverters,600,266,ware.advancedcomposites,40,ware.energycells,160,ware.microchips,60,null,0,null,0,1080,0.5,0.5,ware.da_adv_schematics,19,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_claytronics_macro}" exact="[ware.claytronics,600,108,ware.antimattercells,101,ware.energycells,140,ware.microchips,161,ware.quantumtubes,101,null,0,1215,0.5,0.5,ware.da_adv_schematics,54,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_dronecomponents_macro}" exact="[ware.dronecomponents,600,53,ware.energycells,30,ware.engineparts,10,ware.hullparts,10,ware.microchips,10,ware.scanningarrays,20,675,0.5,0.5,ware.da_mil_schematics,19,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_energycells_macro}" exact="[ware.energycells,300,1750,null,0,null,0,null,0,null,0,null,0,90,0.5,0.5,ware.da_laborunion_contracts,28,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_energycells_macro}" exact="[ware.energycells,300,750,null,0,null,0,null,0,null,0,null,0,45,0.5,0.5,ware.da_laborunion_contracts,12,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_engineparts_macro}" exact="[ware.engineparts,600,139,ware.antimattercells,53,ware.energycells,40,ware.refinedmetals,64,null,0,null,0,225,0.5,0.5,ware.da_mil_schematics,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_engineparts_macro}" exact="[ware.engineparts,600,139,ware.antimattercells,53,ware.energycells,40,ware.teladianium,47,null,0,null,0,225,0.5,0.5,ware.da_mil_schematics,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_fieldcoils_macro}" exact="[ware.fieldcoils,600,175,ware.energycells,60,ware.plasmaconductors,40,ware.quantumtubes,43,null,0,null,0,810,0.5,0.5,ware.da_adv_schematics,15,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_arg_foodrations_macro}" exact="[ware.foodrations,300,575,ware.energycells,125,ware.meat,50,ware.spices,50,ware.wheat,50,null,0,90,0.5,0.5,ware.da_laborunion_contracts,11,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_graphene_macro}" exact="[ware.graphene,300,240,ware.energycells,200,ware.methane,800,null,0,null,0,null,0,180,0.5,0.5,ware.da_laborunion_contracts,48,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_hullparts_macro}" exact="[ware.hullparts,600,392,ware.energycells,106,ware.graphene,54,ware.refinedmetals,374,null,0,null,0,270,0.5,0.5,ware.da_mil_schematics,39,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_hullparts_macro}" exact="[ware.hullparts,600,392,ware.energycells,106,ware.graphene,54,ware.teladianium,272,null,0,null,0,270,0.5,0.5,ware.da_mil_schematics,39,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_par_majadust_macro}" exact="[ware.majadust,600,64,ware.energycells,40,ware.majasnails,120,ware.spices,60,null,0,null,0,123,0.5,0.5,ware.da_laborunion_contracts,18,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_par_majasnails_macro}" exact="[ware.majasnails,300,97,ware.energycells,27,ware.water,67,null,0,null,0,null,0,175,0.5,0.5,ware.da_laborunion_contracts,8,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_arg_meat_macro}" exact="[ware.meat,300,193,ware.energycells,53,ware.water,67,null,0,null,0,null,0,75,0.5,0.5,ware.da_laborunion_contracts,9,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_arg_medicalsupplies_macro}" exact="[ware.medicalsupplies,300,208,ware.energycells,100,ware.spices,40,ware.water,60,ware.wheat,30,null,0,90,0.5,0.5,ware.da_laborunion_contracts,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_par_medicalsupplies_macro}" exact="[ware.medicalsupplies,300,208,ware.energycells,100,ware.sojabeans,10,ware.spices,40,ware.water,60,null,0,90,0.5,0.5,ware.da_laborunion_contracts,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_medicalsupplies_macro}" exact="[ware.medicalsupplies,300,208,ware.energycells,100,ware.spices,40,ware.sunriseflowers,12,ware.water,60,null,0,90,0.5,0.5,ware.da_laborunion_contracts,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_spl_medicalsupplies_macro}" exact="[ware.medicalsupplies,300,208,ware.energycells,100,ware.scruffinfruits,30,ware.spices,60,ware.water,60,null,0,90,0.5,0.5,ware.da_laborunion_contracts,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_medicalsupplies_macro}" exact="[ware.medicalsupplies,300,140,ware.energycells,100,ware.ice,50,ware.proteinpaste,24,null,0,null,0,90,0.5,0.5,ware.da_laborunion_contracts,9,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_microchips_macro}" exact="[ware.microchips,600,216,ware.energycells,150,ware.siliconwafers,600,null,0,null,0,null,0,450,0.5,0.5,ware.da_adv_schematics,35,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_missilecomponents_macro}" exact="[ware.missilecomponents,600,374,ware.advancedcomposites,2,ware.energycells,26,ware.hullparts,2,null,0,null,0,22,0.5,0.5,ware.da_mil_schematics,3,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_nostropoil_macro}" exact="[ware.nostropoil,300,500,ware.energycells,100,ware.spices,40,ware.sunriseflowers,40,ware.water,60,null,0,120,0.5,0.5,ware.da_laborunion_contracts,18,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_plasmaconductors_macro}" exact="[ware.plasmaconductors,600,29,ware.energycells,40,ware.graphene,64,ware.superfluidcoolant,93,null,0,null,0,225,0.5,0.5,ware.da_adv_schematics,6,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_quantumtubes_macro}" exact="[ware.quantumtubes,600,156,ware.energycells,66,ware.graphene,194,ware.superfluidcoolant,50,null,0,null,0,225,0.5,0.5,ware.da_adv_schematics,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_refinedmetals_macro}" exact="[ware.refinedmetals,300,352,ware.energycells,360,ware.ore,960,null,0,null,0,null,0,225,0.5,0.5,ware.da_laborunion_contracts,61,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_scanningarrays_macro}" exact="[ware.scanningarrays,600,36,ware.energycells,60,ware.refinedmetals,100,ware.siliconwafers,60,null,0,null,0,315,0.5,0.5,ware.da_mil_schematics,18,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_scanningarrays_macro}" exact="[ware.scanningarrays,600,36,ware.energycells,60,ware.siliconwafers,60,ware.teladianium,73,null,0,null,0,315,0.5,0.5,ware.da_mil_schematics,18,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_shieldcomponents_macro}" exact="[ware.shieldcomponents,600,97,ware.energycells,35,ware.plasmaconductors,10,ware.quantumtubes,10,null,0,null,0,225,0.5,0.5,ware.da_mil_schematics,9,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_siliconwafers_macro}" exact="[ware.siliconwafers,300,356,ware.energycells,300,ware.silicon,800,null,0,null,0,null,0,225,0.5,0.5,ware.da_laborunion_contracts,97,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_smartchips_macro}" exact="[ware.smartchips,600,286,ware.energycells,100,ware.siliconwafers,40,null,0,null,0,null,0,60,0.5,0.5,ware.da_mil_schematics,6,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_par_sojabeans_macro}" exact="[ware.sojabeans,300,104,ware.energycells,30,ware.water,80,null,0,null,0,null,0,175,0.5,0.5,ware.da_laborunion_contracts,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_par_sojahusk_macro}" exact="[ware.sojahusk,300,350,ware.energycells,80,ware.majasnails,50,ware.sojabeans,40,ware.spices,20,null,0,99,0.5,0.5,ware.da_laborunion_contracts,14,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_arg_spacefuel_macro}" exact="[ware.spacefuel,600,123,ware.energycells,50,ware.water,125,ware.wheat,100,null,0,null,0,225,0.5,0.5,ware.da_laborunion_contracts,24,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_spaceweed_macro}" exact="[ware.spaceweed,600,183,ware.energycells,140,ware.spices,40,ware.swampplant,120,null,0,null,0,90,0.5,0.5,ware.da_laborunion_contracts,22,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_spices_macro}" exact="[ware.spices,300,250,ware.energycells,20,ware.water,40,null,0,null,0,null,0,60,0.5,0.5,ware.da_laborunion_contracts,5,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_sunriseflowers_macro}" exact="[ware.sunriseflowers,300,100,ware.energycells,30,ware.water,80,null,0,null,0,null,0,50,0.5,0.5,ware.da_laborunion_contracts,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_superfluidcoolant_macro}" exact="[ware.superfluidcoolant,300,119,ware.energycells,75,ware.helium,400,null,0,null,0,null,0,180,0.5,0.5,ware.da_laborunion_contracts,21,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_swampplant_macro}" exact="[ware.swampplant,300,80,ware.energycells,27,ware.water,67,null,0,null,0,null,0,50,0.5,0.5,ware.da_laborunion_contracts,8,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_tel_teladianium_macro}" exact="[ware.teladianium,300,350,ware.energycells,226,ware.ore,1400,null,0,null,0,null,0,225,0.5,0.5,ware.da_laborunion_contracts,83,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_turretcomponents_macro}" exact="[ware.turretcomponents,600,114,ware.energycells,40,ware.microchips,14,ware.quantumtubes,14,ware.scanningarrays,6,null,0,225,0.5,0.5,ware.da_mil_schematics,13,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_water_macro}" exact="[ware.water,300,483,ware.energycells,150,ware.ice,800,null,0,null,0,null,0,180,0.5,0.5,ware.da_laborunion_contracts,46,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_weaponcomponents_macro}" exact="[ware.weaponcomponents,600,114,ware.energycells,40,ware.hullparts,14,ware.plasmaconductors,20,null,0,null,0,225,0.5,0.5,ware.da_mil_schematics,15,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_arg_wheat_macro}" exact="[ware.wheat,300,310,ware.energycells,60,ware.water,80,null,0,null,0,null,0,75,0.5,0.5,ware.da_laborunion_contracts,11,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_spl_cheltmeat_macro}" exact="[ware.cheltmeat,300,139,ware.energycells,33,ware.water,80,null,0,null,0,null,0,90,0.5,0.5,ware.da_laborunion_contracts,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_spl_scruffinfruit_macro}" exact="[ware.scruffinfruits,300,255,ware.energycells,30,ware.water,80,null,0,null,0,null,0,90,0.5,0.5,ware.da_laborunion_contracts,10,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_computronicsubstrate_macro}" exact="[ware.computronicsubstrate,300,49,ware.energycells,2000,ware.hydrogen,1000,ware.ore,1500,ware.silicon,1500,null,0,1500,0.5,0.5,ware.da_adv_schematics,90,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_metallicmicrolattice_macro}" exact="[ware.metallicmicrolattice,300,317,ware.energycells,83,ware.helium,217,ware.ore,83,null,0,null,0,120,0.5,0.5,ware.da_mil_schematics,9,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_proteinpaste_macro}" exact="[ware.proteinpaste,300,219,ware.energycells,80,ware.ice,80,ware.methane,200,null,0,null,0,180,0.5,0.5,ware.da_laborunion_contracts,20,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_siliconcarbide_macro}" exact="[ware.siliconcarbide,300,48,ware.energycells,200,ware.metallicmicrolattice,2,ware.methane,400,ware.silicon,300,null,0,750,0.5,0.5,ware.da_mil_schematics,33,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_stimulants_macro}" exact="[ware.stimulants,300,98,ware.energycells,80,ware.helium,400,ware.silicon,20,null,0,null,0,300,0.5,0.5,ware.da_laborunion_contracts,31,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_ter_mre_macro}" exact="[ware.terranmre,300,219,ware.energycells,75,ware.proteinpaste,75,null,0,null,0,null,0,135,0.5,0.5,ware.da_laborunion_contracts,11,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_bor_bofu_macro}" exact="[ware.bofu,300,103,ware.bogas,50,ware.energycells,50,ware.plankton,150,null,0,null,0,125,0.5,0.5,ware.da_laborunion_contracts,12,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_bor_bogas_macro}" exact="[ware.bogas,300,220,ware.energycells,80,ware.water,200,null,0,null,0,null,0,100,0.5,0.5,ware.da_laborunion_contracts,24,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_bor_plankton_macro}" exact="[ware.plankton,300,206,ware.energycells,15,ware.water,38,null,0,null,0,null,0,40,0.5,0.5,ware.da_laborunion_contracts,5,0.1,0.25]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.argon}" exact="[ware.workunit_busy,600,200,ware.foodrations,75,ware.medicalsupplies,45,null,0,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.paranid}" exact="[ware.workunit_busy,600,200,ware.medicalsupplies,45,ware.sojahusk,48,null,0,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.teladi}" exact="[ware.workunit_busy,600,200,ware.medicalsupplies,45,ware.nostropoil,38,null,0,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.split}" exact="[ware.workunit_busy,600,200,ware.cheltmeat,17,ware.medicalsupplies,45,ware.scruffinfruits,23,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.terran}" exact="[ware.workunit_busy,600,200,ware.medicalsupplies,45,ware.terranmre,43,null,0,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{race.boron}" exact="[ware.workunit_busy,600,200,ware.bofu,15,ware.medicalsupplies,33,ware.water,27,null,0,null,0,0,0,0,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_da_adv_schematics_macro}" exact="[ware.da_adv_schematics,900,35,null,0,null,0,null,0,null,0,null,0,750,5,0.5,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_da_mil_schematics_macro}" exact="[ware.da_mil_schematics,900,50,null,0,null,0,null,0,null,0,null,0,500,5,0.5,null,0,0,0]"/>
						<set_value name="$DAMVT.$DAStationCalcTable.{macro.prod_gen_da_laborunion_contracts_macro}" exact="[ware.da_laborunion_contracts,900,120,null,0,null,0,null,0,null,0,null,0,500,5,0.5,null,0,0,0]"/>
					</actions>
				</library>
				<library name="Library_StationCalc_GetModuleList">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- Populate from players blueprints. Rebuild each time. -->
						<set_value name="$DAMVT.$DAStationCalcListOfAvailableModules" exact="[]"/>
						<!-- Dropdown will be populated from $DAMVT.$DAStationCalcListOfAvailableModules that are not in $DAMVT.$DAStationModules.$Order -->
						<set_value name="$DAMVT.$DAStationModules.$Dropdown" exact="[]"/>
						<do_if value="not $DAMVT.$DAStationModules? or ($DAMVT.$DAStationModules == null)">
							<set_value name="$DAMVT.$DAStationModules" exact="table[]"/>
							<!-- Keys will be station modules that player has selected -->
							<set_value name="$DAMVT.$DAStationModules.$Selected" exact="table[]"/>
							<!-- Entries will be the order that player has added modules -->
							<set_value name="$DAMVT.$DAStationModules.$Order" exact="[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Workforce" exact="false"/>
							<set_value name="$DAMVT.$DAStationModules.$Secondary" exact="false"/>
							<set_value name="$DAMVT.$DAStationModules.$Products" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$Resources" exact="table[]"/>
							<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs" exact="table[]"/>
						</do_if>
						<set_value name="$BlueprintList" exact="[]"/>
						<get_ware_definition result="$BlueprintList" faction="faction.player" tags="tag.module"/>
						<do_for_each name="$Blueprint" in="$BlueprintList">
							<do_if value="player.blueprints.{$Blueprint}.any.exists">
								<do_if value="$Blueprint.objectmacro? and $Blueprint.objectmacro.isclass.production and $DAMVT.$DAStationCalcTable.{$Blueprint.objectmacro}?">
									<append_to_list name="$DAMVT.$DAStationCalcListOfAvailableModules" exact="$Blueprint.objectmacro"/>
								</do_if>
								<do_elseif value="$Blueprint.objectmacro? and $Blueprint.objectmacro.isclass.habitation">
									<append_to_list name="$DAMVT.$DAStationCalcListOfAvailableModules" exact="$Blueprint.objectmacro"/>
								</do_elseif>
							</do_if>
						</do_for_each>
						<debug_text text="'MOD: DAMenus SC -- $DAMVT.$DAStationCalcListOfAvailableModules.count: %s'.[$DAMVT.$DAStationCalcListOfAvailableModules.count]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DAMVT.$DAStationCalcListOfAvailableModules.count" min="1">
							<set_value name="$LocModuleMacroList" exact="$DAMVT.$DAStationCalcListOfAvailableModules"/>
							<sort_list list="$LocModuleMacroList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$ModuleMacro" in="$DAMVT.$DAStationCalcListOfAvailableModules">
								<do_if value="not $DAMVT.$DAStationModules.$Selected.{$ModuleMacro}?">
									<do_if value="not $DAMVT.$DAStationModules.$Dropdown.indexof.{$ModuleMacro}">
										<append_to_list name="$DAMVT.$DAStationModules.$Dropdown" exact="$ModuleMacro"/>
									</do_if>
								</do_if>
								<do_elseif value="$DAMVT.$DAStationModules.$Selected.{$ModuleMacro}?">
									<remove_from_list name="$DAMVT.$DAStationModules.$Dropdown" exact="$ModuleMacro" multiple="true"/>
								</do_elseif>
							</do_for_each>
							<debug_text text="'MOD: DAMenus SC -- $DAMVT.$DAStationModules.$Dropdown.count: %s'.[$DAMVT.$DAStationModules.$Dropdown.count]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<remove_value name="$BlueprintList"/>
						<remove_value name="$LocModuleMacroList"/>
					</actions>
				</library>
				<library name="Library_StationCalc_AddModuleDropdown">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- List of Tables, [$Text = $Name, $Value = $ModuleMacro] -->
						<set_value name="$StationCalc_DDOptions" exact="[]"/>
						<append_to_list name="$StationCalc_DDOptions" exact="table[$text = {33232474,2415}, $value = null]"/>
						<do_if value="$DAMVT.$DAStationModules.$Dropdown.count" min="1">
							<set_value name="$LocModuleMacroList" exact="$DAMVT.$DAStationCalcListOfAvailableModules"/>
							<sort_list list="$LocModuleMacroList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$ModuleMacro" in="$LocModuleMacroList">
								<set_value name="$Name" exact="'%s'.[$ModuleMacro.name]"/>
								<append_to_list name="$StationCalc_DDOptions" exact="table[$text = $Name, $value = $ModuleMacro]"/>
								<remove_value name="$Name"/>
							</do_for_each>
							<remove_value name="$LocModuleMacroList"/>
						</do_if>
						<!-- Returns $option table on confirm -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Dropdown" param="table[
							$col = 1,
							$colSpan = event.param.$columns,
							$options = $StationCalc_DDOptions,
							$startOption = 1,
							$cellBGColor = $DAMVT.$BodyBackgroundBright,
							$onDropDownConfirmed = ExecuteOption_StationCalcDropDown,
							]"/>
						<remove_value name="$StationCalc_DDOptions"/>
					</actions>
				</library>
				<library name="Library_StationCalc_CollectData">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- $DAMVT.$DAStationModules.$Products $DAMVT.$DAStationModules.$Resources $DAMVT.$DAStationModules.$WorkforceCalcs -->
						<!-- {1}Prod Ware,{2}Prod Time,{3}Prod Amount,{4}R1,{5}R1 Amount,{6}R2,{7}R2 Amount,{8}R3,{9}R3 Amount,{10}R4,{11}R4 Amount,{12}R5,{13}R5 Amount,
							{14}Workforce Num,{15}Workforce Prod Effect,{16}Workforce Cycle Effect,{17}Secondary Resource,{18}SR Amount,{19}SR Prod Effect,{20}SR Cycle Effect -->
						<!-- USING $ModuleMacro -->
						<set_value name="$ModuleCount" exact="$DAMVT.$DAStationModules.$Selected.{$ModuleMacro}"/>
						<do_if value="$ModuleMacro.isclass.production">
							<set_value name="$ProdWare" exact="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{1}"/>
							<!-- Cycle Time Math -->
							<set_value name="$CycleTime" exact="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{2} * (1.0 - $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{16}) ^ $DAMVT.$DAStationModules.$Workforce * (1.0 - $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{20}) ^ $DAMVT.$DAStationModules.$Secondary"/>
							<set_value name="$CyclesPerHour" exact="3600.0 / $CycleTime"/>
							<!-- Product Amount Math -->
							<set_value name="$ProdAmountPerModule" exact="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{3} * (1.0 + $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{15}) ^ $DAMVT.$DAStationModules.$Workforce * (1.0 + $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{19}) ^ $DAMVT.$DAStationModules.$Secondary"/>
							<set_value name="$ProdPerHour" exact="($ProdAmountPerModule * $CyclesPerHour * $ModuleCount)i"/>
							<set_value name="$DAMVT.$DAStationModules.$Products.{$ProdWare}" exact="$ProdPerHour" operation="add"/>
							<!-- Resources -->
							<do_all exact="5" counter="$i">
								<set_value name="$ResourceIndex" exact="(($i - 1) * 2) + 4"/>
								<set_value name="$ResourceAmountIndex" exact="$ResourceIndex + 1"/>
								<do_if value="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{$ResourceIndex}? and (typeof $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{$ResourceIndex} == datatype.ware) and ($DAMVT.$DAStationCalcTable.{$ModuleMacro}.{$ResourceAmountIndex} gt 0)">
									<set_value name="$ResourcePerHour" exact="($DAMVT.$DAStationCalcTable.{$ModuleMacro}.{$ResourceAmountIndex} * $CyclesPerHour * $ModuleCount)i"/>
									<set_value name="$DAMVT.$DAStationModules.$Resources.{$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{$ResourceIndex}}" exact="$ResourcePerHour" operation="add"/>
								</do_if>
							</do_all>
							<remove_value name="$ResourceIndex"/>
							<remove_value name="$ResourceAmountIndex"/>
							<!-- Secondary Resources -->
							<do_if value="$DAMVT.$DAStationModules.$Secondary and (typeof $DAMVT.$DAStationCalcTable.{$ModuleMacro}.{17} == datatype.ware) and ($DAMVT.$DAStationCalcTable.{$ModuleMacro}.{18} gt 0)">
								<set_value name="$SecondaryResourceWare" exact="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{17}"/>
								<set_value name="$SecondaryResourcePerHour" exact="($DAMVT.$DAStationCalcTable.{$ModuleMacro}.{18} * $CyclesPerHour * $ModuleCount)i"/>
								<set_value name="$DAMVT.$DAStationModules.$Resources.{$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{17}}" exact="$SecondaryResourcePerHour" operation="add"/>
								<remove_value name="$SecondaryResourceWare"/>
								<remove_value name="$SecondaryResourcePerHour"/>
							</do_if>
							<!-- Workforce Math -->
							<do_if value="$DAMVT.$DAStationModules.$Workforce and ($DAMVT.$DAStationCalcTable.{$ModuleMacro}.{14} gt 0)">
								<set_value name="$WorkersNeeded" exact="$DAMVT.$DAStationCalcTable.{$ModuleMacro}.{14} * $ModuleCount"/>
								<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers" exact="$WorkersNeeded" operation="add"/>
								<remove_value name="$WorkersNeeded"/>
							</do_if>
							<do_else>
								<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers" exact="0"/>
							</do_else>
							<remove_value name="$ProdWare"/>
							<remove_value name="$CycleTime"/>
							<remove_value name="$CyclesPerHour"/>
							<remove_value name="$ProdAmountPerModule"/>
							<remove_value name="$ProdPerHour"/>
						</do_if>
						<do_elseif value="$ModuleMacro.isclass.habitation">
							<do_if value="not $DAMVT.$DAStationModules.$WorkforceCalcs.$Race? and @$ModuleMacro.workforce.race">
								<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs.$Race" exact="$ModuleMacro.workforce.race"/>
							</do_if>
							<set_value name="$DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity" exact="$ModuleMacro.workforce.capacity * $ModuleCount" operation="add"/>
						</do_elseif>
						<remove_value name="$ModuleCount"/>
					</actions>
				</library>
				<library name="Library_StationCalc_CalculateWorkforceNeeds">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- $DAMVT.$DAStationModules.$Products $DAMVT.$DAStationModules.$Resources $DAMVT.$DAStationModules.$WorkforceCalcs -->
						<!-- {1}Prod Ware,{2}Prod Time,{3}Prod Amount,{4}R1,{5}R1 Amount,{6}R2,{7}R2 Amount,{8}R3,{9}R3 Amount,{10}R4,{11}R4 Amount,{12}R5,{13}R5 Amount,
							{14}Workforce Num,{15}Workforce Prod Effect,{16}Workforce Cycle Effect,{17}Secondary Resource,{18}SR Amount,{19}SR Prod Effect,{20}SR Cycle Effect -->
						<!-- $DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers $DAMVT.$DAStationModules.$WorkforceCalcs.$Race $DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity -->
						<do_if value="$DAMVT.$DAStationCalcTable.{$DAMVT.$DAStationModules.$WorkforceCalcs.$Race}?">
							<set_value name="$LocRace" exact="$DAMVT.$DAStationModules.$WorkforceCalcs.$Race"/>
							<set_value name="$UsageMultiplier" exact="($DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers)f / ($DAMVT.$DAStationCalcTable.{$LocRace}.{3})f"/>
							<set_value name="$CyclesPerHour" exact="3600.0 / $DAMVT.$DAStationCalcTable.{$LocRace}.{2}"/>
							<!-- Resources -->
							<do_all exact="5" counter="$i">
								<set_value name="$ResourceIndex" exact="(($i - 1) * 2) + 4"/>
								<set_value name="$ResourceAmountIndex" exact="$ResourceIndex + 1"/>
								<do_if value="$DAMVT.$DAStationCalcTable.{$LocRace}.{$ResourceIndex}? and (typeof $DAMVT.$DAStationCalcTable.{$LocRace}.{$ResourceIndex} == datatype.ware) and ($DAMVT.$DAStationCalcTable.{$LocRace}.{$ResourceAmountIndex} gt 0)">
									<set_value name="$ResourcePerHour" exact="($DAMVT.$DAStationCalcTable.{$LocRace}.{$ResourceAmountIndex} * $CyclesPerHour * $UsageMultiplier)i"/>
									<set_value name="$DAMVT.$DAStationModules.$Resources.{$DAMVT.$DAStationCalcTable.{$LocRace}.{$ResourceIndex}}" exact="$ResourcePerHour" operation="add"/>
								</do_if>
							</do_all>
							<remove_value name="$ResourceIndex"/>
							<remove_value name="$ResourceAmountIndex"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_StationCalc_AddWareInformation">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- $DAMVT.$DAStationModules.$Products $DAMVT.$DAStationModules.$Resources $DAMVT.$DAStationModules.$WorkforceCalcs -->
						<!-- {1}Prod Ware,{2}Prod Time,{3}Prod Amount,{4}R1,{5}R1 Amount,{6}R2,{7}R2 Amount,{8}R3,{9}R3 Amount,{10}R4,{11}R4 Amount,{12}R5,{13}R5 Amount,
							{14}Workforce Num,{15}Workforce Prod Effect,{16}Workforce Cycle Effect,{17}Secondary Resource,{18}SR Amount,{19}SR Prod Effect,{20}SR Cycle Effect -->
						<!-- USING $LocWare -->
						<set_value name="$ProductsPerHour" exact="0"/>
						<set_value name="$ResourcesPerHour" exact="0"/>
						<set_value name="$NetPerHour" exact="0"/>
						<do_if value="$DAMVT.$DAStationModules.$Products.{$LocWare}? and ($DAMVT.$DAStationModules.$Products.{$LocWare} gt 0)">
							<set_value name="$ProductsPerHour" exact="($DAMVT.$DAStationModules.$Products.{$LocWare})i"/>
						</do_if>
						<do_if value="$DAMVT.$DAStationModules.$Resources.{$LocWare}? and ($DAMVT.$DAStationModules.$Resources.{$LocWare} gt 0)">
							<set_value name="$ResourcesPerHour" exact="($DAMVT.$DAStationModules.$Resources.{$LocWare})i"/>
						</do_if>
						<set_value name="$NetPerHour" exact="$ProductsPerHour - $ResourcesPerHour"/>
						<!-- COLUMN LABLES 1-3 Ware 4-6 Production 7-9 Consumption 10-12 Results -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocWare.name, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Ware"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 3, $text = $ProductsPerHour, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Production"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 3, $text = $ResourcesPerHour, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Consumption"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = $NetPerHour, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Results"/>
						<remove_value name="$ProductsPerHour"/>
						<remove_value name="$ResourcesPerHour"/>
						<remove_value name="$NetPerHour"/>
					</actions>
				</library>
				<library name="Library_StationCalc_AddWorkforceInformation">
					<actions>
						<!-- $DAMVT.$DAStationCalcTable $DAMVT.$DAStationCalcListOfAvailableModules $DAMVT.$DAStationModules -->
						<!-- $DAMVT.$DAStationModules.$Selected = table, $DAMVT.$DAStationModules.$Order = list, $DAMVT.$DAStationModules.$Dropdown = list, $DAMVT.$DAStationModules.$Workforce = bool, $DAMVT.$DAStationModules.$Secondary = bool -->
						<!-- $DAMVT.$DAStationModules.$Products $DAMVT.$DAStationModules.$Resources $DAMVT.$DAStationModules.$WorkforceCalcs -->
						<!-- {1}Prod Ware,{2}Prod Time,{3}Prod Amount,{4}R1,{5}R1 Amount,{6}R2,{7}R2 Amount,{8}R3,{9}R3 Amount,{10}R4,{11}R4 Amount,{12}R5,{13}R5 Amount,
							{14}Workforce Num,{15}Workforce Prod Effect,{16}Workforce Cycle Effect,{17}Secondary Resource,{18}SR Amount,{19}SR Prod Effect,{20}SR Cycle Effect -->
						<!-- $DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers $DAMVT.$DAStationModules.$WorkforceCalcs.$Race $DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity -->
						<set_value name="$OptimalWorkers" exact="0"/>
						<set_value name="$WorkerCapacity" exact="0"/>
						<set_value name="$NetCapacity" exact="0"/>
						<do_if value="$DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers? and ($DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers gt 0)">
							<set_value name="$OptimalWorkers" exact="$DAMVT.$DAStationModules.$WorkforceCalcs.$TotalWorkers"/>
						</do_if>
						<do_if value="$DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity? and ($DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity gt 0)">
							<set_value name="$WorkerCapacity" exact="$DAMVT.$DAStationModules.$WorkforceCalcs.$Capacity"/>
						</do_if>
						<set_value name="$NetCapacity" exact="$WorkerCapacity - $OptimalWorkers"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<do_if value="$DAMVT.$DAStationModules.$WorkforceCalcs.$Race? and (typeof $DAMVT.$DAStationModules.$WorkforceCalcs.$Race == datatype.race)">
							<set_value name="$WorkforceRace" exact="$DAMVT.$DAStationModules.$WorkforceCalcs.$Race.name"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $WorkforceRace, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Workforce Race"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 3, $text = $OptimalWorkers, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Optimal Workforce"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 3, $text = $WorkerCapacity, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Workforce Capacity"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 10, $colSpan = 3, $text = $NetCapacity, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundDark]" comment="Results"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = {33232474,2417}, $color = $DAMVT.$TextRed, $halign = 'center', $cellBGColor = $DAMVT.$BodyBackgroundBright, $wordwrap = true]" comment="ERROR"/>
						</do_else>
						<remove_value name="$ProductsPerHour"/>
						<remove_value name="$ResourcesPerHour"/>
						<remove_value name="$NetPerHour"/>
					</actions>
				</library>
				<!-- Station Calc -->
				<cue name="ExecuteOption_StationCalcDropDown" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$Param" exact="event.param"/>
						<do_if value="$Param.$option.$value != null">
							<do_if value="not $DAMVT.$DAStationModules.$Selected.{$Param.$option.$value}?">
								<set_value name="$DAMVT.$DAStationModules.$Selected.{$Param.$option.$value}" exact="0"/>
								<do_if value="not $DAMVT.$DAStationModules.$Order.indexof.{$Param.$option.$value}">
									<append_to_list name="$DAMVT.$DAStationModules.$Order" exact="$Param.$option.$value"/>
								</do_if>
								<do_else>
									<debug_text text="'MOD: DAMenus SC -- ExecuteOption_StationCalcDropDown -- ERROR module already in $DAMVT.$DAStationModules.$Order: %s'.[@$DAMVT.$DAStationModules.$Order.indexof.{$Param.$option.$value}]" context="false" filter="error"/>
								</do_else>
							</do_if>
							<do_else>
								<debug_text text="'MOD: DAMenus SC -- ExecuteOption_StationCalcDropDown -- ERROR module already in $DAMVT.$DAStationModules.$Selected: %s'.[@$Param.$option.$value.name]" context="false" filter="error"/>
							</do_else>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus SC -- ExecuteOption_StationCalcDropDown -- ERROR $Param.$option.$value is invalid: %s'.[@$Param.$option.$value]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_StationCalcWorkforceEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$DAStationModules.$Workforce">
							<set_value name="$DAMVT.$DAStationModules.$Workforce" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$DAStationModules.$Workforce" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus SC -- Updated $DAMVT.$DAStationModules.$Workforce to %s'.[$DAMVT.$DAStationModules.$Workforce]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_StationCalcSecondaryEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$DAStationModules.$Secondary">
							<set_value name="$DAMVT.$DAStationModules.$Secondary" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$DAStationModules.$Secondary" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus SC -- Updated $DAMVT.$DAStationModules.$Secondary to %s'.[$DAMVT.$DAStationModules.$Secondary]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_StationCalcSetModuleCount" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$DAStationModules.$Selected.{event.param.$echo}?">
							<do_if value="event.param.$value ge 0">
								<set_value name="$DAMVT.$DAStationModules.$Selected.{event.param.$echo}" exact="event.param.$value"/>
								<debug_text text="'MOD: DAMenus SC -- Updated $DAMVT.$DAStationModules.$Selected.{%s} to %s'.[event.param.$echo,$DAMVT.$DAStationModules.$Selected.{event.param.$echo}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_if>
							<do_else>
								<remove_value name="$DAMVT.$DAStationModules.$Selected.{event.param.$echo}"/>
								<debug_text text="'MOD: DAMenus SC -- Removed $DAMVT.$DAStationModules.$Selected.{%s} -- Exists: %s'.[event.param.$echo,$DAMVT.$DAStationModules.$Selected.{event.param.$echo}?]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
								<do_if value="$DAMVT.$DAStationModules.$Order.indexof.{event.param.$echo}">
									<remove_from_list name="$DAMVT.$DAStationModules.$Order" exact="event.param.$echo" multiple="true"/>
									<debug_text text="'MOD: DAMenus SC -- Removed %s from $DAMVT.$DAStationModules.$Order -- Exists: %s'.[event.param.$echo,@$DAMVT.$DAStationModules.$Order.indexof.{event.param.$echo}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
								</do_if>
								<do_else>
									<debug_text text="'MOD: DAMenus SC -- ExecuteOption_StationCalcRemoveModule -- ERROR %s is not in $DAMVT.$DAStationModules.$Order'.[@event.param.$echo]" context="false" filter="error"/>
								</do_else>
							</do_else>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus SC -- ExecuteOption_StationCalcSetModuleCount -- ERROR event.param.$echo is invalid: %s -- event.param.$value: %s'.[@event.param.$echo,event.param.$value]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- New Simplified enable/disable -->
				<cue name="ExecuteOption_EnableSimplfied" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="event.param.$echo?">
							<do_if value="event.param.$echo.{1} == 'DADVT'">
								<do_if value="$DADVT.{event.param.$echo.{2}}?">
									<set_value name="$DADVT.{event.param.$echo.{2}}" exact="not event.param.$echo.{3}"/>
									<debug_text text="'MOD: DAMenus -- Updated $%s.%s from %s to %s'.[event.param.$echo.{1},event.param.$echo.{2},event.param.$echo.{3},$DADVT.{event.param.$echo.{2}}]" context="false" filter="scripts"/>
								</do_if>
								<do_else>
									<debug_text text="'MOD: DAMenus -- ERROR -- Could not find $%s.%s'.[event.param.$echo.{1},event.param.$echo.{2}]" context="false" filter="error"/>
								</do_else>
							</do_if>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Base Menu Functionality Cues -->
				<cue name="Handle_Option_Change" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$args" exact="event.param"/>
						<do_if value="$args.$echo.$type == 'dropdown'">
							<set_value name="$DAMVT.{$args.$echo.$name}" exact="$args.$option.$value"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.{$args.$echo.$name}" exact="$args.$echo.$value"/>
						</do_else>
						<do_if value="$args.$echo.$refresh">
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
					</actions>
				</cue>
			</cues>
		</cue>
	</cues>
</mdscript>