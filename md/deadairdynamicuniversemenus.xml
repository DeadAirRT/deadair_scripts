<?xml version="1.0" encoding="utf-8"?>
<mdscript name="DeadAirDynamicUniverseMenus" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="md.xsd">
	<cues>
		<cue name="Init" instantiate="false">
			<actions>
				<!-- DONE: Check interval entries and convert as needed // I think all previous were converted into seconds and potentially running way too often if I didn't convert properly -->
				<!-- TODO: Debug message cleanup. Remove player.age and use %s -->
				<!-- DONE: Dynamic News options for notifications / logbook -->
				<!-- DONE: Gate menu -->
				<!-- TODO: Menu for tater lifetime profit -->
				<!-- TODO: Faction production estimation -->
				<!-- DONE: Test fill m3 removed, added, ships modded -->
				<!-- DONE: Improve handling of prices/favors for increase/decrease relations menus -->
				<!-- DONE: Jobs menu using md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction} -->
				<!-- TODO: BP menu -->
				<set_value name="md.$DAMenuVarTable" exact="table[]"/>
				<!-- Shortcut entries -->
				<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
				<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
				<set_value name="$DAGVT" exact="global.$DAVarTable"/>
				<!-- Debug Var -->
				<set_value name="$DAMVT.$DAMenuDebugEnable" exact="true"/>
				<!-- Dynamic War -->
				<set_value name="$DAMVT.$DWMilStrengthHistory" exact="table[]"/>
				<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
				<set_value name="$DAMVT.$DWEcoStrengthHistory" exact="table[]"/>
				<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
				<!-- Info -->
				<set_value name="$DAMVT.$TPSortByName" exact="false"/>
				<!-- 20240402 Improved handling of relation change costs -->
				<set_value name="$WhatFactions" exact="'All'"/>
				<include_actions ref="Library_DAMenuGetFactions"/>
				<!-- 20240717 Updating for new colors. Properly adding should allow user to change -->
				<set_value name="$DAMVT.$TextGreen" exact="'Color.da_text_green'"/>
				<set_value name="$DAMVT.$TextRed" exact="'Color.da_text_red'"/>
				<set_value name="$DAMVT.$TextBlue" exact="'Color.da_text_blue'"/>
				<set_value name="$DAMVT.$MarkerTransparent" exact="'Color.da_marker_transparent'"/>
				<set_value name="$DAMVT.$FillTransparent" exact="'Color.da_transparent'"/>
				<set_value name="$DAMVT.$FillRedDark" exact="'Color.da_red_dark'"/>
				<set_value name="$DAMVT.$FillRed" exact="'Color.da_red'"/>
				<set_value name="$DAMVT.$FillRedBright" exact="'Color.da_red_bright'"/>
				<set_value name="$DAMVT.$FillGreenDark" exact="'Color.da_green_dark'"/>
				<set_value name="$DAMVT.$FillGreen" exact="'Color.da_green'"/>
				<set_value name="$DAMVT.$FillGreenBright" exact="'Color.da_green_bright'"/>
				<set_value name="$DAMVT.$FillYellowDark" exact="'Color.da_yellow_dark'"/>
				<set_value name="$DAMVT.$FillYellow" exact="'Color.da_yellow'"/>
				<set_value name="$DAMVT.$FillYellowBright" exact="'Color.da_yellow_bright'"/>
				<set_value name="$DAMVT.$FillBlueDark" exact="'Color.da_blue_dark'"/>
				<set_value name="$DAMVT.$FillBlue" exact="'Color.da_blue'"/>
				<set_value name="$DAMVT.$FillBlueBright" exact="'Color.da_blue_bright'"/>
				<set_value name="$DAMVT.$FillOrangeDark" exact="'Color.da_orange_dark'"/>
				<set_value name="$DAMVT.$FillOrange" exact="'Color.da_orange'"/>
				<set_value name="$DAMVT.$FillOrangeBright" exact="'Color.da_orange_bright'"/>
			</actions>
			<cues>
				<cue name="DeadAirMenu">
					<actions>
						<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
						<!-- This cue runs after init and is primarily used for variable storage for options selection -->
					</actions>
				</cue>
				<cue name="VerifyVariablesExist" instantiate="true">
					<conditions>
						<check_any>
							<event_universe_generated/>
							<event_game_loaded/>
							<event_cue_signalled/>
						</check_any>
					</conditions>
					<actions>
						<set_value name="$MissingVarCount" exact="0"/>
						<do_if value="not md.$DAMenuVarTable?">
							<set_value name="md.$DAMenuVarTable" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DADVT?">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT?">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAGVT?">
							<set_value name="$DAGVT" exact="global.$DAVarTable"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$DAMenuDebugEnable?">
							<set_value name="$DAMVT.$DAMenuDebugEnable" exact="true"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$DWMilStrengthHistory?">
							<set_value name="$DAMVT.$DWMilStrengthHistory" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$InfoMilDisplayOption?">
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$DWEcoStrengthHistory?">
							<set_value name="$DAMVT.$DWEcoStrengthHistory" exact="table[]"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$InfoEcoDisplayOption?">
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<do_if value="not $DAMVT.$TextGreen?">
							<set_value name="$DAMVT.$TextGreen" exact="'Color.da_text_green'"/>
							<set_value name="$DAMVT.$TextRed" exact="'Color.da_text_red'"/>
							<set_value name="$DAMVT.$TextBlue" exact="'Color.da_text_blue'"/>
							<set_value name="$DAMVT.$MarkerTransparent" exact="'Color.da_marker_transparent'"/>
							<set_value name="$DAMVT.$FillTransparent" exact="'Color.da_transparent'"/>
							<set_value name="$DAMVT.$FillRedDark" exact="'Color.da_red_dark'"/>
							<set_value name="$DAMVT.$FillRed" exact="'Color.da_red'"/>
							<set_value name="$DAMVT.$FillRedBright" exact="'Color.da_red_bright'"/>
							<set_value name="$DAMVT.$FillGreenDark" exact="'Color.da_green_dark'"/>
							<set_value name="$DAMVT.$FillGreen" exact="'Color.da_green'"/>
							<set_value name="$DAMVT.$FillGreenBright" exact="'Color.da_green_bright'"/>
							<set_value name="$DAMVT.$FillYellowDark" exact="'Color.da_yellow_dark'"/>
							<set_value name="$DAMVT.$FillYellow" exact="'Color.da_yellow'"/>
							<set_value name="$DAMVT.$FillYellowBright" exact="'Color.da_yellow_bright'"/>
							<set_value name="$DAMVT.$FillBlueDark" exact="'Color.da_blue_dark'"/>
							<set_value name="$DAMVT.$FillBlue" exact="'Color.da_blue'"/>
							<set_value name="$DAMVT.$FillBlueBright" exact="'Color.da_blue_bright'"/>
							<set_value name="$DAMVT.$FillOrangeDark" exact="'Color.da_orange_dark'"/>
							<set_value name="$DAMVT.$FillOrange" exact="'Color.da_orange'"/>
							<set_value name="$DAMVT.$FillOrangeBright" exact="'Color.da_orange_bright'"/>
							<set_value name="$MissingVarCount" exact="1" operation="add"/>
						</do_if>
						<!-- Print only if missing -->
						<do_if value="$MissingVarCount">
							<debug_text text="'MOD: DAMenus -- Number of missing variables set: %s.'.[$MissingVarCount]" context="true" filter="error"/>
						</do_if>
						<remove_value name="$MissingVarCount"/>
					</actions>
				</cue>
				<!--
					Menu Structure:
						DA Mod Menu (Main Menu)
							DA Dynamic War
							DA Dynamic News
							DA Evolution
							DA Fill
							DA Jobs
				-->
				<!-- Register Menus -->
				<cue name="Register_Options_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled cue="md.Simple_Menu_API.Reloaded"/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[$id = 'da_mod_menu', $columns = 2, $title = {33232474,100}, $onOpen  = DA_Mod_Menu ]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_dynamicwar_menu',
								$columns = 8, 
								$title   = {33232474,101},
								$onOpen  = DA_DynamicWar_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_dynamicnews_menu',
								$columns = 8, 
								$title   = {33232474,102},
								$onOpen  = DA_DynamicNews_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_evolution_menu',
								$columns = 8, 
								$title   = {33232474,103},
								$onOpen  = DA_Evolution_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_fill_menu',
								$columns = 8, 
								$title   = {33232474,104},
								$onOpen  = DA_Fill_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_jobs_menu',
								$columns = 8, 
								$title   = {33232474,105},
								$onOpen  = DA_Jobs_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_gate_menu',
								$columns = 8, 
								$title   = {33232474,106},
								$onOpen  = DA_Gate_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_god_menu',
								$columns = 8, 
								$title   = {33232474,107},
								$onOpen  = DA_God_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_bp_menu',
								$columns = 8, 
								$title   = {33232474,108},
								$onOpen  = DA_BP_Menu,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'da_information_menu',
								$columns = 8, 
								$title   = {33232474,400},
								$onOpen  = DA_Information_Menu,
								$private = 1,
							]"/>
						<!-- Dynamic War Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_increaserelations',
								$columns = 12, 
								$title   = {33232474,110},
								$onOpen  = Menu_DynamicWar_IncreaseRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_decreaserelations',
								$columns = 12, 
								$title   = {33232474,111},
								$onOpen  = Menu_DynamicWar_DecreaseRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_options',
								$columns = 8, 
								$title   = {33232474,117},
								$onOpen  = Menu_DynamicWar_Options,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_unlockrelations',
								$columns = 8, 
								$title   = {33232474,118},
								$onOpen  = Menu_DynamicWar_UnlockRelations,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_ignoredfactions',
								$columns = 8, 
								$title   = {33232474,119},
								$onOpen  = Menu_DynamicWar_IgnoredFactions,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicwar_spacefactionlogic',
								$columns = 8, 
								$title   = {33232474,145},
								$onOpen  = Menu_DynamicWar_SpaceFactionLogic,
								$private = 1,
							]"/>
						<!-- Dynamic News Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicnews_options',
								$columns = 8, 
								$title   = {33232474,112},
								$onOpen  = Menu_DynamicNews_Options,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_dynamicnews_recentnews',
								$columns = 8, 
								$title   = {33232474,112},
								$onOpen  = Menu_DynamicNews_RecentNews,
								$private = 1,
							]"/>
						<!-- DA Evolution Menus -->
						<!-- DA Fill Menus -->
						<!-- DA Jobs Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_jobs_quotas',
								$columns = 8, 
								$title   = {33232474,245},
								$onOpen  = Menu_Jobs_Quotas,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_jobs_options',
								$columns = 8, 
								$title   = {33232474,117},
								$onOpen  = Menu_Jobs_Options,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_jobs_togglespawned',
								$columns = 8, 
								$title   = {33232474,261},
								$onOpen  = Menu_Jobs_ToggleSpawned,
								$private = 1,
							]"/>
						<!-- DA God Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_god_quotas',
								$columns = 8, 
								$title   = {33232474,349},
								$onOpen  = Menu_God_Quotas,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_god_options',
								$columns = 8, 
								$title   = {33232474,348},
								$onOpen  = Menu_God_Options,
								$private = 1,
							]"/>
						<!-- BP Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_options',
								$columns = 8, 
								$title   = {33232474,380},
								$onOpen  = Menu_BP_Options,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress',
								$columns = 8, 
								$title   = {33232474,381},
								$onOpen  = Menu_BP_Progress,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_modules',
								$columns = 8, 
								$title   = {33232474,382},
								$onOpen  = Menu_BP_Progress_Modules,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_ships',
								$columns = 8, 
								$title   = {33232474,383},
								$onOpen  = Menu_BP_Progress_Ships,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_equipment',
								$columns = 8, 
								$title   = {33232474,384},
								$onOpen  = Menu_BP_Progress_Equipment,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_bp_progress_misc',
								$columns = 8, 
								$title   = {33232474,388},
								$onOpen  = Menu_BP_Progress_Misc,
								$private = 1,
							]"/>
						<!-- Information Menus -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_milstrength',
								$columns = 10, 
								$title   = {33232474,401},
								$onOpen  = Menu_Information_MilStrength,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_econstrength',
								$columns = 10, 
								$title   = {33232474,402},
								$onOpen  = Menu_Information_EconStrength,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_econdetails',
								$columns = 12, 
								$title   = {33232474,403},
								$onOpen  = Menu_Information_EconDetails,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_resourcefullness',
								$columns = 12, 
								$title   = {33232474,404},
								$onOpen  = Menu_Information_ResourceFullness,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_productioncount',
								$columns = 12, 
								$title   = {33232474,405},
								$onOpen  = Menu_Information_ProductionCount,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_traderprofit',
								$columns = 12, 
								$title   = {33232474,406},
								$onOpen  = Menu_Information_TraderProfit,
								$private = 1,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Register_Options_Menu" param="table[
								$id      = 'menu_information_shipbreakdown',
								$columns = 8, 
								$title   = {33232474,408},
								$onOpen  = Menu_Information_ShipBreakdown,
								$private = 1,
							]"/>
					</actions>
				</cue>
				<!-- DA Mod Menu -->
				<cue name="DA_Mod_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="VerifyVariablesExist"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,101}, $id='da_dynamicwar_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,102}, $id='da_dynamicnews_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,103}, $id='da_evolution_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,104}, $id='da_fill_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,105}, $id='da_jobs_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,106}, $id='da_gate_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,107}, $id='da_god_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,108}, $id='da_bp_menu']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,400}, $id='da_information_menu']"/>
					</actions>
				</cue>
				<!-- Dynamic War Menus -->
				<cue name="DA_DynamicWar_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,117}, $id='menu_dynamicwar_options']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,110}, $id='menu_dynamicwar_increaserelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,111}, $id='menu_dynamicwar_decreaserelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,118}, $id='menu_dynamicwar_unlockrelations']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,119}, $id='menu_dynamicwar_ignoredfactions']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,145}, $id='menu_dynamicwar_spacefactionlogic']"/>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_IncreaseRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'ChangeRelations'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 4, $halign = 'center', $text = {1001,9928}]" comment="Relations"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1001,2926}]" comment="Price"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction != null">
							<do_all exact="$FactionList.count" counter="$A">
								<set_value name="$DADynamicWarFactionOne" exact="$DAMVT.$DAMenuSelectedFaction"/>
								<set_value name="$DADynamicWarFactionTwo" exact="$FactionList.{$A}"/>
								<set_value name="$DADynamicWarPlayerInvolved" exact="($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player)"/>
								<do_if value="($DADynamicWarFactionOne != $DADynamicWarFactionTwo) and ($DADynamicWarFactionTwo.isactive) and (not $ExcludedFactions.indexof.{$DADynamicWarFactionTwo})">
									<!-- Faction name - Current Relations - Increase Relations Option - Cost - Buy +5 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
									<!-- $col 1 + 2 + 3 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DADynamicWarFactionTwo.knownname]"/>
									<!-- $col 4 & $col 5 + 6 + 7 -->
									<include_actions ref="Library_FactionRelationBar"/>
									<!-- 20240309 reworking section to account for relfix and be easier to read
										If either is player then le 30
										elseif neither is player then
											If $DADVT.$DADynamicWarRelationsFixEnable then le $DADVT.$DADynamicWarRelationsAILimit
											else le 30
									-->
									<do_if value="$DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked">
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Relation locked -->
										<do_if value="$DADynamicWarFactionOne.isrelationlocked">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionOne.knownname,{33232474,2110}]]" comment="Relation Locked"/>
										</do_if>
										<do_elseif value="$DADynamicWarFactionTwo.isrelationlocked">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionTwo.knownname,{33232474,2110}]]" comment="Relation Locked"/>
										</do_elseif>
									</do_if>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 gt 30) or ((not $DADynamicWarPlayerInvolved) and $DADVT.$DADynamicWarRelationsFixEnable and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 gt $DADynamicWarFactionOne.relation.{$DADVT.$DADynamicWarRelationsAILimit}.uivalue))">
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Too high -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {33232474,2114}]" comment="Relation too high."/>
									</do_elseif>
									<do_elseif value="($DADynamicWarPlayerInvolved and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le 30)) or ((not $DADynamicWarPlayerInvolved) and $DADVT.$DADynamicWarRelationsFixEnable and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le $DADynamicWarFactionOne.relation.{$DADVT.$DADynamicWarRelationsAILimit}.uivalue)) or ((not $DADynamicWarPlayerInvolved) and (not $DADVT.$DADynamicWarRelationsFixEnable) and ($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 5 le 30))">
										<!-- 20240402 Rewrite Cost Calc -->
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Library_RelationIncreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $IncCost -->
										<include_actions ref="Library_RelationIncreaseCost"/>
										<do_if value="$IncCost?">
											<!-- Determine if using a favor -->
											<set_value name="$UseFavor" exact="false"/>
											<do_if value="($IncCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionOne"/>
											</do_if>
											<do_elseif value="($IncCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionTwo"/>
											</do_elseif>
											<!-- Set text for button -->
											<do_if value="typeof $UseFavor == datatype.faction">
												<set_value name="$LocText" exact="'%s +5 %s (1 %s %s)'.[{1001,2701},{1001,7749},$UseFavor.shortname,{33232474,2115}]" comment="Buy +5 Relation (1 FAC Diplomatic Favor)"/>
											</do_if>
											<do_elseif value="player.money ge $IncCost">
												<set_value name="$LocText" exact="'%s +5 %s (%s)'.[{1001,2701},{1001,7749},$IncCost.formatted.{'%s %Cr'}]" comment="Buy +5 Relation (Cost)"/>
											</do_elseif>
											<do_elseif value="player.money lt $IncCost">
												<set_value name="$LocText" exact="null"/>
											</do_elseif>
											<!-- Button if valid, Text if invalid -->
											<do_if value="$LocText? and ($LocText != null)">
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
													$col = 8,
													$colSpan = 5,
													$text = table[
													  $text   =  $LocText, 
													  $color  = $DAMVT.$TextGreen,
													  $halign = 'center',
													],
													$onClick = ExecuteOption_RelationsIncrease,
													$onRightClick = ExecuteOption_RelationsIncrease,
													$echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$IncCost],
													]"/>
											</do_if>
											<do_else>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1015,28}]" comment="Insufficient funds"/>
											</do_else>
											<remove_value name="$UseFavor"/>
											<remove_value name="$LocText"/>
										</do_if>
										<remove_value name="$IncCost"/>
									</do_elseif>
									<do_else>
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1037,3006}]" comment="Impossible"/>
									</do_else>
								</do_if>
								<remove_value name="$DADynamicWarFactionOne"/>
								<remove_value name="$DADynamicWarFactionTwo"/>
								<remove_value name="$DADynamicWarPlayerInvolved"/>
							</do_all>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_DecreaseRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'ChangeRelations'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 4, $halign = 'center', $text = {1001,9928}]" comment="Relations"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 2, $halign = 'center', $text = {1001,2926}]" comment="Price"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction != null">
							<do_all exact="$FactionList.count" counter="$A">
								<set_value name="$DADynamicWarFactionOne" exact="$DAMVT.$DAMenuSelectedFaction"/>
								<set_value name="$DADynamicWarFactionTwo" exact="$FactionList.{$A}"/>
								<do_if value="($DADynamicWarFactionOne != $DADynamicWarFactionTwo) and ($DADynamicWarFactionTwo.isactive) and (not $ExcludedFactions.indexof.{$DADynamicWarFactionTwo})">
									<!-- Faction name - Current Relations - Decrease Relations Option - Cost - Buy -5 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
									<!-- $col 1 + 2 + 3 -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DADynamicWarFactionTwo.knownname]"/>
									<!-- $col 4 & $col 5 + 6 + 7 -->
									<include_actions ref="Library_FactionRelationBar"/>
									<do_if value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and (($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue * -1) le $DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{faction.player}}.uivalue) and (not ($DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked))">
										<!-- 20240402 Rewrite Cost Calc -->
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<!-- Library_RelationDecreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $DecCost -->
										<include_actions ref="Library_RelationDecreaseCost"/>
										<do_if value="$DecCost?">
											<!-- Determine if using a favor -->
											<set_value name="$UseFavor" exact="false"/>
											<do_if value="($DecCost == 0) and (($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player))">
												<set_value name="$UseFavor" exact="false"/>
											</do_if>
											<do_elseif value="($DecCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionOne"/>
											</do_elseif>
											<do_elseif value="($DecCost == 0) and @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
												<set_value name="$UseFavor" exact="$DADynamicWarFactionTwo"/>
											</do_elseif>
											<!-- Set text for button -->
											<do_if value="typeof $UseFavor == datatype.faction">
												<set_value name="$LocText" exact="'%s -5 %s (1 %s %s)'.[{1001,2701},{1001,7749},$UseFavor.shortname,{33232474,2115}]" comment="Buy -5 Relation (1 FAC Diplomatic Favor)"/>
											</do_if>
											<do_elseif value="player.money ge $DecCost">
												<set_value name="$LocText" exact="'%s -5 %s (%s)'.[{1001,2701},{1001,7749},$DecCost.formatted.{'%s %Cr'}]" comment="Buy -5 Relation (Cost)"/>
											</do_elseif>
											<do_elseif value="player.money lt $DecCost">
												<set_value name="$LocText" exact="null"/>
											</do_elseif>
											<!-- Button if valid, Text if invalid -->
											<do_if value="$LocText? and ($LocText != null)">
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
													$col = 8,
													$colSpan = 5,
													$text = table[
													  $text   =  $LocText, 
													  $color  = $DAMVT.$TextGreen,
													  $halign = 'center',
													],
													$onClick = ExecuteOption_RelationsDecrease,
													$onRightClick = ExecuteOption_RelationsDecrease,
													$echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$DecCost],
													]"/>
											</do_if>
											<do_else>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1015,28}]" comment="Insufficient funds"/>
											</do_else>
											<remove_value name="$UseFavor"/>
											<remove_value name="$LocText"/>
										</do_if>
										<remove_value name="$DecCost"/>
									</do_if>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and (not (($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue * -1) le $DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{faction.player}}.uivalue)) and (not ($DADynamicWarFactionOne.isrelationlocked or $DADynamicWarFactionTwo.isrelationlocked))">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {33232474,120}, $mouseOverText = {33232474,1120} + $DADynamicWarFactionOne.knownname]" comment="Insufficient Relation"/>
									</do_elseif>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and ($DADynamicWarFactionOne.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionOne.knownname,{33232474,2110}]]" comment="Relation Locked"/>
									</do_elseif>
									<do_elseif value="($DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue - 5 ge -30) and ($DADynamicWarFactionTwo.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = '%s %s'.[$DADynamicWarFactionTwo.knownname,{33232474,2110}]]" comment="Relation Locked"/>
									</do_elseif>
									<do_else>
										<!-- $col 8 + 9 + 10 + 11 + 12 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 5, $halign = 'center', $text = {1037,3006}]" comment="Impossible"/>
									</do_else>
								</do_if>
							</do_all>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $DADVT.$DADynamicWarEnable // $DADVT.$DADynamicWarFavorsEnable // $DADVT.$DADynamicWarInterval // $DADVT.$DADynamicWarEventWeights // $DADVT.$DADynamicWarPrimaryRaceModifier // 
								$DADVT.$DADynamicWarCurrentRelationsModifier // $DADVT.$DADynamicWarCollectiveRelationsModifier // $DADVT.$DADynamicWarFlavorEnable // $DADVT.$DADynamicWarDetailedDebug //
								$DADVT.$DADynamicWarDisabledFactions // $DADVT.$DADynamicWarLockedRelationFactions -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,123},
								$mouseOverText = {33232474,1123},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1123},
								$onClick = ExecuteOption_DynamicWarEnable,
								$onRightClick = ExecuteOption_DynamicWarEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,124},
								$mouseOverText = {33232474,1124},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarFavorsEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarFavorsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1124},
								$onClick = ExecuteOption_DynamicWarFavorsEnable,
								$onRightClick = ExecuteOption_DynamicWarFavorsEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,142},
								$mouseOverText = {33232474,1142},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicWarRelationsFixEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicWarRelationsFixEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1142},
								$onClick = ExecuteOption_DynamicWarRelationsFixEnable,
								$onRightClick = ExecuteOption_DynamicWarRelationsFixEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,125},
									$mouseOverText = {33232474,1125},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<set_value name="$LocMax" exact="[120,$DADVT.$DADynamicWarInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarInterval,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarInterval,
									$step = 5,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,126},
									$mouseOverText = {33232474,1126},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBesties,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{1},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,127},
									$mouseOverText = {33232474,1127},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBigBoost,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{2},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,128},
									$mouseOverText = {33232474,1128},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightSmallBoost,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{3},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,129},
									$mouseOverText = {33232474,1129},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightSmallBlow,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{4},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,130},
									$mouseOverText = {33232474,1130},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightBigBlow,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{5},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,131},
									$mouseOverText = {33232474,1131},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightNemesis,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{6},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,132},
									$mouseOverText = {33232474,1132},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarEventWeightNothing,
									$min = 0,
									$minSelect = 0,
									$max = 100,
									$maxSelect = 100,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarEventWeights.{7},
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,133},
									$mouseOverText = {33232474,1133},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarPrimaryRaceModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarPrimaryRaceModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,134},
									$mouseOverText = {33232474,1134},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarCurrentRelationsModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarCurrentRelationsModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,135},
									$mouseOverText = {33232474,1135},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarCollectiveRelationsModifier,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = ($DADVT.$DADynamicWarCollectiveRelationsModifier*100.0),
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,136},
									$mouseOverText = {33232474,1136},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarFlavorEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarFlavorEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1136},
									$onClick = ExecuteOption_DynamicWarFlavorEnable,
									$onRightClick = ExecuteOption_DynamicWarFlavorEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,137},
									$mouseOverText = {33232474,1137},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DADynamicWarDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DADynamicWarDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1137},
									$onClick = ExecuteOption_DynamicWarDebugEnable,
									$onRightClick = ExecuteOption_DynamicWarDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,143},
									$mouseOverText = {33232474,1143},
								]"/>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_DynamicWarPossibleFactionsPerEvent,
									$min = 0,
									$minSelect = 1,
									$max = 10,
									$maxSelect = 10,
									$exceedMaxValue = false,
									$start = $DADVT.$DADynamicWarPossibleFactionsPerEvent,
									$step = 1,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_UnlockRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {33232474,138} + ' / ' + {33232474,139}]" comment="Locked / Unlocked"/>
						<do_if value="$FactionList.count">
							<do_for_each name="$DARelUnlFaction" in="$FactionList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DARelUnlFaction.knownname, $mouseOverText = {33232474,1118}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 4,
									$colSpan = 5,
									$text = table[
									  $text   =  if $DARelUnlFaction.isrelationlocked then {33232474,138} else {33232474,139}, 
									  $color  =  if $DARelUnlFaction.isrelationlocked then $DAMVT.$TextRed else $DAMVT.$TextGreen,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1118},
									$onClick = ExecuteOption_UnlockRelations,
									$onRightClick = ExecuteOption_UnlockRelations,
									$echo = $DARelUnlFaction,
									]"/>
							</do_for_each>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_IgnoredFactions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<!-- $DADVT.$DADynamicWarDisabledFactions // $DADVT.$DADynamicWarPermaExcludedFactions -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'center', $text = {1001,43}]" comment="Faction"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {33232474,140} + ' / ' + {33232474,141}]" comment="Allowed / Ignored"/>
						<do_if value="$FactionList.count">
							<do_for_each name="$DAIgnFaction" in="$FactionList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $halign = 'left', $text = $DAIgnFaction.knownname, $mouseOverText = {33232474,1119}]"/>
								<do_if value="(not $DADVT.$DADynamicWarPermaExcludedFactions.indexof.{$DAIgnFaction}) and (not $DAIgnFaction.isrelationlocked) and ($DAIgnFaction.isactive) and ($DAIgnFaction.willclaimspace)">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 4,
										$colSpan = 5,
										$text = table[
										  $text   =  if $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnFaction} then {33232474,141} else {33232474,140}, 
										  $color  =  if $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnFaction} then $DAMVT.$TextRed else $DAMVT.$TextGreen,
										  $halign = 'center',
										],
										$mouseOverText = {33232474,1119},
										$onClick = ExecuteOption_IgnoredFactions,
										$onRightClick = ExecuteOption_IgnoredFactions,
										$echo = $DAIgnFaction,
										]"/>
								</do_if>
								<do_elseif value="(not $DADVT.$DADynamicWarPermaExcludedFactions.indexof.{$DAIgnFaction})">
									<do_if value="(not $DAIgnFaction.isactive)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,43} + ' ' + {1001,12208}]" comment="Faction Inactive"/>
									</do_if>
									<do_elseif value="($DAIgnFaction.isrelationlocked)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,9928} + ' ' + {33232474,138}, $mouseOverText = {33232474,1138}]" comment="Relations Locked"/>
									</do_elseif>
									<do_elseif value="(not $DAIgnFaction.willclaimspace)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,7784}]" comment="This faction does not seek to claim sector ownership."/>
									</do_elseif>
								</do_elseif>
								<do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 5, $halign = 'center', $text = {1001,39}]"/>
								</do_else>
							</do_for_each>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_DynamicWar_SpaceFactionLogic" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $halign = 'center', $text = {1001,11284}]" comment="Sector"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $halign = 'center', $text = {1001,4825} + ' / ' + {1001,8942}]" comment="Enabled / Disabled"/>
						<find_sector name="$DAFLSectors" space="player.galaxy" multiple="true"/>
						<do_if value="$DAFLSectors.count">
							<sort_list list="$DAFLSectors" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$DAFLSector" in="$DAFLSectors">
								<set_value name="$FLAllowed" exact="true"/>
								<do_if value="not $DAFLSector.cluster.factionlogic">
									<set_value name="$FLAllowed" exact="false"/>
								</do_if>
								<do_if value="not $DAFLSector.factionlogic">
									<set_value name="$FLAllowed" exact="false"/>
								</do_if>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 5, $halign = 'left', $text = $DAFLSector.knownname, $mouseOverText = {33232474,1145}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 6,
									$colSpan = 3,
									$text = table[
									  $text   =  if $FLAllowed then {1001,4825} else {1001,8942}, 
									  $color  =  if $FLAllowed then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1145},
									$onClick = ExecuteOption_ToggleFactionLogic,
									$onRightClick = ExecuteOption_ToggleFactionLogic,
									$echo = [$DAFLSector,$FLAllowed],
									]"/>
								<remove_value name="$FLAllowed"/>
								<remove_value name="$LocText"/>
							</do_for_each>
						</do_if>
						<remove_value name="$DAFLSectors"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_RelationsIncrease" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$IncCost] -->
						<set_value name="$DARelSelectedFactionOne" exact="event.param.$echo.{1}"/>
						<set_value name="$DARelSelectedFactionTwo" exact="event.param.$echo.{2}"/>
						<set_value name="$DARelUseFavor" exact="event.param.$echo.{3}"/>
						<set_value name="$DARelIncCost" exact="event.param.$echo.{4}"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsIncrease -- FactionOne: %s -- FactionTwo: %s -- UseFavor: %s -- IncCost: %s'.[$DARelSelectedFactionOne.knownname,$DARelSelectedFactionTwo.knownname,$DARelUseFavor,$DARelIncCost]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<set_value name="$UIRelationChange" exact="5"/>
						<include_actions ref="Library_CalculateUiValueRepChange"/>
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<do_if value="typeof $DARelUseFavor == datatype.faction">
							<do_if value="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}? and $DADVT.$DADynamicWarFavors.{$DARelUseFavor}">
								<set_value name="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}" exact="[$DADVT.$DADynamicWarFavors.{$DARelUseFavor} - 1,0].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsIncrease -- Used Favor -- Faction: %s -- Favors After: %s'.[$DARelUseFavor.knownname,$DADVT.$DADynamicWarFavors.{$DARelUseFavor}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_if>
						</do_if>
						<do_else>
							<reward_player money="$DARelIncCost * -1"/>
						</do_else>
						<set_faction_relation faction="$DARelSelectedFactionOne" otherfaction="$DARelSelectedFactionTwo" value="([$NewAbsoluteRepValue, 1.0].min)"/>
						<set_faction_relation faction="$DARelSelectedFactionTwo" otherfaction="$DARelSelectedFactionOne" value="([$NewAbsoluteRepValue, 1.0].min)"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_RelationsDecrease" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$DADynamicWarFactionOne,$DADynamicWarFactionTwo,$UseFavor,$DecCost] -->
						<set_value name="$DARelSelectedFactionOne" exact="event.param.$echo.{1}"/>
						<set_value name="$DARelSelectedFactionTwo" exact="event.param.$echo.{2}"/>
						<set_value name="$DARelUseFavor" exact="event.param.$echo.{3}"/>
						<set_value name="$DARelDecCost" exact="event.param.$echo.{4}"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsDecrease -- FactionOne: %s -- FactionTwo: %s -- UseFavor: %s -- IncCost: %s'.[$DARelSelectedFactionOne.knownname,$DARelSelectedFactionTwo.knownname,$DARelUseFavor,$DARelDecCost]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<set_value name="$UIRelationChange" exact="-5"/>
						<include_actions ref="Library_CalculateUiValueRepChange"/>
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<do_if value="typeof $DARelUseFavor == datatype.faction">
							<do_if value="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}? and $DADVT.$DADynamicWarFavors.{$DARelUseFavor}">
								<set_value name="$DADVT.$DADynamicWarFavors.{$DARelUseFavor}" exact="[$DADVT.$DADynamicWarFavors.{$DARelUseFavor} - 1,0].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ExecuteOption_RelationsDecrease -- Used Favor -- Faction: %s -- Favors After: %s'.[$DARelUseFavor.knownname,$DADVT.$DADynamicWarFavors.{$DARelUseFavor}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_if>
						</do_if>
						<do_else>
							<reward_player money="$DARelDecCost * -1"/>
						</do_else>
						<set_faction_relation faction="$DARelSelectedFactionOne" otherfaction="$DARelSelectedFactionTwo" value="([$NewAbsoluteRepValue, -1].max)"/>
						<set_faction_relation faction="$DARelSelectedFactionTwo" otherfaction="$DARelSelectedFactionOne" value="([$NewAbsoluteRepValue, -1].max)"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarEnable">
							<set_value name="$DADVT.$DADynamicWarEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEnable to %s'.[$DADVT.$DADynamicWarEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarFavorsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarFavorsEnable">
							<set_value name="$DADVT.$DADynamicWarFavorsEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarFavorsEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarFavorsEnable to %s'.[$DADVT.$DADynamicWarFavorsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarInterval to %s'.[$DADVT.$DADynamicWarInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBesties" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{1}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{1} to %s'.[$DADVT.$DADynamicWarEventWeights.{1}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBigBoost" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{2}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{2} to %s'.[$DADVT.$DADynamicWarEventWeights.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightSmallBoost" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{3}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{3} to %s'.[$DADVT.$DADynamicWarEventWeights.{3}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightSmallBlow" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{4}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{4} to %s'.[$DADVT.$DADynamicWarEventWeights.{4}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightBigBlow" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{5}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{5} to %s'.[$DADVT.$DADynamicWarEventWeights.{5}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightNemesis" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{6}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{6} to %s'.[$DADVT.$DADynamicWarEventWeights.{6}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarEventWeightNothing" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarEventWeights.{7}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarEventWeights.{7} to %s'.[$DADVT.$DADynamicWarEventWeights.{7}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarPrimaryRaceModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarPrimaryRaceModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarPrimaryRaceModifier to %s'.[$DADVT.$DADynamicWarPrimaryRaceModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarCurrentRelationsModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarCurrentRelationsModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarCurrentRelationsModifier to %s'.[$DADVT.$DADynamicWarCurrentRelationsModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarCollectiveRelationsModifier" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarCollectiveRelationsModifier" exact="(event.param.$value / 100.0)"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarCollectiveRelationsModifier to %s'.[$DADVT.$DADynamicWarCollectiveRelationsModifier]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarFlavorEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarFlavorEnable">
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarFlavorEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarFlavorEnable to %s'.[$DADVT.$DADynamicWarFlavorEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarDetailedDebug">
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarDetailedDebug to %s'.[$DADVT.$DADynamicWarDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_UnlockRelations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DARelUnlSelectedFactionOne" exact="event.param.$echo"/>
						<do_if value="$DARelUnlSelectedFactionOne.isrelationlocked">
							<set_faction_relation_locked faction="$DARelUnlSelectedFactionOne" locked="false"/>
						</do_if>
						<do_else>
							<set_faction_relation_locked faction="$DARelUnlSelectedFactionOne" locked="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Lock/Unlock %s -- Locked: %s'.[$DARelUnlSelectedFactionOne.knownname,$DARelUnlSelectedFactionOne.isrelationlocked]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_IgnoredFactions" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DAIgnSelectedFactionOne" exact="event.param.$echo"/>
						<do_if value="($DAIgnSelectedFactionOne.isactive) and ($DAIgnSelectedFactionOne.willclaimspace) and (not $DAIgnSelectedFactionOne.isrelationlocked) and ($DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne})">
							<remove_from_list name="$DADVT.$DADynamicWarDisabledFactions" exact="$DAIgnSelectedFactionOne" multiple="true"/>
						</do_if>
						<do_elseif value="($DAIgnSelectedFactionOne.isactive) and ($DAIgnSelectedFactionOne.willclaimspace) and (not $DAIgnSelectedFactionOne.isrelationlocked) and (not $DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne})">
							<append_to_list name="$DADVT.$DADynamicWarDisabledFactions" exact="$DAIgnSelectedFactionOne"/>
						</do_elseif>
						<debug_text text="'MOD: DAMenus DynamicWar -- Allowed/Ignored %s -- Ignored: %s'.[$DAIgnSelectedFactionOne.knownname,$DADVT.$DADynamicWarDisabledFactions.indexof.{$DAIgnSelectedFactionOne}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_ToggleFactionLogic" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$DAFLSector,$FLAllowed] -->
						<set_value name="$LocSector" exact="event.param.$echo.{1}"/>
						<set_value name="$FLAllowed" exact="event.param.$echo.{2}"/>
						<set_value name="$LocString" exact="'%s logic before: %s'.[$LocSector.cluster.knownname,$LocSector.cluster.factionlogic]"/>
						<set_space_faction_logic_allowed space="$LocSector.cluster" allow="not $FLAllowed"/>
						<set_value name="$LocString" exact="', after: %s'.[$LocSector.cluster.factionlogic]" operation="add"/>
						<set_value name="$LocString" exact="'\n %s logic before: %s'.[$LocSector.knownname,$LocSector.factionlogic]" operation="add"/>
						<set_space_faction_logic_allowed space="$LocSector" allow="not $FLAllowed"/>
						<set_value name="$LocString" exact="', after: %s'.[$LocSector.factionlogic]" operation="add"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Enable/Disable Logic\n%s'.[$LocString]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<remove_value name="$LocSector"/>
						<remove_value name="$FLAllowed"/>
						<remove_value name="$LocString"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarRelationsFixEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicWarRelationsFixEnable">
							<set_value name="$DADVT.$DADynamicWarRelationsFixEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicWarRelationsFixEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarRelationsFixEnable to %s'.[$DADVT.$DADynamicWarRelationsFixEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicWarPossibleFactionsPerEvent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicWarPossibleFactionsPerEvent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicWar -- Updated $DADVT.$DADynamicWarPossibleFactionsPerEvent to %s'.[$DADVT.$DADynamicWarPossibleFactionsPerEvent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<library name="Library_FactionRelationBar">
					<actions>
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<set_value name="$DARelBarCurrentRelationAdjusted" exact="$DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue + 30"/>
							<set_value name="$DARelBarCurrentUIRelation" exact="$DADynamicWarFactionOne.relation.{$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}}.uivalue"/>
							<set_value name="$DARelBarRelationColor" exact="$DAMVT.$MarkerTransparent"/>
							<do_if value="$DARelBarCurrentUIRelation le (-25)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRedDark"/>
							</do_if>
							<do_elseif value="$DARelBarCurrentUIRelation le (-20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRed"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-15)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillRedBright"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-10)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrangeDark"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-5)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrange"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (-1)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillOrangeBright"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (1)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellowDark"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (5)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellow"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (10)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillYellowBright"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (15)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreenDark"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation le (20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreen"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_elseif value="$DARelBarCurrentUIRelation gt (20)">
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillGreenBright"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_elseif>
							<do_else>
								<set_value name="$DARelBarPositiveColor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$DARelBarNegativeColor" exact="$DAMVT.$FillTransparent"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$halign = 'center',
								$text = $DARelBarCurrentUIRelation,
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
								$col			= 5,
								$colSpan		= 3,
								$scaling		= true,
								$type			= 'statusbar',
								$start			= 30,
								$current		= $DARelBarCurrentRelationAdjusted,
								$max			= 60,
								$valueColor		= $DARelBarRelationColor,
								$posChangeColor	= $DARelBarPositiveColor,
								$negChangeColor	= $DARelBarNegativeColor,
								$markerColor	= $DAMVT.$MarkerTransparent,
								]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_RelationIncreaseCost">
					<actions>
						<!-- Library_RelationIncreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $IncCost -->
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<do_if value="@$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne} or @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
								<set_value name="$IncCost" exact="0Cr"/>
							</do_if>
							<do_else>
								<include_actions ref="Library_CalculateCost"/>
								<set_value name="$IncCost" exact="$Cost"/>
								<remove_value name="$Cost"/>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_RelationDecreaseCost">
					<actions>
						<!-- Library_RelationDecreaseCost Input: $DADynamicWarFactionOne and $DADynamicWarFactionTwo Output: $DecCost -->
						<do_if value="$DADynamicWarFactionOne and $DADynamicWarFactionTwo">
							<do_if value="($DADynamicWarFactionOne == faction.player) or ($DADynamicWarFactionTwo == faction.player)">
								<set_value name="$DecCost" exact="0Cr"/>
							</do_if>
							<do_elseif value="@$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionOne} or @$DADVT.$DADynamicWarFavors.{$DADynamicWarFactionTwo}">
								<set_value name="$DecCost" exact="0Cr"/>
							</do_elseif>
							<do_else>
								<include_actions ref="Library_CalculateCost"/>
								<set_value name="$DecCost" exact="$Cost"/>
								<remove_value name="$Cost"/>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_CalculateUiValueRepChange">
					<actions>
						<!-- Vanilla	1.0 = 30		0.32 = 25		0.1 = 20		0.032 = 15		0.01 = 10		0.0032 = 5 -->
						<!-- Calculated	1.0 = 30		0.316 = 25		0.1 = 20		0.0316 = 15		0.01 = 10		0.00316 = 5 -->
						<!-- Requires $DARelSelectedFactionOne, $DARelSelectedFactionTwo, and $UIRelationChange -->
						<!-- Returns $NewAbsoluteRepValue and $AbsoluteRepValueChange -->
						<!-- 20231215 Added in shortcut if new ui value is a declared number in the charts-->
						<!-- DONE: I never accounted for relations ranges making it here that are outside of the range allowed in game -->
						<do_if value="$UIRelationChange != 0">
							<set_value name="$OldUIRepValue" exact="$DARelSelectedFactionOne.relation.{$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}}.uivalue"/>
							<set_value name="$OldAbsoluteRepValue" exact="$DARelSelectedFactionOne.relationto.{$DARelSelectedFactionTwo}"/>
							<set_value name="$NewUIRepValue" exact="[[$OldUIRepValue + $UIRelationChange,-30].max,30].min"/>
							<set_value name="$RepDefinedList" exact="[30,25,20,15,10,5,0,-5,-10,-15,-20,-25,-30]"/>
							<set_value name="$AbsRepDefinedList" exact="[1.0,0.32,0.1,0.032,0.01,0.0032,0,-0.0032,-0.01,-0.032,-0.1,-0.32,-1.0]"/>
							<do_if value="$RepDefinedList.indexof.{$NewUIRepValue}">
								<set_value name="$LocRepIndex" exact="$RepDefinedList.indexof.{$NewUIRepValue}"/>
								<set_value name="$NewAbsoluteRepValue" exact="$AbsRepDefinedList.{$LocRepIndex}"/>
								<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
							</do_if>
							<do_else>
								<do_if value="($NewUIRepValue le 5) and ($NewUIRepValue ge -5)">
									<set_value name="$NewAbsoluteRepValue" exact="$NewUIRepValue * 0.00064"/>
								</do_if>
								<do_else>
									<!-- =(10^(SQRT((S2+T2)^2)/10)/1000)*IF(S2+T2<0,-1,1) -->
									<set_value name="$NewAbsoluteRepValue" exact="[[(10.0^(sqrt(($NewUIRepValue)LF ^ 2.0)/10.0) / 1000.0) * (if ($NewUIRepValue lt 0.0) then -1.0 else 1.0),-1.0].max,1.0].min"/>
								</do_else>
								<!-- 20231227 Added a check to prevent faction relation from raising above AI:AI limit // changing hard coded limit to a variable in case I decide to make it an option -->
								<!-- 20240309 Check if relation fix option enabled -->
								<do_if value="$DADVT.$DADynamicWarRelationsFixEnable and ($NewAbsoluteRepValue gt $DADVT.$DADynamicWarRelationsAILimit) and ($DARelSelectedFactionOne != faction.player) and ($DARelSelectedFactionTwo != faction.player) and ($DADVT.$DADynamicWarRelationsFixEnable)">
									<set_value name="$NewAbsoluteRepValue" exact="$DADVT.$DADynamicWarRelationsAILimit"/>
								</do_if>
								<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								<do_if value="($NewAbsoluteRepValue lt 0.3571) and ($NewAbsoluteRepValue ge 0.2837)">
									<!-- Round near 25 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.32"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_if>
								<do_elseif value="($NewAbsoluteRepValue gt -0.3571) and ($NewAbsoluteRepValue le -0.2837)">
									<!-- Round near -25 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.32"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.1129) and ($NewAbsoluteRepValue ge 0.0897)">
									<!-- Round near 20 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.1"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.1129) and ($NewAbsoluteRepValue le -0.0897)">
									<!-- Round near -20 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.1"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.03571) and ($NewAbsoluteRepValue ge 0.02837)">
									<!-- Round near 15 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.03571) and ($NewAbsoluteRepValue le -0.02837)">
									<!-- Round near -15 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.01129) and ($NewAbsoluteRepValue ge 0.008971)">
									<!-- Round near 10 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.01"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.01129) and ($NewAbsoluteRepValue le -0.008971)">
									<!-- Round near -10 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.01"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue lt 0.003571) and ($NewAbsoluteRepValue ge 0.002837)">
									<!-- Round near 5 -->
									<set_value name="$NewAbsoluteRepValue" exact="0.0032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
								<do_elseif value="($NewAbsoluteRepValue gt -0.003571) and ($NewAbsoluteRepValue le -0.002837)">
									<!-- Round near -5 -->
									<set_value name="$NewAbsoluteRepValue" exact="-0.0032"/>
									<set_value name="$AbsoluteRepValueChange" exact="$NewAbsoluteRepValue - $OldAbsoluteRepValue"/>
								</do_elseif>
							</do_else>
						</do_if>
					</actions>
				</library>
				<library name="Library_CalculateCost">
					<actions>
						<!-- Uses $DADynamicWarFactionOne and $DADynamicWarFactionTwo -->
						<!-- This library will create $Cost -->
						<set_value name="$Cost" exact="0"/>
						<set_value name="$DACalcCostCurrentRelation" exact="$DADynamicWarFactionOne.relationto.{$DADynamicWarFactionTwo}"/>
						<set_value name="$DACalcCostNetWorth" exact="player.money"/>
						<do_if value="$DACalcCostCurrentRelation le 0">
							<do_if value="$DACalcCostCurrentRelation le -1">
								<set_value name="$Cost" exact="[25000000Cr, ($DACalcCostNetWorth * 9 / 1000)].max"/>
							</do_if>
							<do_elseif value="$DACalcCostCurrentRelation le -0.32">
								<set_value name="$Cost" exact="[17500000Cr, ($DACalcCostNetWorth * 7 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.1">
								<set_value name="$Cost" exact="[11250000Cr, ($DACalcCostNetWorth * 5 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.032">
								<set_value name="$Cost" exact="[7500000Cr, ($DACalcCostNetWorth * 4 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.01">
								<set_value name="$Cost" exact="[3750000Cr, ($DACalcCostNetWorth * 3 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le -0.0032">
								<set_value name="$Cost" exact="[1250000Cr, ($DACalcCostNetWorth * 2 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation le 0">
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
							</do_elseif>
							<do_else>
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ERROR calculating cost -- %s -- %s -- %s'.[$DADynamicWarFactionOne.knownname,$DADynamicWarFactionTwo.knownname,$DACalcCostCurrentRelation]" context="false" filter="error" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_else>
						</do_if>
						<do_else>
							<do_if value="$DACalcCostCurrentRelation ge 1">
								<set_value name="$Cost" exact="[25000000Cr, ($DACalcCostNetWorth * 9 / 1000)].max"/>
							</do_if>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.32">
								<set_value name="$Cost" exact="[17500000Cr, ($DACalcCostNetWorth * 7 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.1">
								<set_value name="$Cost" exact="[11250000Cr, ($DACalcCostNetWorth * 5 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.032">
								<set_value name="$Cost" exact="[7500000Cr, ($DACalcCostNetWorth * 4 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.01">
								<set_value name="$Cost" exact="[3750000Cr, ($DACalcCostNetWorth * 3 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0.0032">
								<set_value name="$Cost" exact="[1250000Cr, ($DACalcCostNetWorth * 2 / 1000)].max"/>
							</do_elseif>
							<do_elseif value="$DACalcCostCurrentRelation ge 0">
								<set_value name="$Cost" exact="[500000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
							</do_elseif>
							<do_else>
								<set_value name="$Cost" exact="[5000000Cr, ($DACalcCostNetWorth * 1 / 1000)].max"/>
								<debug_text text="'MOD: DAMenus DynamicWar -- ERROR calculating cost -- %s -- %s -- %s'.[$DADynamicWarFactionOne.knownname,$DADynamicWarFactionTwo.knownname,$DACalcCostCurrentRelation]" context="false" filter="error" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
							</do_else>
						</do_else>
					</actions>
				</library>
				<!-- Dynamic News -->
				<cue name="DA_DynamicNews_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,117}, $id='menu_dynamicnews_options']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,112}, $id='menu_dynamicnews_recentnews']"/>
					</actions>
				</cue>
				<cue name="Menu_DynamicNews_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,280},
								$mouseOverText = {33232474,1280},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1280},
								$onClick = ExecuteOption_DynamicNewsEnable,
								$onRightClick = ExecuteOption_DynamicNewsEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,281},
								$mouseOverText = {33232474,1281},
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableNotifications then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableNotifications then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1281},
								$onClick = ExecuteOption_DynamicNewsEnableNotifications,
								$onRightClick = ExecuteOption_DynamicNewsEnableNotifications,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,282},
								$mouseOverText = {33232474,1282},
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableLogbook then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableLogbook then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1282},
								$onClick = ExecuteOption_DynamicNewsEnableLogbook,
								$onRightClick = ExecuteOption_DynamicNewsEnableLogbook,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,283},
								$mouseOverText = {33232474,1283},
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsEnableNewsStorage then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsEnableNewsStorage then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1283},
								$onClick = ExecuteOption_DynamicNewsEnableNewsStorage,
								$onRightClick = ExecuteOption_DynamicNewsEnableNewsStorage,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,284},
								$mouseOverText = {33232474,1284},
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
								$col = 5,
								$colSpan = 4,
								$onSliderCellConfirm = ExecuteOption_DynamicNewsInterval,
								$min = 0,
								$minSelect = 5,
								$max = 30,
								$maxSelect = 30,
								$exceedMaxValue = false,
								$start = $DADVT.$DADynamicNewsInterval,
								$step = 5,
								$suffix = 'min',
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,285},
								$mouseOverText = {33232474,1285},
							]"/>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DADynamicNewsDetailedDebug then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DADynamicNewsDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1285},
								$onClick = ExecuteOption_DynamicNewsDetailedDebug,
								$onRightClick = ExecuteOption_DynamicNewsDetailedDebug,
							]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnable">
							<set_value name="$DADVT.$DADynamicNewsEnable" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="false"/>
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventDynamicNewsFindSectorsandStations"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnable to %s'.[$DADVT.$DADynamicNewsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableNotifications" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableNotifications">
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableNotifications" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableNotifications to %s'.[$DADVT.$DADynamicNewsEnableNotifications]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableLogbook" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableLogbook">
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableLogbook" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableLogbook to %s'.[$DADVT.$DADynamicNewsEnableLogbook]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsEnableNewsStorage" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnableNewsStorage">
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsEnableNewsStorage" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsEnableNewsStorage to %s'.[$DADVT.$DADynamicNewsEnableNewsStorage]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DADynamicNewsInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsInterval to %s'.[$DADVT.$DADynamicNewsInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_DynamicNewsDetailedDebug" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsDetailedDebug">
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DADynamicNewsDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus DynamicNews -- Updated $DADVT.$DADynamicNewsDetailedDebug to %s'.[$DADVT.$DADynamicNewsDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="Menu_DynamicNews_RecentNews" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DADynamicNewsEnable and $DADVT.$DADynamicNewsEnableNewsStorage">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $halign = 'center', $text = {1001,24}]" comment="Time"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $halign = 'center', $text = {1041,10172}]" comment="Origin"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,5721}]" comment="News"/>
							<!-- $DADVT.$DADynamicNewsTable.{Index} == [Player.age,Source,Message] -->
							<do_if value="$DADVT.$DADynamicNewsTable.{1}?">
								<do_all exact="$DADVT.$DADynamicNewsTable.keys.count" counter="$index">
									<set_value name="$Time" exact="$DADVT.$DADynamicNewsTable.{$index}.{1}"/>
									<set_value name="$Source" exact="$DADVT.$DADynamicNewsTable.{$index}.{2}"/>
									<set_value name="$Message" exact="$DADVT.$DADynamicNewsTable.{$index}.{3}"/>
									<do_if value="($Time != null) and ($Source != null) and ($Message != null)">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
										<!-- Relative Time - Source - Message -->
										<!-- $col 1 + 2 -->
										<!-- This is in seconds ago for now -->
										<set_value name="$RelativeTime" exact="player.age - $Time"/>
										<set_value name="$RelativeTimeFormatted" exact="$RelativeTime.formatted.{'%dd:%Hh:%Mm'}"/>
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $halign = 'left', $wordwrap = true, $text = $RelativeTimeFormatted]"/>
										<!-- $col 3 - 4 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $halign = 'left', $wordwrap = true, $text = $Source]"/>
										<!-- $col 5 - 8 -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'left', $wordwrap = true, $text = $Message]"/>
										<remove_value name="$Time"/>
										<remove_value name="$Source"/>
										<remove_value name="$Message"/>
										<remove_value name="$RelativeTime"/>
										<remove_value name="$RelativeTimeFormatted"/>
									</do_if>
								</do_all>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {1099,16}]"/>
							</do_else>
						</do_if>
						<do_elseif value="(not $DADVT.$DADynamicNewsEnable) or (not $DADVT.$DADynamicNewsEnableNewsStorage)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = {33232474,2297},
									$halign = 'center'
								]"/>
						</do_elseif>
					</actions>
				</cue>
				<!-- Evolution -->
				<cue name="DA_Evolution_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,160},
								$mouseOverText = {33232474,1160},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAEvolutionEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAEvolutionEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1160},
								$onClick = ExecuteOption_EvolutionEnable,
								$onRightClick = ExecuteOption_EvolutionEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,163},
								$mouseOverText = {33232474,1163},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAEvolutionEnableJobs then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAEvolutionEnableJobs then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1163},
								$onClick = ExecuteOption_EvolutionEnableJobs,
								$onRightClick = ExecuteOption_EvolutionEnableJobs,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,161},
									$mouseOverText = {33232474,1161},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<set_value name="$LocMax" exact="[300,$DADVT.$DAEvolutionInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_EvolutionInterval,
									$min = 0,
									$minSelect = 30,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAEvolutionInterval,
									$step = 30,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,162},
									$mouseOverText = {33232474,1162},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = '%s: %s / %s: %s'.[{1001,7899},$DADVT.$DAEvolutionCurrentLevel,{1001,19},$DADVT.$DAEvolutionMaxLevel],
									$mouseOverText = {33232474,1162},
									$halign = 'right',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,164},
									$mouseOverText = {33232474,1164},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$LocMax" exact="[100,$DADVT.$DAEvolutionMaxXenonJobs * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_EvolutionMaxXenFleets,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAEvolutionMaxXenonJobs,
									$step = 1,
									$suffix = ' fleet(s)',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<set_value name="$LocText" exact="'%s / %s'.[{1001,12207},{1001,2407}]" comment="Active/Building"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = $LocText,
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$LocText" exact="'%s: %s / %s: %s'.[{1001,12207},$DADVT.$DAEvolutionXenonShipGroup.count,{1001,2407},$DADVT.$DAEvolutionXenonShipTempList.count]" comment="Active/Building"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = $LocText,
									$halign = 'right',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<remove_value name="$LocText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 2,
									$text = {33232474,165},
									$mouseOverText = {33232474,1165},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 3, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2853}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 1) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1166},
									$onClick = ExecuteOption_EvolutionXenFleetSmall,
									$onRightClick = ExecuteOption_EvolutionXenFleetSmall,
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 5, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2854}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 2) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1167},
									$onClick = ExecuteOption_EvolutionXenFleetMedium,
									$onRightClick = ExecuteOption_EvolutionXenFleetMedium,
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   = {1001,2855}, 
									  $color  = if ($DADVT.$DAEvolutionXenonFleetSize == 3) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1168},
									$onClick = ExecuteOption_EvolutionXenFleetLarge,
									$onRightClick = ExecuteOption_EvolutionXenFleetLarge,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 3,
									$colSpan = 6,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,170},
									$mouseOverText = {33232474,1170},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionEnableUpgradeStations then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionEnableUpgradeStations then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1170},
									$onClick = ExecuteOption_EvolutionEnableUpgradeStations,
									$onRightClick = ExecuteOption_EvolutionEnableUpgradeStations,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,171},
									$mouseOverText = {33232474,1171},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionEnableFastOrder then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionEnableFastOrder then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1171},
									$onClick = ExecuteOption_EvolutionEnableFastOrder,
									$onRightClick = ExecuteOption_EvolutionEnableFastOrder,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,169},
									$mouseOverText = {33232474,1169},
								]"/>
						<do_if value="$DADVT.$DAEvolutionEnable or $DADVT.$DAEvolutionEnableJobs">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAEvolutionDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAEvolutionDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1169},
									$onClick = ExecuteOption_EvolutionDebugEnable,
									$onRightClick = ExecuteOption_EvolutionDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnable">
							<set_value name="$DADVT.$DAEvolutionEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnable to %s'.[$DADVT.$DAEvolutionEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionInterval to %s'.[$DADVT.$DAEvolutionInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableJobs" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableJobs">
							<set_value name="$DADVT.$DAEvolutionEnableJobs" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableJobs" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableJobs to %s'.[$DADVT.$DAEvolutionEnableJobs]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionMaxXenFleets" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionMaxXenonJobs" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionMaxXenonJobs to %s'.[$DADVT.$DAEvolutionMaxXenonJobs]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetSmall" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="1"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_small'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetMedium" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="2"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_medium'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionXenFleetLarge" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSize" exact="3"/>
						<set_value name="$DADVT.$DAEvolutionXenonFleetSizeName" exact="'daevoxen_large'"/>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionXenonFleetSize to %s'.[$DADVT.$DAEvolutionXenonFleetSize]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableUpgradeStations" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableUpgradeStations">
							<set_value name="$DADVT.$DAEvolutionEnableUpgradeStations" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableUpgradeStations" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableUpgradeStations to %s'.[$DADVT.$DAEvolutionEnableUpgradeStations]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionEnableFastOrder" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionEnableFastOrder">
							<set_value name="$DADVT.$DAEvolutionEnableFastOrder" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionEnableFastOrder" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionEnableFastOrder to %s'.[$DADVT.$DAEvolutionEnableFastOrder]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_EvolutionDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAEvolutionDetailedDebug">
							<set_value name="$DADVT.$DAEvolutionDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAEvolutionDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Evolution -- Updated $DADVT.$DAEvolutionDetailedDebug to %s'.[$DADVT.$DAEvolutionDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Fill -->
				<cue name="DA_Fill_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,200},
								$mouseOverText = {33232474,1200},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAFillEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAFillEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1200},
								$onClick = ExecuteOption_FillEnable,
								$onRightClick = ExecuteOption_FillEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,201},
									$mouseOverText = {33232474,1201},
								]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<set_value name="$LocMax" exact="[120,$DADVT.$DAFillCheckInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillInterval,
									$min = 0,
									$minSelect = 5,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillCheckInterval,
									$step = 5,
									$suffix = 'min',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,202},
									$mouseOverText = {33232474,1202},
								]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMaxTSWarePercent,
									$min = 0.0,
									$minSelect = 5.0,
									$max = 100.0,
									$maxSelect = 100.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMaxTSWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {33232474,203},
										$mouseOverText = {33232474,1203},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 5,
										$colSpan = 4,
										$onSliderCellConfirm = ExecuteOption_FillMaxTSWarePercentAfter,
										$min = 0.0,
										$minSelect = 0.0,
										$max = 100.0,
										$maxSelect = 95.0,
										$exceedMaxValue = false,
										$start = $DADVT.$DAFillMaxTSWarePercentAfter,
										$step = 5.0,
										$suffix = '%',
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,204},
									$mouseOverText = {33232474,1204},
								]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinTSWarePercent,
									$min = 0.0,
									$minSelect = 0.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinTSWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {33232474,205},
										$mouseOverText = {33232474,1205},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMinTSWarePercent gt 0)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 5,
										$colSpan = 4,
										$onSliderCellConfirm = ExecuteOption_FillMinTSWarePercentAfter,
										$min = 0.0,
										$minSelect = 5.0,
										$max = 100.0,
										$maxSelect = 100.0,
										$exceedMaxValue = false,
										$start = $DADVT.$DAFillMinTSWarePercentAfter,
										$step = 5.0,
										$suffix = '%',
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,206},
									$mouseOverText = {33232474,1206},
								]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_FillMinSYWarePercent,
									$min = 0.0,
									$minSelect = 0.0,
									$max = 100.0,
									$maxSelect = 95.0,
									$exceedMaxValue = false,
									$start = $DADVT.$DAFillMinSYWarePercent,
									$step = 5.0,
									$suffix = '%',
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {33232474,207},
										$mouseOverText = {33232474,1207},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMinSYWarePercent gt 0)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 5,
										$colSpan = 4,
										$onSliderCellConfirm = ExecuteOption_FillMinSYWarePercentAfter,
										$min = 0.0,
										$minSelect = 5.0,
										$max = 100.0,
										$maxSelect = 100.0,
										$exceedMaxValue = false,
										$start = $DADVT.$DAFillMinSYWarePercentAfter,
										$step = 5.0,
										$suffix = '%',
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 6,
										$text = {33232474,208},
										$mouseOverText = {33232474,1208},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7, 
										$colSpan = 2,
										$text = table[
										  $text   =  if $DADVT.$DAFillShipModsEnable then {1001,4825} else {1001,8942}, 
										  $color  =  if $DADVT.$DAFillShipModsEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
										  $halign = 'center',
										],
										$mouseOverText = {33232474,1208},
										$onClick = ExecuteOption_FillShipModsEnable,
										$onRightClick = ExecuteOption_FillShipModsEnable,
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 6,
										$text = {33232474,210},
										$mouseOverText = {33232474,1210},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipModsEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7, 
										$colSpan = 2,
										$text = table[
										  $text   =  if $DADVT.$DAFillShipModFleetEnable then {1001,4825} else {1001,8942}, 
										  $color  =  if $DADVT.$DAFillShipModFleetEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
										  $halign = 'center',
										],
										$mouseOverText = {33232474,1210},
										$onClick = ExecuteOption_FillShipModFleetEnable,
										$onRightClick = ExecuteOption_FillShipModFleetEnable,
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 6,
										$text = {33232474,211},
										$mouseOverText = {33232474,1211},
									]"/>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipModsEnable and ($DADVT.$DAFillMaxTSWarePercent lt 100)">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7, 
										$colSpan = 2,
										$text = table[
										  $text   =  if $DADVT.$DAFillShipModPaintEnable then {1001,4825} else {1001,8942}, 
										  $color  =  if $DADVT.$DAFillShipModPaintEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
										  $halign = 'center',
										],
										$mouseOverText = {33232474,1211},
										$onClick = ExecuteOption_FillShipModPaintEnable,
										$onRightClick = ExecuteOption_FillShipModPaintEnable,
									]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,209},
									$mouseOverText = {33232474,1209},
								]"/>
						<do_if value="$DADVT.$DAFillEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAFillDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAFillDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1209},
									$onClick = ExecuteOption_FillDebugEnable,
									$onRightClick = ExecuteOption_FillDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillWareStatistics.keys.list.count">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = 8,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- 1+2 = Ware.name, 3+4+5 Added Amount, 6+7+8 Removed Amount -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,45}, $halign = 'left']" comment="Ware"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $text = ('%s %s'.[{33232474,2200},{1041,10173}]), $halign = 'center']" comment="Added Number"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ('%s %s'.[{33232474,2201},{1041,10173}]), $halign = 'center']" comment="Removed Number"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = ('%s %s'.[{33232474,2203},{1041,10173}]), $halign = 'center']" comment="Net Number"/>
							<set_value name="$LocWares" exact="[]"/>
							<append_list_elements name="$LocWares" other="$DADVT.$DAFillWareStatistics.keys.list"/>
							<sort_list list="$LocWares" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocWare" in="$LocWares">
								<do_if value="$DADVT.$DAFillWareStatistics.{$LocWare}? and $DADVT.$DAFillWareStatistics.{$LocWare}.{1}? and $DADVT.$DAFillWareStatistics.{$LocWare}.{2}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocWare.name, $halign = 'left']" comment="Ware"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{1}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 2, $text = ($LocText), $halign = 'center']" comment="Number"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{2}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ($LocText), $halign = 'center']" comment="Number"/>
									<set_value name="$LocText" exact="'%s'.[$DADVT.$DAFillWareStatistics.{$LocWare}.{1} - $DADVT.$DAFillWareStatistics.{$LocWare}.{2}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 2, $text = ($LocText), $halign = 'center']" comment="Number"/>
									<remove_value name="$LocText"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocWares"/>
						</do_if>
						<do_if value="$DADVT.$DAFillEnable and $DADVT.$DAFillShipmodStatistics.keys.list.count">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = 8,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<!-- 1+2 = Faction.knownname, 3+4+5 Total Military Ships Modded, 6+7+8 Total Civilian Ships Modded -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = {1001,43}, $halign = 'left']" comment="Faction"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 3, $text = ('%s %s %s'.[{1001,2637},{1001,9150},{33232474,2202}]), $halign = 'center']" comment="Total Military Ships Modded"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $text = ('%s %s %s'.[{1001,2637},{1001,9151},{33232474,2202}]), $halign = 'center']" comment="Total Civilian Ships Modded"/>
							<set_value name="$LocFactions" exact="[]"/>
							<append_list_elements name="$LocFactions" other="$DADVT.$DAFillShipmodStatistics.keys.list"/>
							<sort_list list="$LocFactions" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$LocFactions">
								<do_if value="$DADVT.$DAFillShipmodStatistics.{$LocFaction}? and $DADVT.$DAFillShipmodStatistics.{$LocFaction}.{1}? and $DADVT.$DAFillShipmodStatistics.{$LocFaction}.{2}?">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 2, $text = $LocFaction.knownname, $halign = 'left']" comment="Faction"/>
									<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAFillShipmodStatistics.{$LocFaction}.{1},{1001,6}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 3, $colSpan = 3, $text = ($LocText), $halign = 'center']" comment="Number Ships"/>
									<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAFillShipmodStatistics.{$LocFaction}.{2},{1001,6}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 3, $text = ($LocText), $halign = 'center']" comment="Number Ships"/>
									<remove_value name="$LocText"/>
								</do_if>
							</do_for_each>
							<remove_value name="$LocFactions"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillEnable">
							<set_value name="$DADVT.$DAFillEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillEnable to %s'.[$DADVT.$DAFillEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillCheckInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillCheckInterval to %s'.[$DADVT.$DAFillCheckInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMaxTSWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMaxTSWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercent to %s'.[$DADVT.$DAFillMaxTSWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMaxTSWarePercentAfter ge event.param.$value">
							<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="[event.param.$value - 5.0,0.0].max"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMaxTSWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMaxTSWarePercent le event.param.$value">
							<set_value name="$DADVT.$DAFillMaxTSWarePercent" exact="[event.param.$value + 5.0,100.0].min"/>
							<do_if value="$DADVT.$DAFillMaxTSWarePercentAfter gt 95">
								<set_value name="$DADVT.$DAFillMaxTSWarePercentAfter" exact="95"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercentAfter to %s'.[$DADVT.$DAFillMaxTSWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMaxTSWarePercent to %s'.[$DADVT.$DAFillMaxTSWarePercent]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinTSWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinTSWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercent to %s'.[$DADVT.$DAFillMinTSWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinTSWarePercentAfter le event.param.$value">
							<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="[event.param.$value + 5.0,100.0].min"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinTSWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinTSWarePercent ge event.param.$value">
							<set_value name="$DADVT.$DAFillMinTSWarePercent" exact="[event.param.$value - 5.0,0.0].max"/>
							<do_if value="$DADVT.$DAFillMinTSWarePercentAfter lt 5">
								<set_value name="$DADVT.$DAFillMinTSWarePercentAfter" exact="5"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercentAfter to %s'.[$DADVT.$DAFillMinTSWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinTSWarePercent to %s'.[$DADVT.$DAFillMinTSWarePercent]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinSYWarePercent" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinSYWarePercent" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercent to %s'.[$DADVT.$DAFillMinSYWarePercent]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinSYWarePercentAfter le event.param.$value">
							<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="[event.param.$value + 5.0,100.0].min"/>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="error"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillMinSYWarePercentAfter" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<do_if value="$DADVT.$DAFillMinSYWarePercent ge event.param.$value">
							<set_value name="$DADVT.$DAFillMinSYWarePercent" exact="[event.param.$value - 5.0,0.0].max"/>
							<do_if value="$DADVT.$DAFillMinSYWarePercentAfter lt 5">
								<set_value name="$DADVT.$DAFillMinSYWarePercentAfter" exact="5"/>
								<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercentAfter to %s'.[$DADVT.$DAFillMinSYWarePercentAfter]" context="false" filter="error"/>
							</do_if>
							<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillMinSYWarePercent to %s'.[$DADVT.$DAFillMinSYWarePercent]" context="false" filter="error"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModsEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModsEnable">
							<set_value name="$DADVT.$DAFillShipModsEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModsEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModsEnable to %s'.[$DADVT.$DAFillShipModsEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModFleetEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModFleetEnable">
							<set_value name="$DADVT.$DAFillShipModFleetEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModFleetEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModFleetEnable to %s'.[$DADVT.$DAFillShipModFleetEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillShipModPaintEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillShipModPaintEnable">
							<set_value name="$DADVT.$DAFillShipModPaintEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillShipModPaintEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillShipModPaintEnable to %s'.[$DADVT.$DAFillShipModPaintEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_FillDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAFillDetailedDebug">
							<set_value name="$DADVT.$DAFillDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAFillDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Fill -- Updated $DADVT.$DAFillDetailedDebug to %s'.[$DADVT.$DAFillDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Jobs -->
				<cue name="DA_Jobs_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,117}, $id='menu_jobs_options']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,245}, $id='menu_jobs_quotas']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,261}, $id='menu_jobs_togglespawned']"/>
					</actions>
				</cue>
				<cue name="Menu_Jobs_Quotas" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!--	md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction} // 
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'CriticalTag' == [$LocCriticalTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'CoreTag' == [$LocCoreTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'BorderTag' == [$LocBorderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'ContestedTag' == [$LocContestedTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								Special handling required for Eco tags
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LTraderTag' == [$LocLTraderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MTraderTag' == [$LocMTraderTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LMinerTag' == [$LocLMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MMinerTag' == [$LocMMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'LGasMinerTag' == [$LocLGasMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
								md.$DADynamicVarTable.$DAJobsSSTJobSizeQuotas.{$LocFaction}.$+'MGasMinerTag' == [$LocMGasMinerTag,$FleetSize,$GalaxyQuota,$SectorQuota,$JobName,$PendingJobShips,$JobShipsGroup,$SectorsWithRequested]
						-->
						<!--	1-8 Faction.knownname (Faction.id)
						
								Military Tags:
								1+2 'WhichTag', 3+4 Small Button, 5+6 Medium button, 7+8 Large button
								3+4 'Galaxy Quota', 4+5+6+7+8 Galaxy Quota Slider, 
								3+4 'Sector Quota', 4+5+6+7+8 Sector Quota Slider
								
								Eco Tags:
								1+2 'WhichTag', 3+4+5 Vanilla Logic, 6+7+8 DeadTater Logic
								3+4 'Galaxy Quota', 4+5+6+7+8 Galaxy Quota Slider, 
								3+4 'Sector Quota', 4+5+6+7+8 Sector Quota Slider
								
								Horizontal Line
						-->
						<do_if value="$DADVT.$DAJobsSSTEnable and $DADVT.$DAJobsSSTJobSizeQuotas.keys.list.count">
							<set_value name="$DAJobsSSTLocFactionsList" exact="[]"/>
							<append_list_elements name="$DAJobsSSTLocFactionsList" other="$DADVT.$DAJobsSSTJobSizeQuotas.keys.list"/>
							<sort_list list="$DAJobsSSTLocFactionsList" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$DAJobsSSTLocFactionsList">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 8,
										$text = '%s (%s)'.[$LocFaction.knownname,$LocFaction.shortname],
										$halign = 'center',
									]"/>
								<do_if value="$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}? and $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.keys.list.count">
									<set_value name="$LocPossibleTags" exact="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag','$LTraderTag','$MTraderTag','$LMinerTag','$MMinerTag','$LGasMinerTag','$MGasMinerTag']"/>
									<set_value name="$TagText" exact="[246,247,248,249,255,256,257,258,259,260]"/>
									<set_value name="$TagHoverText" exact="[1246,1247,1248,1249,1255,1256,1257,1258,1259,1260]"/>
									<do_for_each name="$LocWhichTag" in="$LocPossibleTags" counter="$A">
										<do_if value="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag'].indexof.{$LocWhichTag}">
											<set_value name="$LocSuffix" exact="{1001,8326}" comment="Fleets"/>
										</do_if>
										<do_elseif value="['$LTraderTag','$MTraderTag','$LMinerTag','$MMinerTag','$LGasMinerTag','$MGasMinerTag'].indexof.{$LocWhichTag}">
											<set_value name="$LocSuffix" exact="{1001,6}"/>
										</do_elseif>
										<do_else>
											<set_value name="$LocSuffix" exact="''"/>
										</do_else>
										<do_if value="$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}? and $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.count">
											<set_value name="$LocText" exact="readtext.{33232474}.{$TagText.{$A}}"/>
											<set_value name="$LocHoverText" exact="readtext.{33232474}.{$TagHoverText.{$A}}"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 1,
												$colSpan = 2,
												$text = $LocText,
												$mouseOverText = $LocHoverText,
												$halign = 'left',
											]"/>
											<remove_value name="$LocText"/>
											<remove_value name="$LocHoverText"/>
											<do_if value="['$CriticalTag','$CoreTag','$BorderTag','$ContestedTag'].indexof.{$LocWhichTag}">
												<set_value name="$LocHoverText" exact="{33232474,1250}.[1,1,3,6]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 3, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,250}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 1) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,1],
													]"/>
												<set_value name="$LocHoverText" exact="{33232474,1251}.[1,3,9,18]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 5, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,251}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 2) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,2],
													]"/>
												<set_value name="$LocHoverText" exact="{33232474,1252}.[1,5,15,30]"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
														$col = 7, 
														$colSpan = 2,
														$text = table[
														  $text   = {33232474,252}, 
														  $color  = if ($DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{2} == 3) then $DAMVT.$TextGreen else $DAMVT.$TextRed,
														  $halign = 'center',
														],
														$mouseOverText = $LocHoverText,
														$onClick = ExecuteOption_JobsFleetSize,
														$onRightClick = ExecuteOption_JobsFleetSize,
														$echo = [$LocFaction,$LocWhichTag,3],
													]"/>
												<remove_value name="$LocHoverText"/>
											</do_if>
											<do_elseif value="['$LTraderTag','$MTraderTag'].indexof.{$LocWhichTag} and global.$DALifetimeGrofit?">
												<!-- TODO: Vanilla Logic button and DeadTater Logic Button -->
											</do_elseif>
											<!-- MAYBE: Addtional options for other Tag types -->
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
													$col = 3,
													$colSpan = 2,
													$text = {33232474,253},
													$mouseOverText = {33232474,1253},
													$halign = 'left',
												]"/>
											<set_value name="$LocMax" exact="[100,$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{3} * 2].max"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
													$col = 5,
													$colSpan = 4,
													$onSliderCellConfirm = ExecuteOption_JobsGalaxyQuota,
													$min = 0,
													$minSelect = 0,
													$max = $LocMax,
													$maxSelect = $LocMax,
													$exceedMaxValue = false,
													$start = $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{3},
													$step = 1,
													$suffix = $LocSuffix,
													$echo = [$LocFaction,$LocWhichTag],
												]"/>
											<remove_value name="$LocMax"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
													$col = 3,
													$colSpan = 2,
													$text = {33232474,254},
													$mouseOverText = {33232474,1254},
													$halign = 'left',
												]"/>
											<set_value name="$LocMax2" exact="[10,$DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{4} * 2].max"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
													$col = 5,
													$colSpan = 4,
													$onSliderCellConfirm = ExecuteOption_JobsSectorQuota,
													$min = 0,
													$minSelect = 0,
													$max = $LocMax2,
													$maxSelect = $LocMax2,
													$exceedMaxValue = false,
													$start = $DADVT.$DAJobsSSTJobSizeQuotas.{$LocFaction}.{$LocWhichTag}.{4},
													$step = 1,
													$suffix = $LocSuffix,
													$echo = [$LocFaction,$LocWhichTag],
												]"/>
											<remove_value name="$LocMax2"/>
											<!-- Cleanup -->
										</do_if>
										<remove_value name="$LocSuffix"/>
									</do_for_each>
									<!-- Cleanup -->
									<remove_value name="$LocPossibleTags"/>
									<remove_value name="$TagText"/>
									<remove_value name="$TagHoverText"/>
									<!-- Horizontal Bar by SirNukes -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_if>
								<do_else>
									<!-- ERROR or no jobs added for faction -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = event.param.$columns,
											$text = {1001,2942},
											$halign = 'center',
										]"/>
									<!-- Horizontal Bar by SirNukes -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_else>
							</do_for_each>
							<remove_value name="$DAJobsSSTLocFactionsList"/>
						</do_if>
						<do_elseif value="not $DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2248},
								$halign = 'center',
							]"/>
						</do_elseif>
						<do_elseif value="not $DADVT.$DAJobsSSTJobSizeQuotas.keys.list.count">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2249},
								$halign = 'center',
							]"/>
						</do_elseif>
					</actions>
				</cue>
				<cue name="Menu_Jobs_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,240},
								$mouseOverText = {33232474,1240},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAJobsEXPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAJobsEXPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1240},
								$onClick = ExecuteOption_JobsEXPEnable,
								$onRightClick = ExecuteOption_JobsEXPEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,241},
								$mouseOverText = {33232474,1241},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAJobsSSTEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAJobsSSTEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1241},
								$onClick = ExecuteOption_JobsSSTEnable,
								$onRightClick = ExecuteOption_JobsSSTEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,263},
									$mouseOverText = {33232474,1263},
								]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTRemoveExclusivity then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTRemoveExclusivity then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1263},
									$onClick = ExecuteOption_JobsSSTRemoveExclusivityEnable,
									$onRightClick = ExecuteOption_JobsSSTRemoveExclusivityEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,242},
									$mouseOverText = {33232474,1242},
								]"/>
						<do_if value="$DADVT.$DAJobsEXPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAJobsEXPDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsEXPDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1242},
									$onClick = ExecuteOption_JobsEXPDebugEnable,
									$onRightClick = ExecuteOption_JobsEXPDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,243},
									$mouseOverText = {33232474,1243},
								]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1243},
									$onClick = ExecuteOption_JobsSSTDebugEnable,
									$onRightClick = ExecuteOption_JobsSSTDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 6,
									$text = {33232474,244},
									$mouseOverText = {33232474,1244},
								]"/>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAJobsSSTXtremelyDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAJobsSSTXtremelyDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1244},
									$onClick = ExecuteOption_JobsSSTXtrDebugEnable,
									$onRightClick = ExecuteOption_JobsSSTXtrDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<!-- MAYBE: Flesh out menu, allow changing fleet counts -->
					</actions>
				</cue>
				<cue name="Menu_Jobs_ToggleSpawned" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- 8 columns -->
						<do_if value="$DADVT.$DAJobsVanillaSpawnedJobIds? and $DADVT.$DAJobsVanillaSpawnedJobIds.count and $DADVT.$DAJobsDisabledVanillaSpawnedJobIds?">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Job ID -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {33232474,262},
									$mouseOverText = {33232474,1262},
								]"/>
							<!-- Ships -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 2,
									$text = {1001,6},
									$halign = 'center'
								]"/>
							<!-- Enabled/Disabled -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = ('%s/%s'.[{1001,4825},{1001,8942}]),
									$halign = 'center'
								]"/>
							<do_for_each name="$LocJobID" in="$DADVT.$DAJobsVanillaSpawnedJobIds">
								<find_ship groupname="$LocShipGroup" job="$LocJobID" checkoperational="true" space="player.galaxy" multiple="true"/>
								<check_job_active result="$LocIsActive" job="$LocJobID"/>
								<do_if value="$LocShipGroup.count or $LocIsActive or $DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{$LocJobID}">
									<!-- 1-4 Job ID, 5+6 Ship Count, 7+8 Button -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 4,
											$text = $LocJobID,
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 5,
											$colSpan = 2,
											$text = @$LocShipGroup.count,
											$halign = 'center'
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
											$col = 7, 
											$colSpan = 2,
											$text = table[
											  $text   =  if @$LocIsActive then {1001,4825} else {1001,8942}, 
											  $color  =  if @$LocIsActive then $DAMVT.$TextGreen else $DAMVT.$TextRed,
											  $halign = 'center',
											],
											$onClick = ExecuteOption_JobsToggleSpawned,
											$onRightClick = ExecuteOption_JobsToggleSpawned,
											$echo = [$LocJobID,$LocIsActive,$LocShipGroup]
										]"/>
								</do_if>
								<remove_value name="$LocShipGroup"/>
								<remove_value name="$LocIsActive"/>
							</do_for_each>
						</do_if>
						<do_else>
							
						</do_else>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsFleetSize" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag,1-3] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}" exact="event.param.$echo.{3}"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{2}($FleetSize) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsGalaxyQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{3}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{3}($GalaxyQuota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{3}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSectorQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWhichTag] -->
						<set_value name="$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{4}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTJobSizeQuotas.{%s}.{%s}.{4}($SectorQuota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAJobsSSTJobSizeQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{4}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsEXPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsEXPEnable">
							<set_value name="$DADVT.$DAJobsEXPEnable" exact="false"/>
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsEXPEnable" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsEXPInitialChecks" param="true"/>
						<debug_text text="'MOD: DAMenus JobsEXP -- Updated $DADVT.$DAJobsEXPEnable to %s'.[$DADVT.$DAJobsEXPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTEnable">
							<set_value name="$DADVT.$DAJobsSSTEnable" exact="false"/>
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="false"/>
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTEnable" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTInitializeTables" param="true"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTEnable to %s'.[$DADVT.$DAJobsSSTEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTRemoveExclusivityEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTRemoveExclusivity">
							<set_value name="$DADVT.$DAJobsSSTRemoveExclusivity" exact="false"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTToggleSpaceExclusivity" param="$DADVT.$DAJobsSSTRemoveExclusivity"/>
							<do_if value="faction.boron? and (not $DADVT.$DAJobsSSTUnsupportedFactions.indexof.{faction.boron})">
								<append_to_list name="$DADVT.$DAJobsSSTUnsupportedFactions" exact="faction.boron"/>
							</do_if>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTRemoveExclusivity" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTToggleSpaceExclusivity" param="$DADVT.$DAJobsSSTRemoveExclusivity"/>
							<do_if value="faction.boron?">
								<do_if value="$DADVT.$DAJobsSSTUnsupportedFactions.indexof.{faction.boron}">
									<remove_from_list name="$DADVT.$DAJobsSSTUnsupportedFactions" exact="faction.boron" multiple="true"/>
								</do_if>
								<do_if value="$DADVT.$DAJobsEXPEnable">
									<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsEXPInitialChecks" param="true"/>
								</do_if>
							</do_if>
						</do_else>
						<!-- EventJobsSSTInitializeTables will remove if faction is on Unsupported -->
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventJobsSSTInitializeTables" param="true"/>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTRemoveExclusivity to %s'.[$DADVT.$DAJobsSSTRemoveExclusivity]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsEXPDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsEXPDetailedDebug">
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsEXPDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsEXP -- Updated $DADVT.$DAJobsEXPDetailedDebug to %s'.[$DADVT.$DAJobsEXPDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTDetailedDebug">
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTDetailedDebug to %s'.[$DADVT.$DAJobsSSTDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsSSTXtrDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAJobsSSTXtremelyDetailedDebug">
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAJobsSSTXtremelyDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus JobsSST -- Updated $DADVT.$DAJobsSSTXtremelyDetailedDebug to %s'.[$DADVT.$DAJobsSSTXtremelyDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_JobsToggleSpawned" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocJobID,$LocIsActive,$LocShipGroup] -->
						<do_if value="event.param.$echo.{1} and event.param.$echo.{2}?">
							<do_if value="event.param.$echo.{2} == true">
								<check_job_active result="$LocIsActiveBefore" job="event.param.$echo.{1}"/>
								<set_job_active activate="false" job="event.param.$echo.{1}"/>
								<check_job_active result="$LocIsActiveAfter" job="event.param.$echo.{1}"/>
								<do_if value="$LocIsActiveBefore and (not $LocIsActiveAfter) and event.param.$echo.{3}? and event.param.$echo.{3}.count">
									<do_for_each name="$LocShip" in="event.param.$echo.{3}">
										<create_order object="$LocShip" id="'RecycleDefault'" default="true"/>
										<debug_text text="'MOD: DAMenus Jobs Misc -- Ship: %s{%s} -- Ordered to RecycleDefault'.[$LocShip.knownname,$LocShip.idcode]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
									</do_for_each>
								</do_if>
								<do_if value="not $DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{event.param.$echo.{1}}">
									<append_to_list name="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds" exact="event.param.$echo.{1}"/>
								</do_if>
							</do_if>
							<do_else>
								<check_job_active result="$LocIsActiveBefore" job="event.param.$echo.{1}"/>
								<set_job_active activate="true" job="event.param.$echo.{1}"/>
								<check_job_active result="$LocIsActiveAfter" job="event.param.$echo.{1}"/>
								<do_if value="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds.indexof.{event.param.$echo.{1}}">
									<remove_from_list name="$DADVT.$DAJobsDisabledVanillaSpawnedJobIds" exact="event.param.$echo.{1}" multiple="true"/>
								</do_if>
							</do_else>
						</do_if>
						<debug_text text="'MOD: DAMenus Jobs Misc -- Job: %s -- Changed job status from %s to %s'.[@event.param.$echo.{1},@$LocIsActiveBefore,@$LocIsActiveAfter]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<remove_value name="$LocIsActiveBefore"/>
						<remove_value name="$LocIsActiveAfter"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Gate -->
				<cue name="DA_Gate_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,300},
								$mouseOverText = {33232474,1300},
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAGateEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAGateEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1300},
								$onClick = ExecuteOption_GateEnable,
								$onRightClick = ExecuteOption_GateEnable,
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,302},
								$mouseOverText = {33232474,1302},
							]"/>
						<do_if value="$DADVT.$DAGateEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGateShowAllGates then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGateShowAllGates then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1302},
									$onClick = ExecuteOption_GateShowAllEnable,
									$onRightClick = ExecuteOption_GateShowAllEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,301},
								$mouseOverText = {33232474,1301},
							]"/>
						<do_if value="$DADVT.$DAGateEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGateDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGateDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1301},
									$onClick = ExecuteOption_GateDebugEnable,
									$onRightClick = ExecuteOption_GateDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<do_if value="$DADVT.$DAGateEnable and $DADVT.$DAGateTrackedGates.count">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = {1001,9809},
									$halign = 'left',
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 2,
									$text = {1001,12},
									$halign = 'center',
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = '%s / %s'.[{1001,12207},{1001,12208}],
									$halign = 'center',
								]"/>
							<!-- Horizontal Line -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<set_value name="$LocTrackedGates" exact="[]"/>
							<sort_list list="$DADVT.$DAGateTrackedGates" sortbyvalue="loop.element.sector.knownname"/>
							<do_for_each name="$LocGate" in="$DADVT.$DAGateTrackedGates">
								<do_if value="(not $LocTrackedGates.indexof.{$LocGate}) and (not $LocTrackedGates.indexof.{$LocGate.exit})">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 4,
											$text = '%s &lt;-&gt; %s'.[$LocGate.sector.knownname,$LocGate.exit.sector.knownname],
											$halign = 'left',
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 5,
											$colSpan = 2,
											$text = if $LocGate.isactive then {1001,12207} else {1001,12208},
											$halign = 'center',
										]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
										$col = 7,
										$colSpan = 2,
										$text = table[
										  $text   =  if $LocGate.isactive then {1001,12207} else {1001,12208}, 
										  $color  =  if $LocGate.isactive then $DAMVT.$TextGreen else $DAMVT.$TextRed,
										  $halign = 'center',
										],
										$onClick = ExecuteOption_GateTriggerGate,
										$onRightClick = ExecuteOption_GateTriggerGate,
										$echo = $LocGate,
										]"/>
									<append_to_list name="$LocTrackedGates" exact="$LocGate"/>
									<append_to_list name="$LocTrackedGates" exact="$LocGate.exit"/>
								</do_if>
								<do_elseif value="(not $LocTrackedGates.indexof.{$LocGate}) or (not $LocTrackedGates.indexof.{$LocGate.exit})">
									<debug_text text="'MOD: DAMenus Gate -- PROBLEM WITH GATE TRACKING -- $LocTrackedGates.indexof.{$LocGate}: %s -- $LocTrackedGates.indexof.{$LocGate.exit}: %s'.[$LocTrackedGates.indexof.{$LocGate},$LocTrackedGates.indexof.{$LocGate.exit}]" context="false" filter="error"/>
								</do_elseif>
							</do_for_each>
							<remove_value name="$LocTrackedGates"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateEnable">
							<set_value name="$DADVT.$DAGateEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGateFindGates" param="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateEnable to %s'.[$DADVT.$DAGateEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateShowAllEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateShowAllGates">
							<set_value name="$DADVT.$DAGateShowAllGates" exact="false"/>
							<clear_list list="$DADVT.$DAGateTrackedGates"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateShowAllGates" exact="true"/>
						</do_else>
						<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGateFindGates" param="true"/>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateShowAllGates to %s'.[$DADVT.$DAGateShowAllGates]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGateDetailedDebug">
							<set_value name="$DADVT.$DAGateDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGateDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Gate -- Updated $DADVT.$DAGateDetailedDebug to %s'.[$DADVT.$DAGateDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GateTriggerGate" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DAGateLocGate" exact="event.param.$echo"/>
						<set_value name="$DAGateLocGateExit" exact="$DAGateLocGate.exit"/>
						<do_if value="$DAGateLocGate.isactive">
							<set_object_active object="$DAGateLocGate" activate="false"/>
							<set_object_active object="$DAGateLocGateExit" activate="false"/>
						</do_if>
						<do_elseif value="not $DAGateLocGate.isactive">
							<set_object_active object="$DAGateLocGate" activate="true"/>
							<set_object_active object="$DAGateLocGateExit" activate="true"/>
						</do_elseif>
						<debug_text text="'MOD: DAMenus Gate -- Set %s.%s.%s to active: %s -- Set %s.%s.%s to active: %s'.[$DAGateLocGate.sector.macro,$DAGateLocGate.zone.macro,$DAGateLocGate.knownname,$DAGateLocGate.isactive,$DAGateLocGateExit.sector.macro,$DAGateLocGateExit.zone.macro,$DAGateLocGateExit.knownname,$DAGateLocGateExit.isactive]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- God -->
				<cue name="DA_God_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,348}, $id='menu_god_options']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,349}, $id='menu_god_quotas']"/>
						<!-- TODO: Special ordering -->
					</actions>
				</cue>
				<cue name="Menu_God_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,340},
								$mouseOverText = {33232474,1340}
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DAGodEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DAGodEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1340},
								$onClick = ExecuteOption_GodEnable,
								$onRightClick = ExecuteOption_GodEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,354},
								$mouseOverText = {33232474,1354},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<set_value name="$LocMax" exact="[5,$DADVT.$DAGodStationRequestInterval * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_GodStationRequestInterval,
									$min = 0,
									$minSelect = 1,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DAGodStationRequestInterval,
									$step = 1
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,352},
								$mouseOverText = {33232474,1352},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodAllowBuildInFriendly then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAllowBuildInFriendly then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1352},
									$onClick = ExecuteOption_GodAllowBuildInFriendlyEnable,
									$onRightClick = ExecuteOption_GodAllowBuildInFriendlyEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,350},
								$mouseOverText = {33232474,1350},
							]"/>
						<do_if value="$DADVT.$DAGodEnable and $DADVT.$DAGodAllowBuildInFriendly">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodAllowBuildInPlayer then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAllowBuildInPlayer then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1350},
									$onClick = ExecuteOption_GodAllowBuildInPlayerEnable,
									$onRightClick = ExecuteOption_GodAllowBuildInPlayerEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,351},
								$mouseOverText = {33232474,1351},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodAttemptRecovery then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodAttemptRecovery then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1351},
									$onClick = ExecuteOption_GodAttemptRecoveryEnable,
									$onRightClick = ExecuteOption_GodAttemptRecoveryEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,353},
								$mouseOverText = {33232474,1353},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodStationUpgradeEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodStationUpgradeEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1353},
									$onClick = ExecuteOption_GodStationUpgradeEnable,
									$onRightClick = ExecuteOption_GodStationUpgradeEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {33232474,355},
								$mouseOverText = {33232474,1355},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 5,
									$colSpan = 4,
									$onSliderCellConfirm = ExecuteOption_GodMaxModuleSetting,
									$min = 0,
									$minSelect = 1,
									$max = 25,
									$maxSelect = 25,
									$exceedMaxValue = false,
									$start = $DADVT.$DAGodMaxModuleSetting,
									$step = 1
								]"/>
							<do_if value="$DADVT.$DAGodMaxModuleWarning?">
								<include_actions ref="md.DeadAirDynamicUniverse.LibraryGodCheckForEco"/>
								<do_if value="$DADVT.$DAGodMaxModuleWarning">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = event.param.$columns,
											$text = {33232474,2343},
										]"/>
								</do_if>
							</do_if>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 4,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,341},
								$mouseOverText = {33232474,1341},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1341},
									$onClick = ExecuteOption_GodDebugEnable,
									$onRightClick = ExecuteOption_GodDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,347},
								$mouseOverText = {33232474,1347},
							]"/>
						<do_if value="$DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DAGodXtremelyDetailedDebug then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DAGodXtremelyDetailedDebug then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1347},
									$onClick = ExecuteOption_GodDetailedDebugEnable,
									$onRightClick = ExecuteOption_GodDetailedDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
					</actions>
				</cue>
				<cue name="Menu_God_Quotas" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodEnable and $DADVT.$DAGodFactionModuleQuotas? and $DADVT.$DAGodFactionModuleQuotas.keys.list.count">
							<!-- DONE: Sort by faction knownname -->
							<set_value name="$DAGodLocFactionsList" exact="[]"/>
							<append_list_elements name="$DAGodLocFactionsList" other="$DADVT.$DAGodFactionModuleQuotas.keys.list"/>
							<sort_list list="$DAGodLocFactionsList" sortbyvalue="loop.element.knownname"/>
							<do_for_each name="$LocFaction" in="$DAGodLocFactionsList">
								<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}? and ($DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list.count gt 1)">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1,
											$colSpan = 8,
											$text = '%s (%s)'.[$LocFaction.knownname,$LocFaction.shortname],
											$halign = 'center'
										]"/>
									<do_if value="$LocFaction.isactive and (not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction})">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Show Quota Settings -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 1,
												$colSpan = 4,
												$text = {33232474,342},
												$mouseOverText = {33232474,1342},
												$halign = 'left'
											]"/>
										<!-- Enable -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
												$col = 5, 
												$colSpan = 4,
												$text = table[
												  $text   =  if $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled then {1001,4825} else {1001,8942}, 
												  $color  =  if $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled then $DAMVT.$TextGreen else $DAMVT.$TextRed,
												  $halign = 'center',
												],
												$mouseOverText = {33232474,1342},
												$onClick = ExecuteOption_GodFactionEnable,
												$onRightClick = ExecuteOption_GodFactionEnable,
												$echo = $LocFaction
											]"/>
									</do_if>
									<do_elseif value="$LocFaction.isactive and $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Already activated -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {33232474,346}, $mouseOverText = {33232474,1346}]" comment="Already Activated"/>
									</do_elseif>
									<do_else>
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Faction inactive -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {1001,43} + ' ' + {1001,12208}]" comment="Faction Inactive"/>
									</do_else>
									<do_if value="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.$Enabled and $LocFaction.isactive">
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<!-- Production ware -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 1,
												$colSpan = 3,
												$text = {33232474,343},
												$mouseOverText = {33232474,1343},
												$halign = 'center'
											]"/>
										<!-- Additional modules to build -->
										<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
												$col = 4,
												$colSpan = 5,
												$text = {33232474,344},
												$mouseOverText = {33232474,1344},
												$halign = 'center'
											]"/>
										<do_for_each name="$LocWare" in="$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.keys.list">
											<do_if value="typeof $LocWare == datatype.ware">
												<set_value name="$LocShowTextInstead" exact="$DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
												<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
														$col = 1,
														$colSpan = 3,
														$text = $LocWare.name,
														$halign = 'left'
													]"/>
												<do_if value="@$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{1} and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2}? and (not $LocShowTextInstead)">
													<set_value name="$LocMax" exact="[150,$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2} * 2].max"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
															$col = 4,
															$colSpan = 5,
															$onSliderCellConfirm = ExecuteOption_GodChangeQuota,
															$min = 0,
															$minSelect = 0,
															$max = $LocMax,
															$maxSelect = $LocMax,
															$exceedMaxValue = false,
															$start = $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2},
															$step = 1,
															$suffix = {1001,7924},
															$echo = [$LocFaction,$LocWare],
														]"/>
													<remove_value name="$LocMax"/>
												</do_if>
												<do_elseif value="@$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{1} and $DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2}? and $LocShowTextInstead">
													<set_value name="$LocText" exact="'%s %s'.[$DADVT.$DAGodFactionModuleQuotas.{$LocFaction}.{$LocWare}.{2},{1001,7924}]"/>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
															$col = 4,
															$colSpan = 5,
															$text = $LocText,
															$halign = 'center'
														]"/>
													<remove_value name="$LocText"/>
												</do_elseif>
												<do_else>
													<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
															$col = 4,
															$colSpan = 5,
															$text = {1001,8909},
															$halign = 'center'
														]"/>
												</do_else>
												<remove_value name="$LocShowTextInstead"/>
											</do_if>
										</do_for_each>
										<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
										<do_if value="not $DADVT.$DAGodFactionsTriggered.indexof.{$LocFaction}">
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
												$col = 1, 
												$colSpan = 8,
												$text = table[
												  $text   = {33232474,345}.[$LocFaction.knownname], 
												  $color  = $DAMVT.$TextGreen,
												  $halign = 'center',
												],
												$mouseOverText = {33232474,1345},
												$onClick = ExecuteOption_GodTriggerFaction,
												$onRightClick = ExecuteOption_GodTriggerFaction,
												$echo = $LocFaction
											]"/>
										</do_if>
										<do_else>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 8, $halign = 'center', $text = {33232474,346}, $mouseOverText = {33232474,1346}]" comment="Already Activated"/>
										</do_else>
									</do_if>
									<!-- Horizontal Line -->
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
											$col = 1, 
											$colSpan = event.param.$columns,
											$height = 2,
											$fontsize = 1,
											$cellBGColor = 'Color.row_separator',
										]"/>
								</do_if>
							</do_for_each>
							<remove_value name="$DAGodLocFactionsList"/>
						</do_if>
						<do_elseif value="not $DADVT.$DAGodEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2342},
								$halign = 'center',
							]"/>
						</do_elseif>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodEnable">
							<set_value name="$DADVT.$DAGodEnable" exact="false"/>
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="false"/>
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="false"/>
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="false"/>
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="false"/>
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="false"/>
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGodSetUpTables" param="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodEnable to %s'.[$DADVT.$DAGodEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodStationRequestInterval" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAGodStationRequestInterval" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodStationRequestInterval to %s'.[$DADVT.$DAGodStationRequestInterval]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAllowBuildInFriendlyEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAllowBuildInFriendly">
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAllowBuildInFriendly" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAllowBuildInFriendly to %s'.[$DADVT.$DAGodAllowBuildInFriendly]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAllowBuildInPlayerEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAllowBuildInPlayer">
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAllowBuildInPlayer" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAllowBuildInPlayer to %s'.[$DADVT.$DAGodAllowBuildInPlayer]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodAttemptRecoveryEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodAttemptRecovery">
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodAttemptRecovery" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodAttemptRecovery to %s'.[$DADVT.$DAGodAttemptRecovery]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodStationUpgradeEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodStationUpgradeEnable">
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodStationUpgradeEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodStationUpgradeEnable to %s'.[$DADVT.$DAGodStationUpgradeEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodMaxModuleSetting" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT.$DAGodMaxModuleSetting" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodMaxModuleSetting to %s'.[$DADVT.$DAGodMaxModuleSetting]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodDetailedDebug">
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodDetailedDebug to %s'.[$DADVT.$DAGodDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodDetailedDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodXtremelyDetailedDebug">
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DAGodXtremelyDetailedDebug" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodXtremelyDetailedDebug to %s'.[$DADVT.$DAGodXtremelyDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodFactionEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled?">
							<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled">
								<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled" exact="false"/>
							</do_if>
							<do_else>
								<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled" exact="true"/>
							</do_else>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus God -- Unable to find $DADVT.$DAGodFactionModuleQuotas.{%s}.$Enabled'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodFactionModuleQuotas.{%s}.$Enabled to %s'.[event.param.$echo,$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodChangeQuota" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<!-- $echo = [$LocFaction,$LocWare] -->
						<set_value name="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}" exact="event.param.$value"/>
						<debug_text text="'MOD: DAMenus God -- Updated $DADVT.$DAGodFactionModuleQuotas.{%s}.{%s}.{2}($Quota) to %s'.[event.param.$echo.{1},event.param.$echo.{2},$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo.{1}}.{event.param.$echo.{2}}.{2}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_GodTriggerFaction" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DAGodFactionModuleQuotas.{event.param.$echo}.$Enabled?">
							<append_to_list name="$DADVT.$DAGodFactionsTriggered" exact="event.param.$echo"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventGodSignalledActive" param="event.param.$echo"/>
							<debug_text text="'MOD: DAMenus God -- %s -- Faction triggered.'.[event.param.$echo]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<do_else>
							<debug_text text="'MOD: DAMenus God -- %s -- Faction triggered but not enabled.'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- BP -->
				<cue name="DA_BP_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,380}, $id='menu_bp_options']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,381}, $id='menu_bp_progress']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = {33232474,2381},
								$halign = 'center',
								$wordwrap = true
							]"/>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,382}, $id='menu_bp_progress_modules']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,383}, $id='menu_bp_progress_ships']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,384}, $id='menu_bp_progress_equipment']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,388}, $id='menu_bp_progress_misc']"/>
					</actions>
				</cue>
				<cue name="Menu_BP_Options" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,385},
								$mouseOverText = {33232474,1385}
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 7, 
								$colSpan = 2,
								$text = table[
								  $text   =  if $DADVT.$DABPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DADVT.$DABPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1385},
								$onClick = ExecuteOption_BPEnable,
								$onRightClick = ExecuteOption_BPEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 6,
								$text = {33232474,387},
								$mouseOverText = {33232474,1387}
							]"/>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 7, 
									$colSpan = 2,
									$text = table[
									  $text   =  if $DADVT.$DABPDebugEnable then {1001,4825} else {1001,8942}, 
									  $color  =  if $DADVT.$DABPDebugEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
									  $halign = 'center',
									],
									$mouseOverText = {33232474,1387},
									$onClick = ExecuteOption_BPDebugEnable,
									$onRightClick = ExecuteOption_BPDebugEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 7,
									$colSpan = 2,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<do_if value="$DADVT.$DABPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = {1001,9197},
								$halign = 'left',
							]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 5,
								$text = {33232474,386},
								$halign = 'center',
								$mouseOverText = {33232474,1386}
							]"/>
							<do_all exact="$DADVT.$DABPClassRequirements.keys.list.count" counter="$A">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 3,
										$text = $DADVT.$DABPClassRequirements.keys.list.{$A},
										$halign = 'left'
									]"/>
								<set_value name="$LocMax" exact="[200,$DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}} * 2].max"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
										$col = 4,
										$colSpan = 5,
										$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
										$min = 0,
										$minSelect = 1,
										$max = $LocMax,
										$maxSelect = $LocMax,
										$exceedMaxValue = false,
										$start = $DADVT.$DABPClassRequirements.{$DADVT.$DABPClassRequirements.keys.list.{$A}},
										$step = 1,
										$echo = $DADVT.$DABPClassRequirements.keys.list.{$A},
									]"/>
								<remove_value name="$LocMax"/>
							</do_all>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 3,
									$text = {33232474,2380},
									$halign = 'left',
									$mouseOverText = {33232474,1380}
								]"/>
							<set_value name="$LocMax" exact="[200,$DADVT.$DABPUnkownClassRequirement * 2].max"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Slider" param="table[
									$col = 4,
									$colSpan = 5,
									$onSliderCellConfirm = ExecuteOption_BPChangeRequirement,
									$min = 0,
									$minSelect = 1,
									$max = $LocMax,
									$maxSelect = $LocMax,
									$exceedMaxValue = false,
									$start = $DADVT.$DABPUnkownClassRequirement,
									$step = 1,
									$echo = 'Unknown',
								]"/>
							<remove_value name="$LocMax"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Modules" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.pier,class.dockarea,class.production,class.storage,class.defencemodule,class.buildmodule,class.habitation,class.welfaremodule,class.processingmodule,class.connectionmodule]"/>
							<set_value name="$LocClassesNames" exact="[{20104,79801},{20104,79901},{1001,2421},{1001,2422},{1001,2424},{1001,2439},{1001,2451},{1001,9620},{1001,9621},{20104,59901}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Ships" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.ship_xs,class.ship_s,class.ship_m,class.ship_l,class.ship_xl]"/>
							<set_value name="$LocClassesNames" exact="[{33232474,2382},{33232474,2383},{33232474,2384},{33232474,2385},{33232474,2386}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Equipment" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<set_value name="$LocPrintedWareList" exact="[]"/>
							<set_value name="$LocClasses" exact="[class.missileturret,class.turret,class.missilelauncher,class.engine,class.shieldgenerator,class.weapon,class.satellite,class.missile,class.countermeasure]"/>
							<set_value name="$LocClassesNames" exact="[{1001,9031},{1001,8397},{1001,9030},{1001,1103},{1001,1317},{1001,1301},{1001,1327},{1001,1304},{1001,8063}]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocClass" in="$LocClasses" counter="$Str">
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<set_value name="$LocString" exact="'%s'.[$LocClassesNames.{$Str}]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = event.param.$columns,
									$text = $LocString,
									$halign = 'center'
								]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<!-- Ware -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1,
										$colSpan = 4,
										$text = {1001,45},
										$halign = 'left'
									]"/>
								<!-- Progress -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 5,
										$colSpan = 4,
										$text = {1001,9513},
										$halign = 'center'
									]"/>
								<!-- Horizontal Bar by SirNukes -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<remove_value name="$LocString"/>
								<do_for_each name="$LocWare" in="$LocWareList">
									<do_if value="not $LocPrintedWareList.indexof.{$LocWare}">
										<do_if value="@$LocWare.macro">
											<set_value name="$LocMacro" exact="$LocWare.macro"/>
										</do_if>
										<do_elseif value="@$LocWare.objectmacro">
											<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
										</do_elseif>
										<do_if value="$LocMacro? and @$LocMacro">
											<do_if value="$LocMacro.isclass.[$LocClass]">
												<include_actions ref="Library_BPAddEntryRow"/>
												<append_to_list name="$LocPrintedWareList" exact="$LocWare"/>
											</do_if>
										</do_if>
										<remove_value name="$LocMacro"/>
									</do_if>
								</do_for_each>
							</do_for_each>
							<remove_value name="$LocWareList"/>
							<remove_value name="$LocCheckedWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="Menu_BP_Progress_Misc" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Ware -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 4,
								$text = {1001,45},
								$halign = 'left'
							]"/>
						<!-- Progress -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 4,
								$text = {1001,9513},
								$halign = 'center'
							]"/>
						<!-- Horizontal Bar by SirNukes -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DADVT.$DABPTracking.keys.list.count">
							<set_value name="$LocWareList" exact="[]"/>
							<append_list_elements name="$LocWareList" other="$DADVT.$DABPTracking.keys.list"/>
							<sort_list list="$LocWareList" sortbyvalue="loop.element.name"/>
							<do_for_each name="$LocWare" in="$LocWareList">
								<do_if value="@$LocWare.macro">
									<set_value name="$LocMacro" exact="$LocWare.macro"/>
								</do_if>
								<do_elseif value="@$LocWare.objectmacro">
									<set_value name="$LocMacro" exact="$LocWare.objectmacro"/>
								</do_elseif>
								<do_if value="$LocMacro? and @$LocMacro">
									<do_if value="not $LocMacro.isclass.[class.pier,class.dockarea,class.production,class.storage,class.defencemodule,class.buildmodule,class.connectionmodule,class.habitation,class.welfaremodule,class.processingmodule,
										class.ship_xs,class.ship_s,class.ship_m,class.ship_l,class.ship_xl,
										class.turret,class.missileturret,class.missilelauncher,class.engine,class.shieldgenerator,class.weapon,class.satellite,class.missile,class.countermeasure]">
										<include_actions ref="Library_BPAddEntryRow"/>
									</do_if>
								</do_if>
								<remove_value name="$LocMacro"/>
							</do_for_each>
							<remove_value name="$LocWareList"/>
						</do_if>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPEnable">
							<set_value name="$DADVT.$DABPEnable" exact="false"/>
							<set_value name="$DADVT.$DABPDebugEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DABPEnable" exact="true"/>
							<signal_cue_instantly cue="md.DeadAirDynamicUniverse.EventBPUpdateLibrary"/>
						</do_else>
						<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPEnable to %s'.[$DADVT.$DABPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPDebugEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DADVT.$DABPDebugEnable">
							<set_value name="$DADVT.$DABPDebugEnable" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DADVT.$DABPDebugEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPDebugEnable to %s'.[$DADVT.$DAGodDetailedDebug]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_BPChangeRequirement" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="event.param.$echo == 'Unknown'">
							<set_value name="$DADVT.$DABPUnkownClassRequirement" exact="event.param.$value"/>
							<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPUnkownClassRequirement to %s'.[$DADVT.$DABPUnkownClassRequirement]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_if>
						<do_elseif value="$DADVT.$DABPClassRequirements.{event.param.$echo}?">
							<set_value name="$DADVT.$DABPClassRequirements.{event.param.$echo}" exact="event.param.$value"/>
							<debug_text text="'MOD: DAMenus BP -- Updated $DADVT.$DABPClassRequirements.{%s} to %s'.[event.param.$echo,$DADVT.$DABPClassRequirements.{event.param.$echo}]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						</do_elseif>
						<do_else>
							<debug_text text="'MOD: DAMenus BP -- ERROR -- ExecuteOption_BPChangeRequirement did not receive proper data. %s'.[event.param.$echo]" context="false" filter="error"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<library name="Library_BPAddEntryRow">
					<actions>
						<do_if value="$LocWare? and @$LocWare and $LocMacro? and @$LocMacro and $DADVT.$DABPTracking.{$LocWare}? and $DADVT.$DABPTracking.{$LocWare}.{1}? and $DADVT.$DABPClassRequirements.{$LocMacro.class}?">
							<do_if value="($DADVT.$DABPTracking.{$LocWare}.{1} ge $DADVT.$DABPClassRequirements.{$LocMacro.class}) and (not player.blueprints.{$LocWare}.any.exists) and (not $LocWare.tags.indexof.{tag.noplayerblueprint}) and (not $LocWare.tags.indexof.{tag.noblueprint})">
								<!-- Add BP -->
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1,
									$colSpan = 4,
									$text = $LocWare.name,
									$halign = 'left'
								]"/>
							<set_value name="$LocRequired" exact="$DADVT.$DABPClassRequirements.{$LocMacro.class}"/>
							<set_value name="$LocCurrent" exact="[$DADVT.$DABPTracking.{$LocWare}.{1},$DADVT.$DABPClassRequirements.{$LocMacro.class}].min"/>
							<do_if value="($LocCurrent ge $LocRequired) or player.blueprints.{$LocWare}.any.exists">
								<set_value name="$LocText" exact="{1001,3416}" comment="Completed"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'%s / %s'.[$LocCurrent,$LocRequired]"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 5,
									$colSpan = 1,
									$text = $LocText,
									$halign = 'center'
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 6, 
									$colSpan		= 3,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= 0,
									$current		= $LocCurrent,
									$max			= $LocRequired,
									$mouseOverText	= $LocText,
									$markerColor	= $DAMVT.$MarkerTransparent,
								]"/>
							<remove_value name="$LocRequired"/>
							<remove_value name="$LocCurrent"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<!-- Information Menus -->
				<cue name="DA_Information_Menu" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,401}, $id='menu_information_milstrength']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,402}, $id='menu_information_econstrength']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,403}, $id='menu_information_econdetails']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,404}, $id='menu_information_resourcefullness']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,405}, $id='menu_information_productioncount']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,406}, $id='menu_information_traderprofit']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Submenu_Link" param="table[$text={33232474,408}, $id='menu_information_shipbreakdown']"/>
					</actions>
				</cue>
				<!-- Done: 20240524 Reworked again -->
				<cue name="Menu_Information_MilStrength" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$text = table[
								  $text   =  [{33232474,2410},{33232474,2411}].{$DAMVT.$InfoMilDisplayOption}, 
								  $color  =  $DAMVT.$TextGreen,
								  $halign = 'center',
								],
								$onClick = ExecuteOption_InfoMilStrengthDisplay,
								$onRightClick = ExecuteOption_InfoMilStrengthDisplay
							]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Faction knownname -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,43}, $halign = 'left', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Total: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- XL: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- L: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- M: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- S: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Threat Assessment -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 2, $text = {30211,150801}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- LocGalaxyTotal = [Total,TotalXL,TotalL,TotalM,TotalS,TotalTS] -->
						<set_value name="$LocGalaxyTotal" exact="[0,0,0,0,0,0]"/>
						<!-- MilStrengthTable.{$LocFaction} = [Total,TotalXL,TotalL,TotalM,TotalS,TotalTS] -->
						<set_value name="$MilStrengthTable" exact="table[]"/>
						<do_for_each name="$LocFaction" in="$FactionList">
							<do_if value="$LocFaction.isactive">
								<set_value name="$MilStrengthTable.{$LocFaction}" exact="[0,0,0,0,0,0]"/>
								<include_actions ref="Library_GetMilStrength"/>
							</do_if>
						</do_for_each>
						<set_value name="$SortedFactionList" exact="$MilStrengthTable.keys.list"/>
						<sort_list list="$SortedFactionList" sortbyvalue="loop.element.knownname"/>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1" comment="Ship Counts">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddMilStrengthRow"/>
							</do_for_each>
						</do_if>
						<do_elseif value="$DAMVT.$InfoMilDisplayOption == 2" comment="Count history">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddMilStrengthHistoryRow"/>
							</do_for_each>
						</do_elseif>
						<do_if value="not $DAMVT.$DWMilStrengthHistory.$Galaxy?">
							<set_value name="$DAMVT.$DWMilStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
						</do_if>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1" comment="Ship Counts">
							<include_actions ref="Library_AddStrengthSummaryRow"/>
						</do_if>
						<do_elseif value="$DAMVT.$InfoMilDisplayOption == 2" comment="Count history">
							<include_actions ref="Library_AddMilStrengthHistorySummaryRow"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and (($DAMVT.$DWMilStrengthHistory.$Galaxy.{1} + 5s) le player.age)">
								<set_value name="$DAMVT.$DWMilStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
							</do_if>
							<do_for_each name="$LocFaction" in="$MilStrengthTable.keys.list">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and (($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{1} + 5s) le player.age)">
									<set_value name="$DAMVT.$DWMilStrengthHistory.{$LocFaction}" exact="[player.age,$MilStrengthTable.{$LocFaction}.{1},$MilStrengthTable.{$LocFaction}.{2},$MilStrengthTable.{$LocFaction}.{3},$MilStrengthTable.{$LocFaction}.{4},$MilStrengthTable.{$LocFaction}.{5},$MilStrengthTable.{$LocFaction}.{6}]"/>
								</do_if>
							</do_for_each>
						</do_elseif>
						<remove_value name="$LocGalaxyTotal"/>
						<remove_value name="$MilStrengthTable"/>
						<remove_value name="$SortedFactionList"/>
						<remove_value name="$LocText"/>
					</actions>
				</cue>
				<!-- 20240722 Reworked to match mil strength -->
				<cue name="Menu_Information_EconStrength" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$WhatFactions" exact="'All'"/>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$text = table[
								  $text   =  [{33232474,2410},{33232474,2411}].{$DAMVT.$InfoEcoDisplayOption}, 
								  $color  =  $DAMVT.$TextGreen,
								  $halign = 'center',
								],
								$onClick = ExecuteOption_InfoEcoStrengthDisplay,
								$onRightClick = ExecuteOption_InfoEcoStrengthDisplay
							]"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Faction knownname -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,43}, $halign = 'left', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Total -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- XL -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- L -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- M -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- S -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Stations -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[ $col = 9, $colSpan = 2, $text = {1001,4}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- LocGalaxyTotal = [Total,TotalXL,TotalL,TotalM,TotalS,TotalStations] -->
						<set_value name="$LocGalaxyTotal" exact="[0,0,0,0,0,0]"/>
						<!-- EcoStrengthTable.{$LocFaction} = [Total,TotalXL,TotalL,TotalM,TotalS,TotalStations] -->
						<set_value name="$EcoStrengthTable" exact="table[]"/>
						<do_for_each name="$LocFaction" in="$FactionList">
							<do_if value="$LocFaction.isactive">
								<set_value name="$EcoStrengthTable.{$LocFaction}" exact="[0,0,0,0,0,0]"/>
								<include_actions ref="Library_GetEcoStrength"/>
							</do_if>
						</do_for_each>
						<set_value name="$SortedFactionList" exact="$EcoStrengthTable.keys.list"/>
						<sort_list list="$SortedFactionList" sortbyvalue="loop.element.knownname"/>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1" comment="Ship Counts">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddEcoStrengthRow"/>
							</do_for_each>
						</do_if>
						<do_elseif value="$DAMVT.$InfoEcoDisplayOption == 2" comment="Count history">
							<do_for_each name="$LocFaction" in="$SortedFactionList">
								<include_actions ref="Library_AddEcoStrengthHistoryRow"/>
							</do_for_each>
						</do_elseif>
						<do_if value="not $DAMVT.$DWEcoStrengthHistory.$Galaxy?">
							<set_value name="$DAMVT.$DWEcoStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
						</do_if>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1" comment="Ship Counts">
							<include_actions ref="Library_AddStrengthSummaryRow"/>
						</do_if>
						<do_elseif value="$DAMVT.$InfoEcoDisplayOption == 2" comment="Count history">
							<include_actions ref="Library_AddEcoStrengthHistorySummaryRow"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and (($DAMVT.$DWEcoStrengthHistory.$Galaxy.{1} + 5s) le player.age)">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.$Galaxy" exact="[player.age,$LocGalaxyTotal.{1},$LocGalaxyTotal.{2},$LocGalaxyTotal.{3},$LocGalaxyTotal.{4},$LocGalaxyTotal.{5},$LocGalaxyTotal.{6}]"/>
							</do_if>
							<do_for_each name="$LocFaction" in="$EcoStrengthTable.keys.list">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and (($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{1} + 5s) le player.age)">
									<set_value name="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}" exact="[player.age,$EcoStrengthTable.{$LocFaction}.{1},$EcoStrengthTable.{$LocFaction}.{2},$EcoStrengthTable.{$LocFaction}.{3},$EcoStrengthTable.{$LocFaction}.{4},$EcoStrengthTable.{$LocFaction}.{5},$EcoStrengthTable.{$LocFaction}.{6}]"/>
								</do_if>
							</do_for_each>
						</do_elseif>
						<remove_value name="$LocGalaxyTotal"/>
						<remove_value name="$EcoStrengthTable"/>
						<remove_value name="$SortedFactionList"/>
						<remove_value name="$LocText"/>
					</actions>
				</cue>
				<!-- Parts of this code was done by SirNukes, all credit given -->
				<!-- TODO: Some analytical statements or hints about what would be good to check -->
				<cue name="Menu_Information_EconDetails" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$wares_existing" exact="table[]"/>
						<set_value name="$wares_wanted" exact="table[]"/>
						<find_station_by_true_owner groupname="$stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<find_object groupname="$buildstorages" owner="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" class="class.buildstorage" multiple="true"/>
						<!--Add build storage modules for each station; these are also containers with their own cargo/etc data.-->
						<do_for_each name="$station" in="$stations">
							<do_if value="($station.buildstorage?) and ($station.buildstorage != null) and (not $buildstorages.indexof.{$station.buildstorage})">
								<add_to_group groupname="$buildstorages" object="$station.buildstorage"/>
							</do_if>
						</do_for_each>
						<add_to_group groupname="$stations" group="$buildstorages"/>
						<remove_value name="$buildstorages"/>
						<!--Main loop to gather info.-->
						<do_for_each name="$cont" in="$stations">
							<do_if value="($cont.isclass.buildstorage) and (@$cont.base.iswreck or (not (@$cont.base.hasplannedconstruction or @$cont.base.isoperational)))">
								<continue/>
							</do_if>
							<!--Go through resources.-->
							<do_for_each name="$ware" in="$cont.resources.list">
								<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
							</do_for_each>
							<!--Go through products.-->
							<do_for_each name="$ware" in="$cont.products.list">
								<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<!-- 20240717 Adding half of target amount for production stations better represents the goal of producers having 50% stock -->
								<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target / 2" operation="add"/>
							</do_for_each>
							<!--Tradewares are those that are not product or resource.-->
							<do_for_each name="$ware" in="$cont.tradewares.list">
								<set_value name="$wares_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<set_value name="$wares_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
							</do_for_each>
						</do_for_each>
						<remove_value name="$stations"/>
						<!--Add all trade ships. -->
						<find_ship_by_true_owner groupname="$ships" faction="$DAMVT.$DAMenuSelectedFaction" multiple="true" masstraffic="false" space="player.galaxy" functional="true"/>
						<do_for_each name="$ship" in="$ships">
							<do_for_each name="$ware" valuename="$amount" in="$ship.cargo.table">
								<set_value name="$wares_existing.{$ware}" exact="$amount" operation="add"/>
								<set_value name="$wares_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
						</do_for_each>
						<remove_value name="$ships"/>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,45}, $halign = 'left', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = ('%s / %s'.[{1001,1406},{1001,2903}]), $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 6, $text = ('%s / %s / %s'.[{33232474,2401},{33232474,2402},{33232474,2403}]), $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$ware" valuename="$wanted" in="$wares_wanted">
							<set_value name="$exists" exact="$wares_existing.{$ware}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $ware.name, $halign = 'left']"/>
							<set_value name="$LocStart" exact="$wanted"/>
							<set_value name="$LocCurrent" exact="$exists"/>
							<set_value name="$LocMax" exact="[$exists,$wanted].max"/>
							<!-- Colors by deadair -->
							<set_value name="$vcolor" exact="$DAMVT.$FillBlue"/>
							<set_value name="$pcolor" exact="$DAMVT.$FillGreen"/>
							<set_value name="$ncolor" exact="$DAMVT.$FillRed"/>
							<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							<do_if value="$wanted gt 0">
								<set_value name="$LocPercent" exact="'%,s%%'.[((($exists)f / ([$wanted,1.0].max)f) * 100.0)]"/>
							</do_if>
							<do_else>
								<set_value name="$LocPercent" exact="{1001,19}"/>
							</do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 2, $text = $LocPercent, $halign = 'center']"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 7, 
									$colSpan		= 6,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $LocStart,
									$current		= $LocCurrent,
									$max			= $LocMax,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText = '%s: %s / %s: %s'.[{1001,1406},$exists,{1001,2903},$wanted],
								]"/>
						</do_for_each>
					</actions>
				</cue>
				<!-- Parts of this code was done by SirNukes, all credit given -->
				<!-- TODO: Some analytical statements or hints about what would be good to check -->
				<cue name="Menu_Information_ResourceFullness" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$res_existing" exact="table[]"/>
						<set_value name="$res_wanted" exact="table[]"/>
						<set_value name="$pro_existing" exact="table[]"/>
						<set_value name="$pro_wanted" exact="table[]"/>
						<!--Get all stations and their build storage. -->
						<find_station_by_true_owner groupname="$stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<find_object groupname="$buildstorages" owner="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" class="class.buildstorage" multiple="true"/>
						<!--Add build storage modules for each station; these are also containers with their own cargo/etc data.-->
						<do_for_each name="$station" in="$stations">
							<do_if value="$station.buildstorage? and $station.buildstorage != null and (not $buildstorages.indexof.{$station.buildstorage})">
								<add_to_group groupname="$buildstorages" object="$station.buildstorage"/>
							</do_if>
						</do_for_each>
						<add_to_group groupname="$stations" group="$buildstorages"/>
						<remove_value name="$buildstorages"/>
						<!--Main loop to gather info.-->
						<do_for_each name="$cont" in="$stations">
							<!--Go through resources.-->
							<do_for_each name="$ware" in="$cont.resources.list">
								<set_value name="$res_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<set_value name="$res_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								<set_value name="$pro_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$pro_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
							<!--Go through products.-->
							<do_for_each name="$ware" in="$cont.products.list">
								<set_value name="$res_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$res_wanted.{$ware}" exact="0" operation="add"/>
								<set_value name="$pro_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<set_value name="$pro_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
							</do_for_each>
							<!-- Tradewares -->
							<do_for_each name="$ware" in="$cont.tradewares.list">
								<set_value name="$res_existing.{$ware}" exact="$cont.cargo.{$ware}.count" operation="add"/>
								<set_value name="$res_wanted.{$ware}" exact="$cont.cargo.{$ware}.target" operation="add"/>
								<set_value name="$pro_existing.{$ware}" exact="0" operation="add"/>
								<set_value name="$pro_wanted.{$ware}" exact="0" operation="add"/>
							</do_for_each>
						</do_for_each>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- Ware -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,45}, $halign = 'left', $cellBGColor = 'Color.row_title_background']"/>
						<!--Production-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {33232474,2404}, $mouseover = {1001,1406} + '/' + {1001,2903}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<!--Consumption-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = {33232474,2405}, $mouseover = {1001,1406} + '/' + {1001,2903}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$ware" in="$res_wanted">
							<set_value name="$res_output" exact="$res_existing.{$ware}"/>
							<set_value name="$rescap_output" exact="$res_wanted.{$ware}"/>
							<set_value name="$pro_output" exact="$pro_existing.{$ware}"/>
							<set_value name="$procap_output" exact="$pro_wanted.{$ware}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $ware.name, $halign = 'left']"/>
							<!-- Production -->
							<do_if value="$procap_output == 0">
								<set_value name="$vcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_if>
							<do_else>
								<set_value name="$vcolor" exact="$DAMVT.$FillBlue"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillBlue"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillRed"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_else>
							<do_if value="$procap_output">
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 5, 
									$colSpan		= 4,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $procap_output,
									$current		= $pro_output,
									$max			= $procap_output,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText = '%s: %s / %s: %s'.[{1001,1406},$pro_output,{1001,8393},$procap_output],
								]"/>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $halign = 'center', $text = {1001,9}]"/>
							</do_else>
							<!-- Consumption -->
							<do_if value="$rescap_output == 0">
								<set_value name="$vcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillTransparent"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_if>
							<do_else>
								<set_value name="$vcolor" exact="$DAMVT.$FillBlue"/>
								<set_value name="$pcolor" exact="$DAMVT.$FillBlue"/>
								<set_value name="$ncolor" exact="$DAMVT.$FillRed"/>
								<set_value name="$mcolor" exact="$DAMVT.$MarkerTransparent"/>
							</do_else>
							<do_if value="$rescap_output">
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
									$col			= 9, 
									$colSpan		= 4,
									$scaling		= true,
									$type			= 'statusbar',
									$start			= $rescap_output,
									$current		= $res_output,
									$max			= $rescap_output,
									$valueColor		= $vcolor,
									$posChangeColor	= $pcolor,
									$negChangeColor	= $ncolor,
									$markerColor	= $mcolor,
									$mouseOverText = '%s: %s / %s: %s'.[{1001,1406},$res_output,{1001,8393},$rescap_output],
								]"/>
							</do_if>
							<do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $halign = 'center', $text = {1001,9}]"/>
							</do_else>
						</do_for_each>
					</actions>
				</cue>
				<cue name="Menu_Information_ProductionCount" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$ModuleTable" exact="table[]"/>
						<set_value name="$PlannedModuleTable" exact="table[]"/>
						<set_value name="$MacroList" exact="[]"/>
						<find_station_by_true_owner groupname="$Stations" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" multiple="true"/>
						<do_for_each name="$Station" in="$Stations">
							<set_value name="$StationModules" exact="$Station.modules.operational.list"/>
							<do_for_each name="$Module" in="$StationModules">
								<do_if value="$Module.macro.isclass.production">
									<set_value name="$ModuleTable.{$Module.macro}" exact="1" operation="add"/>
									<do_if value="not $MacroList.indexof.{$Module.macro}">
										<append_to_list name="$MacroList" exact="$Module.macro"/>
									</do_if>
								</do_if>
							</do_for_each>
							<set_value name="$PlannedModules" exact="$Station.plannedconstruction.sequence"/>
							<do_all exact="$PlannedModules.count" counter="$M">
								<do_if value="$PlannedModules.{$M}.macro.isclass.production">
									<set_value name="$PlannedModuleTable.{$PlannedModules.{$M}.macro}" exact="1" operation="add"/>
									<do_if value="not $MacroList.indexof.{$PlannedModules.{$M}.macro}">
										<append_to_list name="$MacroList" exact="$PlannedModules.{$M}.macro"/>
									</do_if>
								</do_if>
							</do_all>
							<remove_value name="$StationModules"/>
							<remove_value name="$PlannedModules"/>
						</do_for_each>
						<sort_list list="$MacroList" sortbyvalue="loop.element.name"/>
						<remove_value name="$Stations"/>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!--Header row.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,56}, $halign = 'left', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {1001,1311}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = {1001,8433}, $halign = 'center', $cellBGColor = 'Color.row_title_background']"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!--Create the menu rows.-->
						<do_for_each name="$Macro" in="$MacroList">
							<do_if value="$ModuleTable.keys.list.indexof.{$Macro} or $PlannedModuleTable.keys.list.indexof.{$Macro}">
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $Macro.name, $halign = 'left']"/>
								<do_if value="$ModuleTable.{$Macro}?">
									<set_value name="$OperationalCount" exact="$ModuleTable.{$Macro}"/>
								</do_if>
								<do_else>
									<set_value name="$OperationalCount" exact="0"/>
								</do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = ('%s %s'.[$OperationalCount,{1001,1311}]), $halign = 'center']" comment="Number Operational"/>
								<do_if value="$ModuleTable.{$Macro}? and $PlannedModuleTable.{$Macro}?">
									<do_if value="$ModuleTable.{$Macro} ge $PlannedModuleTable.{$Macro}">
										<set_value name="$PlannedCount" exact="0"/>
									</do_if>
									<do_elseif value="$PlannedModuleTable.{$Macro} gt $ModuleTable.{$Macro}">
										<set_value name="$PlannedCount" exact="$PlannedModuleTable.{$Macro} - $ModuleTable.{$Macro}"/>
									</do_elseif>
								</do_if>
								<do_elseif value="$PlannedModuleTable.{$Macro}?">
									<set_value name="$PlannedCount" exact="$PlannedModuleTable.{$Macro}"/>
								</do_elseif>
								<do_else>
									<set_value name="$PlannedCount" exact="0"/>
								</do_else>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = ('%s %s'.[$PlannedCount,{1001,8433}]), $halign = 'center']" comment="Number Planned Modules"/>
								<remove_value name="$OperationalCount"/>
								<remove_value name="$PlannedCount"/>
							</do_if>
						</do_for_each>
						<remove_value name="$ModuleTable"/>
						<remove_value name="$PlannedModuleTable"/>
						<remove_value name="$MacroList"/>
					</actions>
				</cue>
				<cue name="Menu_Information_TraderProfit" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="not $DADVT?">
							<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						</do_if>
						<do_if value="not $DAGVT?">
							<set_value name="$DAGVT" exact="global.$DAVarTable"/>
						</do_if>
						<do_if value="not $DAMVT?">
							<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 9,
								$text = {33232474,407},
								$mouseOverText = {33232474,1407}
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
								$col = 10, 
								$colSpan = 3,
								$text = table[
								  $text   =  if $DAGVT.$DATPEnable then {1001,4825} else {1001,8942}, 
								  $color  =  if $DAGVT.$DATPEnable then $DAMVT.$TextGreen else $DAMVT.$TextRed,
								  $halign = 'center',
								],
								$mouseOverText = {33232474,1407},
								$onClick = ExecuteOption_TPEnable,
								$onRightClick = ExecuteOption_TPEnable
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 9,
								$text = {1001,2906}
							]"/>
						<do_if value="$DAGVT.$DATPEnable">
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Button" param="table[
									$col = 10, 
									$colSpan = 3,
									$text = table[
									  $text   =  if $DAMVT.$TPSortByName then {1001,2809} else {33232474,2406}, 
									  $color  =  $DAMVT.$TextGreen,
									  $halign = 'center',
									],
									$onClick = ExecuteOption_TPSortByNameEnable,
									$onRightClick = ExecuteOption_TPSortByNameEnable,
								]"/>
						</do_if>
						<do_else>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 10,
									$colSpan = 3,
									$text = {1001,8942},
									$halign = 'right',
								]"/>
						</do_else>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<do_if value="$DAGVT.$DATPEnable and (($DAGVT.$DATPTraderTable? and $DAGVT.$DATPTraderTable.keys.count) or (global.$DALifetimeGrofit? and global.$DALifetimeGrofit.keys.count))">
							<!-- Calculations first, then menu -->
							<set_value name="$LocKeyList" exact="[]"/>
							<set_value name="$OutputTable" exact="table[]"/>
							<set_value name="$LocMax" exact="0Cr"/>
							<set_value name="$LocMin" exact="0Cr"/>
							<set_value name="$LocMinToZero" exact="0Cr"/>
							<do_if value="$DAGVT.$DATPTraderTable? and ($DAGVT.$DATPTraderTable.keys.count gt 0)">
								<do_for_each name="$LocObject" in="$DAGVT.$DATPTraderTable.keys.list">
									<do_if value="not $OutputTable.{$LocObject}?">
										<set_value name="$OutputTable.{$LocObject}" exact="[0Cr,1s]"/>
									</do_if>
									<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1}?">
										<set_value name="$OutputTable.{$LocObject}.{1}" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1} gt $LocMax">
											<set_value name="$LocMax" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										</do_if>
										<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{1} lt $LocMin">
											<set_value name="$LocMin" exact="$DAGVT.$DATPTraderTable.{$LocObject}.{1}"/>
										</do_if>
									</do_if>
									<do_if value="$DAGVT.$DATPTraderTable.{$LocObject}.{2}?">
										<set_value name="$OutputTable.{$LocObject}.{2}" exact="[player.age - $DAGVT.$DATPTraderTable.{$LocObject}.{2},1s].max"/>
									</do_if>
								</do_for_each>
							</do_if>
							<do_if value="global.$DALifetimeGrofit? and (global.$DALifetimeGrofit.keys.count gt 0)">
								<do_for_each name="$LocShip" in="global.$DALifetimeGrofit.keys.list">
									<do_if value="not $OutputTable.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}" exact="[0Cr,1s]"/>
									</do_if>
									<do_if value="global.$DALifetimeGrofit.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}.{1}" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										<do_if value="global.$DALifetimeGrofit.{$LocShip} gt $LocMax">
											<set_value name="$LocMax" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										</do_if>
										<do_if value="global.$DALifetimeGrofit.{$LocShip} lt $LocMin">
											<set_value name="$LocMin" exact="global.$DALifetimeGrofit.{$LocShip}"/>
										</do_if>
									</do_if>
									<do_if value="global.$DATaterStartTimes.{$LocShip}?">
										<set_value name="$OutputTable.{$LocShip}.{2}" exact="[player.age - global.$DATaterStartTimes.{$LocShip},1s].max"/>
									</do_if>
								</do_for_each>
							</do_if>
							<do_if value="$OutputTable.keys.count" min="1">
								<set_value name="$LocKeyList" exact="$OutputTable.keys.list"/>
								<!-- Header -->
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,5}, $halign = 'left']"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {33232474,2406}, $halign = 'center']"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = {33232474,2408}, $halign = 'center']"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
								<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
										$col = 1, 
										$colSpan = event.param.$columns,
										$height = 2,
										$fontsize = 1,
										$cellBGColor = 'Color.row_separator',
									]"/>
								<do_if value="$DAMVT.$TPSortByName">
									<sort_list list="$LocKeyList" sortbyvalue="loop.element.knownname" sortdescending="false"/>
								</do_if>
								<do_else>
									<sort_list list="$LocKeyList" sortbyvalue="$OutputTable.{loop.element}.{1}" sortdescending="true"/>
								</do_else>
								<do_if value="$LocMin lt $LocMinToZero">
									<set_value name="$LocMinToZero" exact="0 - $LocMin"/>
								</do_if>
								<do_for_each name="$LocObject" in="$LocKeyList">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<set_value name="$LocName" exact="'%s(%s)'.[$LocObject.knownname,$LocObject.idcode]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $LocName, $halign = 'left']"/>
									<remove_value name="$LocName"/>
									<set_value name="$LocText" exact="$OutputTable.{$LocObject}.{1}.formatted.default"/>
									<do_if value="$OutputTable.{$LocObject}.{1} gt 0">
										<set_value name="$VColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$PColor" exact="$DAMVT.$FillGreen"/>
										<set_value name="$NColor" exact="$DAMVT.$FillRed"/>
									</do_if>
									<do_else>
										<set_value name="$VColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$PColor" exact="$DAMVT.$FillTransparent"/>
										<set_value name="$NColor" exact="$DAMVT.$FillRed"/>
									</do_else>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_StatusBar" param="table[
											$col			= 5, 
											$colSpan		= 4,
											$scaling		= true,
											$type			= 'statusbar',
											$start			= $LocMinToZero,
											$current		= $OutputTable.{$LocObject}.{1} + $LocMinToZero,
											$max			= $LocMax + $LocMinToZero,
											$mouseOverText	= $LocText,
											$valueColor		= $VColor,
											$posChangeColor	= $PColor,
											$negChangeColor	= $NColor,
											$markerColor	= $DAMVT.$MarkerTransparent,
										]"/>
									<remove_value name="$LocText"/>
									<remove_value name="$VColor"/>
									<remove_value name="$PColor"/>
									<remove_value name="$NColor"/>
									<set_value name="$LocNumber" exact="(($OutputTable.{$LocObject}.{1} / 100.0)f / (($OutputTable.{$LocObject}.{2})f / 3600.0))Cr"/>
									<set_value name="$LocText" exact="'%s %s / %s'.[$LocNumber.formatted.default,{1001,101},{1001,102}]"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 9, $colSpan = 4, $text = $LocText, $halign = 'center']"/>
									<remove_value name="$LocNumber"/>
									<remove_value name="$LocText"/>
								</do_for_each>
							</do_if>
							<remove_value name="$LocKeyList"/>
							<remove_value name="$OutputTable"/>
							<remove_value name="$LocMax"/>
							<remove_value name="$LocMin"/>
							<remove_value name="$LocMinToZero"/>
						</do_if>
						<do_else>
							<!-- No data yet! -->
						</do_else>
					</actions>
				</cue>
				<cue name="Menu_Information_ShipBreakdown" instantiate="true" namespace="this">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$DADVT" exact="md.$DADynamicVarTable"/>
						<set_value name="$DAMVT" exact="md.$DAMenuVarTable"/>
						<do_if value="$DAMVT.$DAMenuSelectedFaction == null">
							<set_value name="$DAMVT.$DAMenuSelectedFaction" exact="$FactionList.{1}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
						<set_value name="$PurposeTable" exact="table[]"/>
						<set_value name="$MacroTable" exact="table[]"/>
						<set_value name="$EquipmentTable" exact="table[]"/>
						<!-- Owner: $DAMVT.$DAMenuSelectedFaction -->
						<find_ship_by_true_owner groupname="$AllShips" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
							<match shiptype="shiptype.lasertower" negate="true"/>
						</find_ship_by_true_owner>
						<find_ship_by_true_owner groupname="$AllShips" faction="$DAMVT.$DAMenuSelectedFaction" space="player.galaxy" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
							<match shiptype="shiptype.lasertower" negate="true"/>
						</find_ship_by_true_owner>
						<!-- Process data -->
						<do_for_each name="$Ship" in="$AllShips">
							<!-- PURPOSE -->
							<do_if value="not $PurposeTable.{$Ship.primarypurpose}?">
								<set_value name="$PurposeTable.{$Ship.primarypurpose}" exact="[$Ship,0,0,0,0]" comment="[$ExampleShip,XL,L,M,S]"/>
							</do_if>
							<do_if value="$PurposeTable.{$Ship.primarypurpose}?">
								<do_if value="$Ship.isclass.ship_xl">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{2}" exact="1" operation="add"/>
								</do_if>
								<do_elseif value="$Ship.isclass.ship_l">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{3}" exact="1" operation="add"/>
								</do_elseif>
								<do_elseif value="$Ship.isclass.ship_m">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{4}" exact="1" operation="add"/>
								</do_elseif>
								<do_elseif value="$Ship.isclass.ship_s">
									<set_value name="$PurposeTable.{$Ship.primarypurpose}.{5}" exact="1" operation="add"/>
								</do_elseif>
							</do_if>
							<!-- MACRO -->
							<do_if value="not $MacroTable.{$Ship.macro}?">
								<set_value name="$MacroTable.{$Ship.macro}" exact="[$Ship,1]" comment="[$ExampleShip,count]"/>
							</do_if>
							<do_elseif value="$MacroTable.{$Ship.macro}?">
								<set_value name="$MacroTable.{$Ship.macro}.{2}" exact="1" operation="add"/>
							</do_elseif>
							<!-- Will add equipment info later -->
						</do_for_each>
						<set_value name="$WhatFactions" exact="'DetailView'"/>
						<include_actions ref="Library_DAMenuAddFactionDropdown"/>
						<!-- PURPOSE HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = {1001,86}, $halign = 'center', $cellBGColor = 'Color.row_title_background']" comment="Specialisation"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- 1-3,4,5,6,7,8 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = {1001,9199}, $halign = 'left']" comment="Object Purpose"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = {1001,2637}, $halign = 'center']" comment="Total"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 1, $text = {1001,48}, $halign = 'center']" comment="XL"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 6, $colSpan = 1, $text = {1001,49}, $halign = 'center']" comment="L"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 7, $colSpan = 1, $text = {1001,50}, $halign = 'center']" comment="M"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 8, $colSpan = 1, $text = {1001,51}, $halign = 'center']" comment="S"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- PURPOSE BODY -->
						<set_value name="$PurposeKeys" exact="[purpose.fight,purpose.auxiliary,purpose.trade,purpose.build,purpose.mine,purpose.salvage,purpose.dismantling]"/>
						<set_value name="$PurposeKeysText" exact="[300,1500,200,400,500,1800,1900]" comment="Page 20213"/>
						<do_for_each name="$PurposeKey" in="$PurposeKeys" counter="$A">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<set_value name="$LocText" exact="readtext.{20213}.{$PurposeKeysText.{$A}}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 3, $text = $LocText, $halign = 'left']"/>
							<do_if value="$PurposeTable.{$PurposeKey}?">
								<set_value name="$LocTotal" exact="$PurposeTable.{$PurposeKey}.{2} + $PurposeTable.{$PurposeKey}.{3} + $PurposeTable.{$PurposeKey}.{4} + $PurposeTable.{$PurposeKey}.{5}"/>
								<do_if value="$LocTotal gt 0">
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 4, $colSpan = 1, $text = $LocTotal, $halign = 'center']" comment="Total"/>
									<do_all exact="4" counter="$B">
										<do_if value="$PurposeTable.{$PurposeKey}.{$B + 1}? and ($PurposeTable.{$PurposeKey}.{$B + 1} gt 0)">
											<set_value name="$LocCol" exact="4 + $B"/>
											<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = $LocCol, $colSpan = 1, $text = $PurposeTable.{$PurposeKey}.{$B + 1}, $halign = 'center']" comment="Dynamic Output"/>
											<remove_value name="$LocCol"/>
										</do_if>
									</do_all>
								</do_if>
								<remove_value name="$LocTotal"/>
							</do_if>
							<remove_value name="$LocText"/>
						</do_for_each>
						<remove_value name="$PurposeKeys"/>
						<remove_value name="$PurposeKeysText"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- MACROS HEADER -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = {1001,2303}, $halign = 'center', $cellBGColor = 'Color.row_title_background']" comment="Ship Types"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<!-- 1-4,5-8 -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = {1001,5}, $halign = 'left']" comment="Ship"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = {1001,2637}, $halign = 'center']" comment="Total"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<!-- MACROS BODY -->
						<set_value name="$SizeKeys" exact="[class.ship_xl,class.ship_l,class.ship_m,class.ship_s]"/>
						<set_value name="$SizeKeysText" exact="[48,49,50,51]"/>
						<do_for_each name="$Key" in="$SizeKeys" counter="$A">
							<set_value name="$LocText" exact="readtext.{1001}.{$SizeKeysText.{$A}}"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 2,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = event.param.$columns, $text = $LocText, $halign = 'center']"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
									$col = 1, 
									$colSpan = event.param.$columns,
									$height = 1,
									$fontsize = 1,
									$cellBGColor = 'Color.row_separator',
								]"/>
							<remove_value name="$LocText"/>
							<set_value name="$MacroList" exact="$MacroTable.keys.list"/>
							<sort_list list="$MacroList" sortbyvalue="$MacroTable.{loop.element}.{1}.macro.name"/>
							<do_for_each name="$Macro" in="$MacroList">
								<do_if value="$MacroTable.{$Macro}? and $Macro.isclass.{$Key}">
									<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
									<set_value name="$LocText" exact="$MacroTable.{$Macro}.{1}.macro.name" comment="Overly complicated"/>
									<set_value name="$LocCount" exact="$MacroTable.{$Macro}.{2}"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 1, $colSpan = 4, $text = $LocText, $halign = 'left']" comment="Ship"/>
									<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[$col = 5, $colSpan = 4, $text = $LocCount, $halign = 'center']" comment="Total"/>
									<remove_value name="$LocText"/>
									<remove_value name="$LocCount"/>
								</do_if>
							</do_for_each>
						</do_for_each>
						<remove_value name="$SizeKeys"/>
						<remove_value name="$SizeKeysText"/>
						<remove_value name="$PurposeTable"/>
						<remove_value name="$MacroTable"/>
						<remove_value name="$EquipmentTable"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_InfoMilStrengthDisplay" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$InfoMilDisplayOption == 1">
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="2"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$InfoMilDisplayOption" exact="1"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Info -- Updated $DAMVT.$InfoMilDisplayOption to %s'.[$DAMVT.$InfoMilDisplayOption]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_InfoEcoStrengthDisplay" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$InfoEcoDisplayOption == 1">
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="2"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$InfoEcoDisplayOption" exact="1"/>
						</do_else>
						<debug_text text="'MOD: DAMenus Info -- Updated $DAMVT.$InfoEcoDisplayOption to %s'.[$DAMVT.$InfoEcoDisplayOption]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_TPEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAGVT.$DATPEnable">
							<set_value name="$DAGVT.$DATPEnable" exact="false"/>
							<set_value name="$DAGVT.$DATPTraderTable" exact="table[]"/>
						</do_if>
						<do_else>
							<set_value name="$DAGVT.$DATPEnable" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus TP -- Updated $DAGVT.$DATPEnable to %s'.[$DAGVT.$DATPEnable]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<cue name="ExecuteOption_TPSortByNameEnable" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<do_if value="$DAMVT.$TPSortByName">
							<set_value name="$DAMVT.$TPSortByName" exact="false"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.$TPSortByName" exact="true"/>
						</do_else>
						<debug_text text="'MOD: DAMenus TP -- Updated $DAMVT.$TPSortByName to %s'.[$DAMVT.$TPSortByName]" context="false" filter="scripts" chance="$DAMVT.$DAMenuDebugEnable * 100"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
					</actions>
				</cue>
				<!-- Information Libraries -->
				<library name="Library_GetMilStrength">
					<actions>
						<do_if value="$LocFaction">
							<!-- Find ships -->
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.fight"/>
									<match primarypurpose="purpose.auxiliary"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<!-- Add to AllShips -->
							<create_group groupname="$AllShips"/>
							<add_to_group groupname="$AllShips" group="$XLShips"/>
							<add_to_group groupname="$AllShips" group="$LShips"/>
							<add_to_group groupname="$AllShips" group="$MShips"/>
							<add_to_group groupname="$AllShips" group="$SShips"/>
							<!-- Threatscore -->
							<set_value name="$TotalThreatScore" exact="0"/>
							<do_if value="$AllShips? and $AllShips.count">
								<do_for_each name="$LocShip" in="$AllShips">
									<set_value name="$TotalThreatScore" exact="$LocShip.threatscore" operation="add"/>
								</do_for_each>
							</do_if>
							<!-- Add data to tables+lists -->
							<set_value name="$LocGalaxyTotal.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{6}" exact="$TotalThreatScore" operation="add"/>
							<set_value name="$MilStrengthTable.{$LocFaction}.{6}" exact="$TotalThreatScore" operation="add"/>
							<!-- Strength History -->
							<do_if value="not $DAMVT.$DWMilStrengthHistory.{$LocFaction}?">
								<set_value name="$DAMVT.$DWMilStrengthHistory.{$LocFaction}" exact="[player.age,$AllShips.count,$XLShips.count,$LShips.count,$MShips.count,$SShips.count,$TotalThreatScore]"/>
							</do_if>
							<remove_value name="$XLShips"/>
							<remove_value name="$LShips"/>
							<remove_value name="$MShips"/>
							<remove_value name="$SShips"/>
							<remove_value name="$AllShips"/>
							<remove_value name="$TotalThreatScore"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_GetEcoStrength">
					<actions>
						<do_if value="$LocFaction">
							<!-- Find ships -->
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$XLShips" faction="$LocFaction" space="player.galaxy" class="class.ship_xl" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$LShips" faction="$LocFaction" space="player.galaxy" class="class.ship_l" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$MShips" faction="$LocFaction" space="player.galaxy" class="class.ship_m" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="false" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner groupname="$SShips" faction="$LocFaction" space="player.galaxy" class="class.ship_s" checkoperational="true" masstraffic="false" unit="false" docked="true" multiple="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.trade"/>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
								<match shiptype="shiptype.lasertower" negate="true"/>
							</find_ship_by_true_owner>
							<!-- Stations -->
							<find_station_by_true_owner groupname="$Stations" faction="$LocFaction" space="player.galaxy" checkoperational="true" multiple="true"/>
							<!-- Add to AllShips -->
							<create_group groupname="$AllShips"/>
							<add_to_group groupname="$AllShips" group="$XLShips"/>
							<add_to_group groupname="$AllShips" group="$LShips"/>
							<add_to_group groupname="$AllShips" group="$MShips"/>
							<add_to_group groupname="$AllShips" group="$SShips"/>
							<!-- Add data to tables+lists -->
							<set_value name="$LocGalaxyTotal.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{1}" exact="$AllShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{2}" exact="$XLShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{3}" exact="$LShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{4}" exact="$MShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{5}" exact="$SShips.count" operation="add"/>
							<set_value name="$LocGalaxyTotal.{6}" exact="$Stations.count" operation="add"/>
							<set_value name="$EcoStrengthTable.{$LocFaction}.{6}" exact="$Stations.count" operation="add"/>
							<!-- Strength History -->
							<do_if value="not $DAMVT.$DWEcoStrengthHistory.{$LocFaction}?">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}" exact="[player.age,$AllShips.count,$XLShips.count,$LShips.count,$MShips.count,$SShips.count,$Stations.count]"/>
							</do_if>
							<remove_value name="$XLShips"/>
							<remove_value name="$LShips"/>
							<remove_value name="$MShips"/>
							<remove_value name="$SShips"/>
							<remove_value name="$AllShips"/>
							<remove_value name="$Stations"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddMilStrengthRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = $LocFaction.knownname,
								$halign = 'left',
								]"/>
							<!-- Total: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$text = $MilStrengthTable.{$LocFaction}.{1},
								$halign = 'center',
								]"/>
							<!-- XL: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 1,
								$text = $MilStrengthTable.{$LocFaction}.{2},
								$halign = 'center',
								]"/>
							<!-- L: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 6,
								$colSpan = 1,
								$text = $MilStrengthTable.{$LocFaction}.{3},
								$halign = 'center',
								]"/>
							<!-- M: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 7,
								$colSpan = 1,
								$text = $MilStrengthTable.{$LocFaction}.{4},
								$halign = 'center',
								]"/>
							<!-- S: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = $MilStrengthTable.{$LocFaction}.{5},
								$halign = 'center',
								]"/>
							<!-- Threatscore: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 9,
								$colSpan = 2,
								$text = $MilStrengthTable.{$LocFaction}.{6},
								$halign = 'center',
								]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = $LocFaction.knownname,
								$halign = 'left',
								]"/>
							<!-- Total: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$text = $EcoStrengthTable.{$LocFaction}.{1},
								$halign = 'center',
								]"/>
							<!-- XL: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 1,
								$text = $EcoStrengthTable.{$LocFaction}.{2},
								$halign = 'center',
								]"/>
							<!-- L: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 6,
								$colSpan = 1,
								$text = $EcoStrengthTable.{$LocFaction}.{3},
								$halign = 'center',
								]"/>
							<!-- M: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 7,
								$colSpan = 1,
								$text = $EcoStrengthTable.{$LocFaction}.{4},
								$halign = 'center',
								]"/>
							<!-- S: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = $EcoStrengthTable.{$LocFaction}.{5},
								$halign = 'center',
								]"/>
							<!-- Threatscore: # -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 9,
								$colSpan = 2,
								$text = $EcoStrengthTable.{$LocFaction}.{6},
								$halign = 'center',
								]"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddStrengthSummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 1,
							$colSpan = 3,
							$text = {1001,9191},
							$halign = 'left',
							]"/>
						<!-- Total: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 4,
							$colSpan = 1,
							$text = $LocGalaxyTotal.{1},
							$halign = 'center',
							]"/>
						<!-- XL: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 5,
							$colSpan = 1,
							$text = $LocGalaxyTotal.{2},
							$halign = 'center',
							]"/>
						<!-- L: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 6,
							$colSpan = 1,
							$text = $LocGalaxyTotal.{3},
							$halign = 'center',
							]"/>
						<!-- M: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 7,
							$colSpan = 1,
							$text = $LocGalaxyTotal.{4},
							$halign = 'center',
							]"/>
						<!-- S: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 8,
							$colSpan = 1,
							$text = $LocGalaxyTotal.{5},
							$halign = 'center',
							]"/>
						<!-- Threatscore: # -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 9,
							$colSpan = 2,
							$text = $LocGalaxyTotal.{6},
							$halign = 'center',
							]"/>
					</actions>
				</library>
				<library name="Library_AddMilStrengthHistoryRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = $LocFaction.knownname,
								$halign = 'left',
								]"/>
							<!-- Total: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2} != $MilStrengthTable.{$LocFaction}.{1})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2} gt $MilStrengthTable.{$LocFaction}.{1}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{2}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- XL: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3} != $MilStrengthTable.{$LocFaction}.{2})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3} gt $MilStrengthTable.{$LocFaction}.{2}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{3}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- L: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4} != $MilStrengthTable.{$LocFaction}.{3})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4} gt $MilStrengthTable.{$LocFaction}.{3}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{4}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 6,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- M: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5} != $MilStrengthTable.{$LocFaction}.{4})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5} gt $MilStrengthTable.{$LocFaction}.{4}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{5}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 7,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- S: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6} != $MilStrengthTable.{$LocFaction}.{5})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6} gt $MilStrengthTable.{$LocFaction}.{5}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{6}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- Threatscore: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}? and ($DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7} != $MilStrengthTable.{$LocFaction}.{6})">
								<do_if value="$DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7} gt $MilStrengthTable.{$LocFaction}.{6}">
									<set_value name="$LocText" exact="'%s'.[$MilStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$MilStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWMilStrengthHistory.{$LocFaction}.{7}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 9,
								$colSpan = 2,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthHistoryRow">
					<actions>
						<do_if value="$LocFaction">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- Faction knownname -->
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$text = $LocFaction.knownname,
								$halign = 'left',
								]"/>
							<!-- Total: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2} != $EcoStrengthTable.{$LocFaction}.{1})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2} gt $EcoStrengthTable.{$LocFaction}.{1}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{1} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{2}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- XL: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3} != $EcoStrengthTable.{$LocFaction}.{2})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3} gt $EcoStrengthTable.{$LocFaction}.{2}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{2} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{3}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- L: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4} != $EcoStrengthTable.{$LocFaction}.{3})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4} gt $EcoStrengthTable.{$LocFaction}.{3}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{3} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{4}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 6,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- M: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5} != $EcoStrengthTable.{$LocFaction}.{4})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5} gt $EcoStrengthTable.{$LocFaction}.{4}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{4} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{5}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 7,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- S: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6} != $EcoStrengthTable.{$LocFaction}.{5})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6} gt $EcoStrengthTable.{$LocFaction}.{5}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{5} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{6}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- Stations: # -->
							<set_value name="$LocText" exact="''"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}? and ($DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7} != $EcoStrengthTable.{$LocFaction}.{6})">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7} gt $EcoStrengthTable.{$LocFaction}.{6}">
									<set_value name="$LocText" exact="'%s'.[$EcoStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7}]"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'+%s'.[$EcoStrengthTable.{$LocFaction}.{6} - $DAMVT.$DWEcoStrengthHistory.{$LocFaction}.{7}]"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 9,
								$colSpan = 2,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddMilStrengthHistorySummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 1,
							$colSpan = 3,
							$text = {1001,9191},
							$halign = 'left',
							]"/>
						<!-- Total: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{2} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{2} != $LocGalaxyTotal.{1})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{2} gt $LocGalaxyTotal.{1}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{2}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{2}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 4,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- XL: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{3} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{3} != $LocGalaxyTotal.{2})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{3} gt $LocGalaxyTotal.{2}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{3}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{3}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 5,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- L: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{4} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{4} != $LocGalaxyTotal.{3})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{4} gt $LocGalaxyTotal.{3}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{4}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{4}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 6,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- M: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{5} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{5} != $LocGalaxyTotal.{4})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{5} gt $LocGalaxyTotal.{4}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{5}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{5}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 7,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- S: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{6} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{6} != $LocGalaxyTotal.{5})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{6} gt $LocGalaxyTotal.{5}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{6}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{6}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 8,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- Threatscore: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and $DAMVT.$DWMilStrengthHistory.$Galaxy.{7} and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{7} != $LocGalaxyTotal.{6})">
							<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy.{7} gt $LocGalaxyTotal.{6}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{7}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWMilStrengthHistory.$Galaxy.{7}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 9,
							$colSpan = 2,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DAMVT.$DWMilStrengthHistory.$Galaxy? and ($DAMVT.$DWMilStrengthHistory.$Galaxy.{1} lt player.age)">
							<set_value name="$LocNumber" exact="(player.age - $DAMVT.$DWMilStrengthHistory.$Galaxy.{1})s"/>
							<set_value name="$LocTimeString" exact="''"/>
							<do_if value="$LocNumber gt (3600s * 24)">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%d'},{1001,104}]" comment="days" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 3600s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%H'},{1001,102}]" comment="hours" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 60s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%M'},{1001,103}]" comment="minutes" operation="add"/>
							</do_if>
							<do_if value="$LocNumber ge 1s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%S'},{1001,100}]" comment="seconds" operation="add"/>
							</do_if>
							<set_value name="$LocText" exact="{33232474,2400}.[$LocTimeString]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocNumber"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddEcoStrengthHistorySummaryRow">
					<actions>
						<!-- Horizontal Line -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1, 
								$colSpan = event.param.$columns,
								$height = 2,
								$fontsize = 1,
								$cellBGColor = 'Color.row_separator',
							]"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<!-- Galaxy-wide -->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 1,
							$colSpan = 3,
							$text = {1001,9191},
							$halign = 'left',
							]"/>
						<!-- Total: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} != $LocGalaxyTotal.{1})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{2} gt $LocGalaxyTotal.{1}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{1} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{2}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 4,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- XL: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} != $LocGalaxyTotal.{2})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{3} gt $LocGalaxyTotal.{2}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{2} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{3}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 5,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- L: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} != $LocGalaxyTotal.{3})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{4} gt $LocGalaxyTotal.{3}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{3} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{4}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 6,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- M: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} != $LocGalaxyTotal.{4})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{5} gt $LocGalaxyTotal.{4}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{4} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{5}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 7,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- S: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} != $LocGalaxyTotal.{5})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{6} gt $LocGalaxyTotal.{5}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{5} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{6}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 8,
							$colSpan = 1,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<!-- Stations: # -->
						<set_value name="$LocText" exact="''"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} != $LocGalaxyTotal.{6})">
							<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy.{7} gt $LocGalaxyTotal.{6}">
								<set_value name="$LocText" exact="'%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7}]"/>
							</do_if>
							<do_else>
								<set_value name="$LocText" exact="'+%s'.[$LocGalaxyTotal.{6} - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{7}]"/>
							</do_else>
						</do_if>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 9,
							$colSpan = 2,
							$text = $LocText,
							$halign = 'center',
							]"/>
						<remove_value name="$LocText"/>
						<do_if value="$DAMVT.$DWEcoStrengthHistory.$Galaxy? and ($DAMVT.$DWEcoStrengthHistory.$Galaxy.{1} lt player.age)">
							<set_value name="$LocNumber" exact="(player.age - $DAMVT.$DWEcoStrengthHistory.$Galaxy.{1})s"/>
							<set_value name="$LocTimeString" exact="''"/>
							<do_if value="$LocNumber gt (3600s * 24)">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%d'},{1001,104}]" comment="days" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 3600s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%H'},{1001,102}]" comment="hours" operation="add"/>
							</do_if>
							<do_if value="$LocNumber gt 60s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%M'},{1001,103}]" comment="minutes" operation="add"/>
							</do_if>
							<do_if value="$LocNumber ge 1s">
								<set_value name="$LocTimeString" exact="'%s%s '.[$LocNumber.formatted.{'%S'},{1001,100}]" comment="seconds" operation="add"/>
							</do_if>
							<set_value name="$LocText" exact="{33232474,2400}.[$LocTimeString]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row" param="table[$selectable = false]"/>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = event.param.$columns,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocNumber"/>
							<remove_value name="$LocText"/>
						</do_if>
					</actions>
				</library>
				<library name="Library_AddFactionEconStrengthRows">
					<actions>
						<do_if value="$DADynamicWarFactionOne">
							<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
							<!-- XL -->
							<find_ship_by_true_owner name="$XLTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$XLDockedTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$XLDockedTradeShips" list="$XLTradeShips" multiple="true"/>
							<append_list_elements name="$XLTradeShips" other="$XLDockedTradeShips"/>
							<set_value name="$MouseOverText3a" exact="{1001,9010} + {1001,120} + [@$XLTradeShips.count,0].max"/>
							<find_ship_by_true_owner name="$XLBuildShips" multiple="true" checkoperational="true" primarypurpose="purpose.build" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$XLDockedBuildShips" multiple="true" checkoperational="true" primarypurpose="purpose.build" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$XLDockedBuildShips" list="$XLBuildShips" multiple="true"/>
							<append_list_elements name="$XLBuildShips" other="$XLDockedBuildShips"/>
							<set_value name="$MouseOverText3b" exact="{1001,9012} + {1001,120} + [@$XLBuildShips.count,0].max"/>
							<find_ship_by_true_owner name="$XLOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true">
								<match_any>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner name="$XLDockedOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_xl" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.mine"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<remove_from_list name="$XLDockedOtherShips" list="$XLOtherShips" multiple="true"/>
							<append_list_elements name="$XLOtherShips" other="$XLDockedOtherShips"/>
							<set_value name="$MouseOverText3c" exact="{1001,9014} + {1001,120} + [@$XLOtherShips.count,0].max"/>
							<set_value name="$XLShips" exact="([@$XLTradeShips.count,0].max) + ([@$XLBuildShips.count,0].max) + ([@$XLOtherShips.count,0].max)"/>
							<set_value name="$MouseOverText3" exact="$DADynamicWarFactionOne.knownname + ' ' + {1001,48} + ': ' + $MouseOverText3a + ' ' + $MouseOverText3b + ' ' + $MouseOverText3c"/>
							<!-- L -->
							<find_ship_by_true_owner name="$LTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$LDockedTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$LDockedTradeShips" list="$LTradeShips" multiple="true"/>
							<append_list_elements name="$LTradeShips" other="$LDockedTradeShips"/>
							<set_value name="$MouseOverText4a" exact="{1001,9010} + {1001,120} + [@$LTradeShips.count,0].max"/>
							<find_ship_by_true_owner name="$LMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$LDockedMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$LDockedMineShips" list="$LMineShips" multiple="true"/>
							<append_list_elements name="$LMineShips" other="$LDockedMineShips"/>
							<set_value name="$MouseOverText4b" exact="{1001,9013} + {1001,120} + [@$LMineShips.count,0].max"/>
							<find_ship_by_true_owner name="$LOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner name="$LDockedOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_l" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<remove_from_list name="$LDockedOtherShips" list="$LOtherShips" multiple="true"/>
							<append_list_elements name="$LOtherShips" other="$LDockedOtherShips"/>
							<set_value name="$MouseOverText4c" exact="{1001,9014} + {1001,120} + [@$LOtherShips.count,0].max"/>
							<set_value name="$LShips" exact="([@$LTradeShips.count,0].max) + ([@$LMineShips.count,0].max) + ([@$LOtherShips.count,0].max)"/>
							<set_value name="$MouseOverText4" exact="$DADynamicWarFactionOne.knownname + ' ' + {1001,49} + ': ' + $MouseOverText4a + ' ' + $MouseOverText4b + ' ' + $MouseOverText4c"/>
							<!-- M -->
							<find_ship_by_true_owner name="$MTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$MDockedTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$MDockedTradeShips" list="$MTradeShips" multiple="true"/>
							<append_list_elements name="$MTradeShips" other="$MDockedTradeShips"/>
							<set_value name="$MouseOverText5a" exact="{1001,9010} + {1001,120} + [@$MTradeShips.count,0].max"/>
							<find_ship_by_true_owner name="$MMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$MDockedMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$MDockedMineShips" list="$MMineShips" multiple="true"/>
							<append_list_elements name="$MMineShips" other="$MDockedMineShips"/>
							<set_value name="$MouseOverText5b" exact="{1001,9013} + {1001,120} + [@$MMineShips.count,0].max"/>
							<find_ship_by_true_owner name="$MOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner name="$MDockedOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_m" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<remove_from_list name="$MDockedOtherShips" list="$MOtherShips" multiple="true"/>
							<append_list_elements name="$MOtherShips" other="$MDockedOtherShips"/>
							<set_value name="$MouseOverText5c" exact="{1001,9014} + {1001,120} + [@$MOtherShips.count,0].max"/>
							<set_value name="$MShips" exact="([@$MTradeShips.count,0].max) + ([@$MMineShips.count,0].max) + ([@$MOtherShips.count,0].max)"/>
							<set_value name="$MouseOverText5" exact="$DADynamicWarFactionOne.knownname + ' ' + {1001,50} + ': ' + $MouseOverText5a + ' ' + $MouseOverText5b + ' ' + $MouseOverText5c"/>
							<!-- S -->
							<find_ship_by_true_owner name="$STradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$SDockedTradeShips" multiple="true" checkoperational="true" primarypurpose="purpose.trade" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$SDockedTradeShips" list="$STradeShips" multiple="true"/>
							<append_list_elements name="$STradeShips" other="$SDockedTradeShips"/>
							<set_value name="$MouseOverText6a" exact="{1001,9010} + {1001,120} + [@$STradeShips.count,0].max"/>
							<find_ship_by_true_owner name="$SMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true"/>
							<find_ship_by_true_owner name="$SDockedMineShips" multiple="true" checkoperational="true" primarypurpose="purpose.mine" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true"/>
							<remove_from_list name="$SDockedMineShips" list="$SMineShips" multiple="true"/>
							<append_list_elements name="$SMineShips" other="$SDockedMineShips"/>
							<set_value name="$MouseOverText6b" exact="{1001,9013} + {1001,120} + [@$SMineShips.count,0].max"/>
							<!-- OTHER -->
							<find_ship_by_true_owner name="$SOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<find_ship_by_true_owner name="$SDockedOtherShips" multiple="true" checkoperational="true" masstraffic="false" unit="false" class="class.ship_s" space="player.galaxy" faction="$DADynamicWarFactionOne" docked="true" recursive="true">
								<match_any>
									<match primarypurpose="purpose.build"/>
									<match primarypurpose="purpose.salvage"/>
									<match primarypurpose="purpose.dismantling"/>
								</match_any>
							</find_ship_by_true_owner>
							<remove_from_list name="$SDockedOtherShips" list="$SOtherShips" multiple="true"/>
							<append_list_elements name="$SOtherShips" other="$SDockedOtherShips"/>
							<set_value name="$MouseOverText6c" exact="{1001,9014} + {1001,120} + [@$SOtherShips.count,0].max"/>
							<set_value name="$SShips" exact="([@$STradeShips.count,0].max) + ([@$SMineShips.count,0].max) + ([@$SOtherShips.count,0].max)"/>
							<set_value name="$MouseOverText6" exact="$DADynamicWarFactionOne.knownname + ' ' + {1001,51} + ': ' + $MouseOverText6a + ' ' + $MouseOverText6b + ' ' + $MouseOverText6c"/>
							<!-- Stations -->
							<find_station_by_true_owner name="$Stations" multiple="true" checkoperational="true" space="player.galaxy" faction="$DADynamicWarFactionOne"/>
							<!-- Total -->
							<set_value name="$TotalShips" exact="$XLShips + $LShips + $MShips + $SShips"/>
							<set_value name="$LocGalaxyTotal" exact="$TotalShips" operation="add"/>
							<set_value name="$LocGalaxyTotalXL" exact="$XLShips" operation="add"/>
							<set_value name="$LocGalaxyTotalL" exact="$LShips" operation="add"/>
							<set_value name="$LocGalaxyTotalM" exact="$MShips" operation="add"/>
							<set_value name="$LocGalaxyTotalS" exact="$SShips" operation="add"/>
							<set_value name="$LocGalaxyTotalStations" exact="$Stations.count" operation="add"/>
							<do_if value="not $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}?">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}" exact="[player.age,$TotalShips,$XLShips,$LShips,$MShips,$SShips,([@$Stations.count,0].max)]"/>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 1,
								$colSpan = 3,
								$mouseOverText = $DADynamicWarFactionOne.knownname,
								$text = $DADynamicWarFactionOne.knownname,
								$halign = 'left',
								]"/>
							<!-- Total: # -->
							<set_value name="$LocText" exact="'%s'.[$TotalShips]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{2} != $TotalShips)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{2} gt $TotalShips">
									<set_value name="$LocText" exact="'(%s)'.[$TotalShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{2}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$TotalShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{2}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 4,
								$colSpan = 1,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- XL: # -->
							<set_value name="$LocText" exact="'%s'.[$XLShips]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{3} != $XLShips)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{3} gt $XLShips">
									<set_value name="$LocText" exact="'(%s)'.[$XLShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{3}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$XLShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{3}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 5,
								$colSpan = 1,
								$mouseOverText = $MouseOverText3,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- L: # -->
							<set_value name="$LocText" exact="'%s'.[$LShips]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{4} != $LShips)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{4} gt $LShips">
									<set_value name="$LocText" exact="'(%s)'.[$LShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{4}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$LShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{4}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 6,
								$colSpan = 1,
								$mouseOverText = $MouseOverText4,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- M: # -->
							<set_value name="$LocText" exact="'%s'.[$MShips]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{5} != $MShips)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{5} gt $MShips">
									<set_value name="$LocText" exact="'(%s)'.[$MShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{5}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$MShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{5}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 7,
								$colSpan = 1,
								$mouseOverText = $MouseOverText5,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- S: # -->
							<set_value name="$LocText" exact="'%s'.[$SShips]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{6} != $SShips)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{6} gt $SShips">
									<set_value name="$LocText" exact="'(%s)'.[$SShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{6}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$SShips - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{6}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 8,
								$colSpan = 1,
								$mouseOverText = $MouseOverText6,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<!-- Stations: # -->
							<set_value name="$LocText" exact="'%s'.[$Stations.count]"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and ($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{7} != $Stations.count)">
								<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{7} gt $Stations.count">
									<set_value name="$LocText" exact="'(%s)'.[$Stations.count - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{7}]" operation="add"/>
								</do_if>
								<do_else>
									<set_value name="$LocText" exact="'(+%s)'.[$Stations.count - $DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{7}]" operation="add"/>
								</do_else>
							</do_if>
							<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
								$col = 9,
								$colSpan = 2,
								$text = $LocText,
								$halign = 'center',
								]"/>
							<remove_value name="$LocText"/>
							<do_if value="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}? and (($DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}.{1} + 5s) le player.age)">
								<set_value name="$DAMVT.$DWEcoStrengthHistory.{$DADynamicWarFactionOne}" exact="[player.age,$TotalShips,$XLShips,$LShips,$MShips,$SShips,([@$Stations.count,0].max)]"/>
							</do_if>
							<remove_value name="$XLTradeShips"/>
							<remove_value name="$XLDockedTradeShips"/>
							<remove_value name="$MouseOverText3a"/>
							<remove_value name="$XLBuildShips"/>
							<remove_value name="$XLDockedBuildShips"/>
							<remove_value name="$MouseOverText3b"/>
							<remove_value name="$XLOtherShips"/>
							<remove_value name="$XLDockedOtherShips"/>
							<remove_value name="$MouseOverText3c"/>
							<remove_value name="$XLShips"/>
							<remove_value name="$MouseOverText3"/>
							<remove_value name="$LTradeShips"/>
							<remove_value name="$LDockedTradeShips"/>
							<remove_value name="$MouseOverText4a"/>
							<remove_value name="$LMineShips"/>
							<remove_value name="$LDockedMineShips"/>
							<remove_value name="$MouseOverText4b"/>
							<remove_value name="$LOtherShips"/>
							<remove_value name="$LDockedOtherShips"/>
							<remove_value name="$MouseOverText4c"/>
							<remove_value name="$LShips"/>
							<remove_value name="$MouseOverText4"/>
							<remove_value name="$MTradeShips"/>
							<remove_value name="$MDockedTradeShips"/>
							<remove_value name="$MouseOverText5a"/>
							<remove_value name="$MMineShips"/>
							<remove_value name="$MDockedMineShips"/>
							<remove_value name="$MouseOverText5b"/>
							<remove_value name="$MOtherShips"/>
							<remove_value name="$MDockedOtherShips"/>
							<remove_value name="$MouseOverText5c"/>
							<remove_value name="$MShips"/>
							<remove_value name="$MouseOverText5"/>
							<remove_value name="$STradeShips"/>
							<remove_value name="$SDockedTradeShips"/>
							<remove_value name="$MouseOverText6a"/>
							<remove_value name="$SMineShips"/>
							<remove_value name="$SDockedMineShips"/>
							<remove_value name="$MouseOverText6b"/>
							<remove_value name="$SOtherShips"/>
							<remove_value name="$SDockedOtherShips"/>
							<remove_value name="$MouseOverText6c"/>
							<remove_value name="$SShips"/>
							<remove_value name="$MouseOverText6"/>
						</do_if>
					</actions>
				</library>
				<!-- Base Menu Functionality Libraries -->
				<library name="Library_DAMenuGetFactions">
					<actions>
						<set_value name="$FactionList" exact="[]"/>
						<set_value name="$ClaimspaceList" exact="[]"/>
						<set_value name="$EconomicList" exact="[]"/>
						<set_value name="$VisitorList" exact="[]"/>
						<set_value name="$PrivateLoadoutList" exact="[]"/>
						<set_value name="$HiddenList" exact="[]"/>
						<set_value name="$ExcludedFactions" exact="[]"/>
						<!-- Get Factions -->
						<get_factions_by_tag tag="tag.claimspace" result="$ClaimspaceList"/>
						<get_factions_by_tag tag="tag.economic" result="$EconomicList"/>
						<get_factions_by_tag tag="tag.visitor" result="$VisitorList" comment="trash"/>
						<get_factions_by_tag tag="tag.privateloadout" result="$PrivateLoadoutList"/>
						<get_factions_by_tag tag="tag.hidden" result="$HiddenList"/>
						<!-- Add Factions from ClaimspaceList EconomicList PrivateLoadoutList -->
						<append_list_elements name="$FactionList" other="$ClaimspaceList"/>
						<remove_from_list name="$EconomicList" list="$FactionList" multiple="true"/>
						<append_list_elements name="$FactionList" other="$EconomicList"/>
						<remove_from_list name="$PrivateLoadoutList" list="$FactionList" multiple="true"/>
						<append_list_elements name="$FactionList" other="$PrivateLoadoutList"/>
						<!-- Always remove HiddenList VisitorList -->
						<append_list_elements name="$ExcludedFactions" other="$HiddenList"/>
						<append_list_elements name="$ExcludedFactions" other="$VisitorList"/>
						<!-- Set up excluded list depending on menu that calls library -->
						<do_if value="@$WhatFactions == 'All'">
							<!-- Nothing needed -->
						</do_if>
						<do_elseif value="@$WhatFactions == 'ChangeRelations'">
							<!-- Remove factions that can not have relations changed -->
							<append_to_list name="$ExcludedFactions" exact="faction.khaak"/>
							<append_to_list name="$ExcludedFactions" exact="faction.xenon"/>
						</do_elseif>
						<do_elseif value="@$WhatFactions == 'DetailView'">
							<!-- Remove factions without an economy -->
							<!--
							<do_if value="faction.fallensplit?">
								<append_to_list name="$ExcludedFactions" exact="faction.fallensplit"/>
							</do_if>
							<do_if value="faction.yaki?">
								<append_to_list name="$ExcludedFactions" exact="faction.yaki"/>
							</do_if>
							-->
						</do_elseif>
						<do_else>
							<append_to_list name="$ExcludedFactions" exact="faction.khaak"/>
							<append_to_list name="$ExcludedFactions" exact="faction.xenon"/>
							<append_to_list name="$ExcludedFactions" exact="faction.fallensplit"/>
							<append_to_list name="$ExcludedFactions" exact="faction.yaki"/>
						</do_else>
						<remove_from_list name="$FactionList" list="$ExcludedFactions" multiple="true"/>
						<do_for_each name="$LocFaction" in="$FactionList" reverse="true">
							<do_if value="$LocFaction == null">
								<remove_from_list name="$FactionList" exact="$LocFaction"/>
							</do_if>
							<do_elseif value="$LocFaction.isactive != true">
								<remove_from_list name="$FactionList" exact="$LocFaction"/>
							</do_elseif>
						</do_for_each>
						<sort_list list="$FactionList" sortbyvalue="loop.element.knownname"/>
						<!-- $FactionList has the factions we care about -->
					</actions>
				</library>
				<library name="Library_DAMenuAddFactionDropdown">
					<actions>
						<include_actions ref="Library_DAMenuGetFactions"/>
						<!--Figure out which entry is currently selected.-->
						<set_value name="$dropdown_index" exact="$FactionList.indexof.{$DAMVT.$DAMenuSelectedFaction}"/>
						<!--Translate to list of tables, that pair factions with names.-->
						<set_value name="$options_list" exact="[]"/>
						<do_for_each name="$faction" in="$FactionList">
							<set_value name="$name" exact="'%s'.[$faction.knownname]"/>
							<append_to_list name="$options_list" exact="table[
							$text = $name,
							$value = $faction,
							]"/>
						</do_for_each>
						<signal_cue_instantly cue="md.Simple_Menu_API.Add_Row"/>
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Text" param="table[
							$col = 1,
							$colSpan = 2,
							$text = 'Faction:',
							]"/>
						<!--Have this stretch over extra columns.-->
						<signal_cue_instantly cue="md.Simple_Menu_API.Make_Dropdown" param="table[
							$col = 3, 
							$options = $options_list,
							$startOption = $dropdown_index,
							$colSpan = event.param.$columns - 2,
							$onDropDownConfirmed = Handle_Option_Change,
							$echo = table[
								$type  = 'dropdown',
								$name  = '$DAMenuSelectedFaction',
								$refresh = true,
								],
							]"/>
					</actions>
				</library>
				<!-- Base Menu Functionality Cues -->
				<cue name="Handle_Option_Change" instantiate="true">
					<conditions>
						<event_cue_signalled/>
					</conditions>
					<actions>
						<set_value name="$args" exact="event.param"/>
						<do_if value="$args.$echo.$type == 'dropdown'">
							<set_value name="$DAMVT.{$args.$echo.$name}" exact="$args.$option.$value"/>
						</do_if>
						<do_else>
							<set_value name="$DAMVT.{$args.$echo.$name}" exact="$args.$echo.$value"/>
						</do_else>
						<do_if value="$args.$echo.$refresh">
							<signal_cue_instantly cue="md.Simple_Menu_API.Refresh_Menu"/>
						</do_if>
					</actions>
				</cue>
			</cues>
		</cue>
	</cues>
</mdscript>